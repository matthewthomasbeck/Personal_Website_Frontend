/*! For license information please see controller.bundle.js.LICENSE.txt */
(()=>{var e={148:(e,t,n)=>{"use strict";const r=n(4438),i=function(e,t,n){const o={};if(!t.alwaysCreateTextNode&&(!e.child||r.isEmptyObject(e.child))&&(!e.attrsMap||r.isEmptyObject(e.attrsMap)))return r.isExist(e.val)?e.val:"";if(r.isExist(e.val)&&("string"!=typeof e.val||""!==e.val&&e.val!==t.cdataPositionChar)){const i=r.isTagNameInArrayMode(e.tagname,t.arrayMode,n);o[t.textNodeName]=i?[e.val]:e.val}r.merge(o,e.attrsMap,t.arrayMode);const s=Object.keys(e.child);for(let a=0;a<s.length;a++){const u=s[a];if(e.child[u]&&e.child[u].length>1){o[u]=[];for(let n in e.child[u])e.child[u].hasOwnProperty(n)&&o[u].push(i(e.child[u][n],t,u))}else{const s=i(e.child[u][0],t,u),a=!0===t.arrayMode&&"object"==typeof s||r.isTagNameInArrayMode(u,t.arrayMode,n);o[u]=a?[s]:s}}return o};t.convertToJson=i},152:function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(1)),r(n(2)),r(n(3)),r(n(4)),r(n(5)),r(n(6)),r(n(7)),r(n(8)),r(n(9)),r(n(10)),r(n(11)),r(n(12)),r(n(13))},function(e,t,n){e.exports={a:"Anchor__a___1_Iz8"}},function(e,t,n){e.exports={button:"Button__button___vS7Mv",signInButton:"Button__signInButton___3bUH-",googleSignInButton:"Button__googleSignInButton___1YiCu",signInButtonIcon:"Button__signInButtonIcon___ihN75",auth0SignInButton:"Button__auth0SignInButton___znnCj",facebookSignInButton:"Button__facebookSignInButton___34Txh",amazonSignInButton:"Button__amazonSignInButton___2EMtl",oAuthSignInButton:"Button__oAuthSignInButton___3UGOl",signInButtonContent:"Button__signInButtonContent___xqTXJ"}},function(e,t,n){e.exports={formContainer:"Form__formContainer___1GA3x",formSection:"Form__formSection___1PPvW",formField:"Form__formField___38Ikl",formRow:"Form__formRow___2mwRs"}},function(e,t,n){e.exports={hint:"Hint__hint___2XngB"}},function(e,t,n){e.exports={input:"Input__input___3e_bf",inputLabel:"Input__inputLabel___3VF0S",label:"Input__label___23sO8",radio:"Input__radio___2hllK"}},function(e,t,n){e.exports={navBar:"Nav__navBar___xtCFA",navRight:"Nav__navRight___1QG2J",nav:"Nav__nav___2Dx2Y",navItem:"Nav__navItem___1LtFQ"}},function(e,t,n){e.exports={photoPickerButton:"PhotoPicker__photoPickerButton___2XdVn",photoPlaceholder:"PhotoPicker__photoPlaceholder___2JXO4",photoPlaceholderIcon:"PhotoPicker__photoPlaceholderIcon___3Et71"}},function(e,t,n){e.exports={container:"Section__container___3YYTG",actionRow:"Section__actionRow___2LWSU",sectionHeader:"Section__sectionHeader___2djyg",sectionHeaderHint:"Section__sectionHeaderHint___3Wxdc",sectionBody:"Section__sectionBody___ihqqd",sectionHeaderContent:"Section__sectionHeaderContent___1UCqa",sectionFooter:"Section__sectionFooter___1T54C",sectionFooterPrimaryContent:"Section__sectionFooterPrimaryContent___2r9ZX",sectionFooterSecondaryContent:"Section__sectionFooterSecondaryContent___Nj41Q"}},function(e,t,n){e.exports={selectInput:"SelectInput__selectInput___3efO4"}},function(e,t,n){e.exports={strike:"Strike__strike___1XV1b",strikeContent:"Strike__strikeContent___10gLb"}},function(e,t,n){e.exports={toast:"Toast__toast___XXr3v",toastClose:"Toast__toastClose___18lU4"}},function(e,t,n){e.exports={totpQrcode:"Totp__totpQrcode___1crLx"}},function(e,t,n){e.exports={sumerianSceneContainer:"XR__sumerianSceneContainer___3nVMt",sumerianScene:"XR__sumerianScene___2Tt7-",loadingOverlay:"XR__loadingOverlay___IbqcI",loadingContainer:"XR__loadingContainer___2Itxb",loadingLogo:"XR__loadingLogo___Ub7xQ",loadingSceneName:"XR__loadingSceneName___3__ne",loadingBar:"XR__loadingBar___2vcke",loadingBarFill:"XR__loadingBarFill___3M-D9",sceneErrorText:"XR__sceneErrorText___2y0tp",sceneBar:"XR__sceneBar___2ShrP",sceneName:"XR__sceneName___1ApHr",sceneActions:"XR__sceneActions___7plGs",actionButton:"XR__actionButton___2poIM",tooltip:"XR__tooltip___UYyhn",actionIcon:"XR__actionIcon___2qnd2",autoShowTooltip:"XR__autoShowTooltip___V1QH7"}}])},204:e=>{"use strict";e.exports=Object},280:(e,t,n)=>{"use strict";var r,i=n(4342),o=n(3859);try{r=[].__proto__===Array.prototype}catch(e){if(!e||"object"!=typeof e||!("code"in e)||"ERR_PROTO_ACCESS"!==e.code)throw e}var s=!!r&&o&&o(Object.prototype,"__proto__"),a=Object,u=a.getPrototypeOf;e.exports=s&&"function"==typeof s.get?i([s.get]):"function"==typeof u&&function(e){return u(null==e?e:a(e))}},315:(e,t,n)=>{"use strict";var r=n(677),i=n(508),o=n(5371),s=n(8315),a=r("%Map%",!0),u=i("Map.prototype.get",!0),c=i("Map.prototype.set",!0),l=i("Map.prototype.has",!0),f=i("Map.prototype.delete",!0),d=i("Map.prototype.size",!0);e.exports=!!a&&function(){var e,t={assert:function(e){if(!t.has(e))throw new s("Side channel does not contain "+o(e))},delete:function(t){if(e){var n=f(e,t);return 0===d(e)&&(e=void 0),n}return!1},get:function(t){if(e)return u(e,t)},has:function(t){return!!e&&l(e,t)},set:function(t,n){e||(e=new a),c(e,t,n)}};return t}},334:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Array.from){for(var t=new Uint32Array(e.length);0<e.length;)t[0]=e[0];return t}return Uint32Array.from(e)}},364:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var r=n(5968);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var i=n(9285);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return i.isEmptyData}});var o=n(4581);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return o.numToUint8}});var s=n(334);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return s.uint32ArrayFrom}})},369:e=>{"use strict";e.exports=URIError},404:(e,t,n)=>{"use strict";n.r(t),n.d(t,{fromUtf8:()=>r,toUtf8:()=>i});var r=function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,63&i|128);else if(n+1<e.length&&55296==(64512&i)&&56320==(64512&e.charCodeAt(n+1))){var o=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(i>>12|224,i>>6&63|128,63&i|128)}return Uint8Array.from(t)}(e)},i=function(e){return"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var i=e[n];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){var o=e[++n];t+=String.fromCharCode((31&i)<<6|63&o)}else if(240<=i&&i<365){var s="%"+[i,e[++n],e[++n],e[++n]].map(function(e){return e.toString(16)}).join("%");t+=decodeURIComponent(s)}else t+=String.fromCharCode((15&i)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)}},508:(e,t,n)=>{"use strict";var r=n(677),i=n(4342),o=i([r("%String.prototype.indexOf%")]);e.exports=function(e,t){var n=r(e,!!t);return"function"==typeof n&&o(e,".prototype.")>-1?i([n]):n}},531:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,n(1327).__exportStar)(n(8279),t)},677:(e,t,n)=>{"use strict";var r,i=n(204),o=n(5543),s=n(5621),a=n(2186),u=n(8946),c=n(4644),l=n(8315),f=n(369),d=n(8442),h=n(2168),p=n(9196),g=n(9538),v=n(2040),y=n(4654),m=n(8357),b=Function,S=function(e){try{return b('"use strict"; return ('+e+").constructor;")()}catch(e){}},w=n(3859),_=n(8479),E=function(){throw new l},C=w?function(){try{return E}catch(e){try{return w(arguments,"callee").get}catch(e){return E}}}():E,A=n(3191)(),P=n(5724),x=n(6632),k=n(1288),I=n(1562),T=n(9756),O={},U="undefined"!=typeof Uint8Array&&P?P(Uint8Array):r,M={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":A&&P?P([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":O,"%AsyncGenerator%":O,"%AsyncGeneratorFunction%":O,"%AsyncIteratorPrototype%":O,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":o,"%eval%":eval,"%EvalError%":s,"%Float16Array%":"undefined"==typeof Float16Array?r:Float16Array,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":b,"%GeneratorFunction%":O,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":A&&P?P(P([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&A&&P?P((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":i,"%Object.getOwnPropertyDescriptor%":w,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":a,"%ReferenceError%":u,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&A&&P?P((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":A&&P?P(""[Symbol.iterator]()):r,"%Symbol%":A?Symbol:r,"%SyntaxError%":c,"%ThrowTypeError%":C,"%TypedArray%":U,"%TypeError%":l,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":f,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet,"%Function.prototype.call%":T,"%Function.prototype.apply%":I,"%Object.defineProperty%":_,"%Object.getPrototypeOf%":x,"%Math.abs%":d,"%Math.floor%":h,"%Math.max%":p,"%Math.min%":g,"%Math.pow%":v,"%Math.round%":y,"%Math.sign%":m,"%Reflect.getPrototypeOf%":k};if(P)try{null.error}catch(e){var L=P(P(e));M["%Error.prototype%"]=L}var R=function e(t){var n;if("%AsyncFunction%"===t)n=S("async function () {}");else if("%GeneratorFunction%"===t)n=S("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=S("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&P&&(n=P(i.prototype))}return M[t]=n,n},N={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},D=n(9239),j=n(5205),B=D.call(T,Array.prototype.concat),F=D.call(I,Array.prototype.splice),z=D.call(T,String.prototype.replace),K=D.call(T,String.prototype.slice),q=D.call(T,RegExp.prototype.exec),H=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,V=/\\(\\)?/g,W=function(e,t){var n,r=e;if(j(N,r)&&(r="%"+(n=N[r])[0]+"%"),j(M,r)){var i=M[r];if(i===O&&(i=R(r)),void 0===i&&!t)throw new l("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new c("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new l("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new l('"allowMissing" argument must be a boolean');if(null===q(/^%?[^%]*%?$/,e))throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=K(e,0,1),n=K(e,-1);if("%"===t&&"%"!==n)throw new c("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new c("invalid intrinsic syntax, expected opening `%`");var r=[];return z(e,H,function(e,t,n,i){r[r.length]=n?z(i,V,"$1"):t||e}),r}(e),r=n.length>0?n[0]:"",i=W("%"+r+"%",t),o=i.name,s=i.value,a=!1,u=i.alias;u&&(r=u[0],F(n,B([0,1],u)));for(var f=1,d=!0;f<n.length;f+=1){var h=n[f],p=K(h,0,1),g=K(h,-1);if(('"'===p||"'"===p||"`"===p||'"'===g||"'"===g||"`"===g)&&p!==g)throw new c("property names with quotes must have matching quotes");if("constructor"!==h&&d||(a=!0),j(M,o="%"+(r+="."+h)+"%"))s=M[o];else if(null!=s){if(!(h in s)){if(!t)throw new l("base intrinsic for "+e+" exists, but the property is not available.");return}if(w&&f+1>=n.length){var v=w(s,h);s=(d=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:s[h]}else d=j(s,h),s=s[h];d&&!a&&(M[o]=s)}}return s}},893:(e,t,n)=>{"use strict";var r=n(2460),i=n(8754),o=n(5645);e.exports={formats:o,parse:i,stringify:r}},898:(e,t,n)=>{"use strict";var r=n(5980);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var s=[];r.forEach(t,function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),s.push(i(t)+"="+i(e))}))}),o=s.join("&")}if(o){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},998:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(364),i=n(5659),o=n(4298),s=function(){function e(e){this.toHash=new Uint8Array(0),void 0!==e&&(this.key=new Promise(function(t,n){(0,o.locateWindow)().crypto.subtle.importKey("raw",(0,r.convertToBuffer)(e),i.SHA_256_HMAC_ALGO,!1,["sign"]).then(t,n)}),this.key.catch(function(){}))}return e.prototype.update=function(e){if(!(0,r.isEmptyData)(e)){var t=(0,r.convertToBuffer)(e),n=new Uint8Array(this.toHash.byteLength+t.byteLength);n.set(this.toHash,0),n.set(t,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var e=this;return this.key?this.key.then(function(t){return(0,o.locateWindow)().crypto.subtle.sign(i.SHA_256_HMAC_ALGO,t,e.toHash).then(function(e){return new Uint8Array(e)})}):(0,r.isEmptyData)(this.toHash)?Promise.resolve(i.EMPTY_DATA_SHA_256):Promise.resolve().then(function(){return(0,o.locateWindow)().crypto.subtle.digest(i.SHA_256_HASH,e.toHash)}).then(function(e){return Promise.resolve(new Uint8Array(e))})},e}();t.Sha256=s},1045:(e,t,n)=>{"use strict";const r=n(4438),i=n(4438).buildOptions,o=n(3321),s=n(5679);"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,r.nameRegexp),!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const a={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,ignoreNameSpace:!1,allowBooleanAttributes:!1,parseNodeValue:!0,parseAttributeValue:!1,arrayMode:!1,trimValues:!0,cdataTagName:!1,cdataPositionChar:"\\c",numParseOptions:{hex:!0,leadingZeros:!0},tagValueProcessor:function(e,t){return e},attrValueProcessor:function(e,t){return e},stopNodes:[],alwaysCreateTextNode:!1};t.defaultOptions=a;const u=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","ignoreNameSpace","allowBooleanAttributes","parseNodeValue","parseAttributeValue","arrayMode","trimValues","cdataTagName","cdataPositionChar","tagValueProcessor","attrValueProcessor","parseTrueNumberOnly","numParseOptions","stopNodes","alwaysCreateTextNode"];function c(e,t,n){return t&&(n.trimValues&&(t=t.trim()),t=f(t=n.tagValueProcessor(t,e),n.parseNodeValue,n.numParseOptions)),t}function l(e,t){if(t.ignoreNameSpace){const t=e.split(":"),n="/"===e.charAt(0)?"/":"";if("xmlns"===t[0])return"";2===t.length&&(e=n+t[1])}return e}function f(e,t,n){if(t&&"string"==typeof e){const t=e.trim();return"true"===t||"false"!==t&&s(e,n)}return r.isExist(e)?e:""}t.props=u;const d=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])(.*?)\\3)?","g");function h(e,t){if(!t.ignoreAttributes&&"string"==typeof e){e=e.replace(/\r?\n/g," ");const n=r.getAllMatches(e,d),i=n.length,o={};for(let e=0;e<i;e++){const r=l(n[e][1],t);r.length&&(void 0!==n[e][4]?(t.trimValues&&(n[e][4]=n[e][4].trim()),n[e][4]=t.attrValueProcessor(n[e][4],r),o[t.attributeNamePrefix+r]=f(n[e][4],t.parseAttributeValue,t.numParseOptions)):t.allowBooleanAttributes&&(o[t.attributeNamePrefix+r]=!0))}if(!Object.keys(o).length)return;if(t.attrNodeName){const e={};return e[t.attrNodeName]=o,e}return o}}function p(e,t){let n,r="";for(let i=t;i<e.length;i++){let t=e[i];if(n)t===n&&(n="");else if('"'===t||"'"===t)n=t;else{if(">"===t)return{data:r,index:i};"\t"===t&&(t=" ")}r+=t}}function g(e,t,n,r){const i=e.indexOf(t,n);if(-1===i)throw new Error(r);return i+t.length-1}t.getTraversalObj=function(e,t){e=e.replace(/\r\n?/g,"\n"),t=i(t,a,u);const n=new o("!xml");let s=n,l="";for(let n=0;n<e.length;n++)if("<"===e[n])if("/"===e[n+1]){const i=g(e,">",n,"Closing Tag is not closed.");let o=e.substring(n+2,i).trim();if(t.ignoreNameSpace){const e=o.indexOf(":");-1!==e&&(o=o.substr(e+1))}s&&(s.val?s.val=r.getValue(s.val)+""+c(o,l,t):s.val=c(o,l,t)),t.stopNodes.length&&t.stopNodes.includes(s.tagname)&&(s.child=[],null==s.attrsMap&&(s.attrsMap={}),s.val=e.substr(s.startIndex+1,n-s.startIndex-1)),s=s.parent,l="",n=i}else if("?"===e[n+1])n=g(e,"?>",n,"Pi Tag is not closed.");else if("!--"===e.substr(n+1,3))n=g(e,"--\x3e",n,"Comment is not closed.");else if("!D"===e.substr(n+1,2)){const t=g(e,">",n,"DOCTYPE is not closed.");n=e.substring(n,t).indexOf("[")>=0?e.indexOf("]>",n)+1:t}else if("!["===e.substr(n+1,2)){const i=g(e,"]]>",n,"CDATA is not closed.")-2,a=e.substring(n+9,i);if(l&&(s.val=r.getValue(s.val)+""+c(s.tagname,l,t),l=""),t.cdataTagName){const e=new o(t.cdataTagName,s,a);s.addChild(e),s.val=r.getValue(s.val)+t.cdataPositionChar,a&&(e.val=a)}else s.val=(s.val||"")+(a||"");n=i+2}else{const i=p(e,n+1);let a=i.data;const u=i.index,f=a.indexOf(" ");let d=a,g=!0;if(-1!==f&&(d=a.substr(0,f).replace(/\s\s*$/,""),a=a.substr(f+1)),t.ignoreNameSpace){const e=d.indexOf(":");-1!==e&&(d=d.substr(e+1),g=d!==i.data.substr(e+1))}if(s&&l&&"!xml"!==s.tagname&&(s.val=r.getValue(s.val)+""+c(s.tagname,l,t)),a.length>0&&a.lastIndexOf("/")===a.length-1){"/"===d[d.length-1]?(d=d.substr(0,d.length-1),a=d):a=a.substr(0,a.length-1);const e=new o(d,s,"");d!==a&&(e.attrsMap=h(a,t)),s.addChild(e)}else{const e=new o(d,s);t.stopNodes.length&&t.stopNodes.includes(e.tagname)&&(e.startIndex=u),d!==a&&g&&(e.attrsMap=h(a,t)),s.addChild(e),s=e}l="",n=u}else l+=e[n];return n}},1098:(e,t,n)=>{"use strict";var r=n(5980),i=n(9681),o=n(8440),s=n(4091),a=n(3128);function u(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a("canceled")}e.exports=function(e){return u(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||s.adapter)(e).then(function(t){return u(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t},function(t){return o(t)||(u(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},1120:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1288:e=>{"use strict";e.exports="undefined"!=typeof Reflect&&Reflect.getPrototypeOf||null},1290:()=>{},1327:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>o,__asyncDelegator:()=>S,__asyncGenerator:()=>b,__asyncValues:()=>w,__await:()=>m,__awaiter:()=>l,__classPrivateFieldGet:()=>A,__classPrivateFieldSet:()=>P,__createBinding:()=>d,__decorate:()=>a,__exportStar:()=>h,__extends:()=>i,__generator:()=>f,__importDefault:()=>C,__importStar:()=>E,__makeTemplateObject:()=>_,__metadata:()=>c,__param:()=>u,__read:()=>g,__rest:()=>s,__spread:()=>v,__spreadArrays:()=>y,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})}function f(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise(function(n,r){o.push([e,t,n,r])>1||a(e,t)})})}function a(e,t){try{(n=i[e](t)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function u(e){a("next",e)}function c(e){a("throw",e)}function l(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function S(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,i){!function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)}(r,i,(t=e[n](t)).done,t.value)})}}}function _(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function C(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function P(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},1472:function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map(function(e){return parseInt(e,10)||0});if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map(function(e){return parseInt(e,10)||0});if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,r){void 0===r&&(r=!1);var i=e.getVersionPrecision(t),o=e.getVersionPrecision(n),s=Math.max(i,o),a=0,u=e.map([t,n],function(t){var n=s-e.getVersionPrecision(t),r=t+new Array(n+1).join(".0");return e.map(r.split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});for(r&&(a=s-Math.min(i,o)),s-=1;s>=a;){if(u[0][s]>u[1][s])return 1;if(u[0][s]===u[1][s]){if(s===a)return 0;s-=1}else if(u[0][s]<u[1][s])return-1}},e.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},e.find=function(e,t){var n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){var i=e[n];if(t(i,n))return i}},e.assign=function(e){for(var t,n,r=e,i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];if(Object.assign)return Object.assign.apply(Object,[e].concat(o));var a=function(){var e=o[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach(function(t){r[t]=e[t]})};for(t=0,n=o.length;t<n;t+=1)a();return e},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e}();t.default=i,e.exports=t.default},18:function(e,t,n){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},o=n(18);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(){}var t,n;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},t=e,n=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}],null&&s(t.prototype,null),n&&s(t,n),e}();t.default=a,e.exports=t.default},91:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(92)),i=u(n(93)),o=u(n(94)),s=u(n(95)),a=u(n(17));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=a.default.find(r.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=a.default.find(i.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=a.default.find(o.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=a.default.find(s.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return a.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},r=0,i={},o=0;if(Object.keys(e).forEach(function(t){var s=e[t];"string"==typeof s?(i[t]=s,o+=1):"object"==typeof s&&(n[t]=s,r+=1)}),r>0){var s=Object.keys(n),u=a.default.find(s,function(e){return t.isOS(e)});if(u){var c=this.satisfies(n[u]);if(void 0!==c)return c}var l=a.default.find(s,function(e){return t.isPlatform(e)});if(l){var f=this.satisfies(n[l]);if(void 0!==f)return f}}if(o>0){var d=Object.keys(i),h=a.default.find(d,function(e){return t.isBrowser(e,!0)});if(void 0!==h)return this.compareVersion(i[h])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),i=a.default.getBrowserTypeByAlias(r);return t&&i&&(r=i.toLowerCase()),r===n},t.compareVersion=function(e){var t=[0],n=e,r=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(a.default.compareVersions(i,n,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some(function(e){return t.is(e)})},e}();t.default=c,e.exports=t.default},92:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=/version\/(\d+(\.?_?\d+)+)/i,s=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},n=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},n=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=s,e.exports=t.default},93:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:o.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=i.default.getWindowsVersionName(t);return{name:o.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:o.OS_MAP.iOS},n=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=i.default.getMacOSVersionName(t),r={name:o.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=i.default.getAndroidVersionName(t),r={name:o.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:o.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:o.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.PlayStation4,version:t}}}];t.default=s,e.exports=t.default},94:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];t.default=s,e.exports=t.default},95:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:o.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:o.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:o.ENGINE_MAP.Trident},n=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:o.ENGINE_MAP.Presto},n=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:o.ENGINE_MAP.Gecko},n=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:o.ENGINE_MAP.WebKit},n=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=s,e.exports=t.default}})},1562:e=>{"use strict";e.exports=Function.prototype.apply},1790:(e,t,n)=>{"use strict";const r=n(4438),i={allowBooleanAttributes:!1},o=["allowBooleanAttributes"];function s(e,t){const n=t;for(;t<e.length;t++)if("?"==e[t]||" "==e[t]){const r=e.substr(n,t-n);if(t>5&&"xml"===r)return p("InvalidXml","XML declaration allowed only at the start of the document.",y(e,t));if("?"==e[t]&&">"==e[t+1]){t++;break}continue}return t}function a(e,t){if(e.length>t+5&&"-"===e[t+1]&&"-"===e[t+2]){for(t+=3;t<e.length;t++)if("-"===e[t]&&"-"===e[t+1]&&">"===e[t+2]){t+=2;break}}else if(e.length>t+8&&"D"===e[t+1]&&"O"===e[t+2]&&"C"===e[t+3]&&"T"===e[t+4]&&"Y"===e[t+5]&&"P"===e[t+6]&&"E"===e[t+7]){let n=1;for(t+=8;t<e.length;t++)if("<"===e[t])n++;else if(">"===e[t]&&(n--,0===n))break}else if(e.length>t+9&&"["===e[t+1]&&"C"===e[t+2]&&"D"===e[t+3]&&"A"===e[t+4]&&"T"===e[t+5]&&"A"===e[t+6]&&"["===e[t+7])for(t+=8;t<e.length;t++)if("]"===e[t]&&"]"===e[t+1]&&">"===e[t+2]){t+=2;break}return t}t.validate=function(e,t){t=r.buildOptions(t,i,o);const n=[];let u=!1,c=!1;"\ufeff"===e[0]&&(e=e.substr(1));for(let r=0;r<e.length;r++)if("<"===e[r]&&"?"===e[r+1]){if(r+=2,r=s(e,r),r.err)return r}else{if("<"!==e[r]){if(" "===e[r]||"\t"===e[r]||"\n"===e[r]||"\r"===e[r])continue;return p("InvalidChar","char '"+e[r]+"' is not expected.",y(e,r))}{let i=r;if(r++,"!"===e[r]){r=a(e,r);continue}{let o=!1;"/"===e[r]&&(o=!0,r++);let f="";for(;r<e.length&&">"!==e[r]&&" "!==e[r]&&"\t"!==e[r]&&"\n"!==e[r]&&"\r"!==e[r];r++)f+=e[r];if(f=f.trim(),"/"===f[f.length-1]&&(f=f.substring(0,f.length-1),r--),!v(f)){let t;return t=0===f.trim().length?"Invalid space after '<'.":"Tag '"+f+"' is an invalid name.",p("InvalidTag",t,y(e,r))}const g=l(e,r);if(!1===g)return p("InvalidAttr","Attributes for '"+f+"' have open quote.",y(e,r));let m=g.value;if(r=g.index,"/"===m[m.length-1]){const n=r-m.length;m=m.substring(0,m.length-1);const i=d(m,t);if(!0!==i)return p(i.err.code,i.err.msg,y(e,n+i.err.line));u=!0}else if(o){if(!g.tagClosed)return p("InvalidTag","Closing tag '"+f+"' doesn't have proper closing.",y(e,r));if(m.trim().length>0)return p("InvalidTag","Closing tag '"+f+"' can't have attributes or invalid starting.",y(e,i));{const t=n.pop();if(f!==t.tagName){let n=y(e,t.tagStartPos);return p("InvalidTag","Expected closing tag '"+t.tagName+"' (opened in line "+n.line+", col "+n.col+") instead of closing tag '"+f+"'.",y(e,i))}0==n.length&&(c=!0)}}else{const o=d(m,t);if(!0!==o)return p(o.err.code,o.err.msg,y(e,r-m.length+o.err.line));if(!0===c)return p("InvalidXml","Multiple possible root nodes found.",y(e,r));n.push({tagName:f,tagStartPos:i}),u=!0}for(r++;r<e.length;r++)if("<"===e[r]){if("!"===e[r+1]){r++,r=a(e,r);continue}if("?"!==e[r+1])break;if(r=s(e,++r),r.err)return r}else if("&"===e[r]){const t=h(e,r);if(-1==t)return p("InvalidChar","char '&' is not expected.",y(e,r));r=t}"<"===e[r]&&r--}}}return u?1==n.length?p("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",y(e,n[0].tagStartPos)):!(n.length>0)||p("InvalidXml","Invalid '"+JSON.stringify(n.map(e=>e.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):p("InvalidXml","Start tag expected.",1)};const u='"',c="'";function l(e,t){let n="",r="",i=!1;for(;t<e.length;t++){if(e[t]===u||e[t]===c)""===r?r=e[t]:r!==e[t]||(r="");else if(">"===e[t]&&""===r){i=!0;break}n+=e[t]}return""===r&&{value:n,index:t,tagClosed:i}}const f=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function d(e,t){const n=r.getAllMatches(e,f),i={};for(let e=0;e<n.length;e++){if(0===n[e][1].length)return p("InvalidAttr","Attribute '"+n[e][2]+"' has no space in starting.",m(n[e]));if(void 0===n[e][3]&&!t.allowBooleanAttributes)return p("InvalidAttr","boolean attribute '"+n[e][2]+"' is not allowed.",m(n[e]));const r=n[e][2];if(!g(r))return p("InvalidAttr","Attribute '"+r+"' is an invalid name.",m(n[e]));if(i.hasOwnProperty(r))return p("InvalidAttr","Attribute '"+r+"' is repeated.",m(n[e]));i[r]=1}return!0}function h(e,t){if(";"===e[++t])return-1;if("#"===e[t])return function(e,t){let n=/\d/;for("x"===e[t]&&(t++,n=/[\da-fA-F]/);t<e.length;t++){if(";"===e[t])return t;if(!e[t].match(n))break}return-1}(e,++t);let n=0;for(;t<e.length;t++,n++)if(!(e[t].match(/\w/)&&n<20)){if(";"===e[t])break;return-1}return t}function p(e,t,n){return{err:{code:e,msg:t,line:n.line||n,col:n.col}}}function g(e){return r.isName(e)}function v(e){return r.isName(e)}function y(e,t){const n=e.substring(0,t).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function m(e){return e.startIndex+e[1].length}},1804:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMsWindow=void 0;var n=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];t.isMsWindow=function(e){if(function(e){return"MSInputMethodContext"in e&&"msCrypto"in e}(e)&&void 0!==e.msCrypto.subtle){var t=e.msCrypto,r=t.getRandomValues,i=t.subtle;return n.map(function(e){return i[e]}).concat(r).every(function(e){return"function"==typeof e})}return!1}},1881:(e,t,n)=>{var r,i,o=n(5558),s=n(8599),a=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],f=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:i;if(null==f||null==d){var h=o();null==f&&(f=r=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==d&&(d=i=16383&(h[6]<<8|h[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),g=void 0!==e.nsecs?e.nsecs:u+1,v=p-a+(g-u)/1e4;if(v<0&&void 0===e.clockseq&&(d=d+1&16383),(v<0||p>a)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=p,u=g,i=d;var y=(1e4*(268435455&(p+=122192928e5))+g)%4294967296;l[c++]=y>>>24&255,l[c++]=y>>>16&255,l[c++]=y>>>8&255,l[c++]=255&y;var m=p/4294967296*1e4&268435455;l[c++]=m>>>8&255,l[c++]=255&m,l[c++]=m>>>24&15|16,l[c++]=m>>>16&255,l[c++]=d>>>8|128,l[c++]=255&d;for(var b=0;b<6;++b)l[c+b]=f[b];return t||s(l)}},1891:(e,t,n)=>{"use strict";var r=n(5371),i=n(8315),o=function(e,t,n){for(var r,i=e;null!=(r=i.next);i=r)if(r.key===t)return i.next=r.next,n||(r.next=e.next,e.next=r),r};e.exports=function(){var e,t={assert:function(e){if(!t.has(e))throw new i("Side channel does not contain "+r(e))},delete:function(t){var n=e&&e.next,r=function(e,t){if(e)return o(e,t,!0)}(e,t);return r&&n&&n===r&&(e=void 0),!!r},get:function(t){return function(e,t){if(e){var n=o(e,t);return n&&n.value}}(e,t)},has:function(t){return function(e,t){return!!e&&!!o(e,t)}(e,t)},set:function(t,n){e||(e={next:void 0}),function(e,t,n){var r=o(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}}(e,t,n)}};return t}},2001:function(e,t,n){var r;e.exports=(r=n(4925),n(9665),n(7793),r.HmacSHA256)},2036:(e,t,n)=>{"use strict";const r=n(4438),i=n(4438).buildOptions,o=n(1045),s=function(e,t,n){let i="{";const o=Object.keys(e.child);for(let n=0;n<o.length;n++){const r=o[n];if(e.child[r]&&e.child[r].length>1){i+='"'+r+'" : [ ';for(let n in e.child[r])i+=s(e.child[r][n],t)+" , ";i=i.substr(0,i.length-1)+" ] "}else i+='"'+r+'" : '+s(e.child[r][0],t)+" ,"}return r.merge(i,e.attrsMap),r.isEmptyObject(i)?r.isExist(e.val)?e.val:"":(r.isExist(e.val)&&("string"!=typeof e.val||""!==e.val&&e.val!==t.cdataPositionChar)&&(i+='"'+t.textNodeName+'" : '+(!0!==(a=e.val)&&!1!==a&&isNaN(a)?'"'+a+'"':a)),","===i[i.length-1]&&(i=i.substr(0,i.length-2)),i+"}");var a};t.convertToJsonString=function(e,t){return(t=i(t,o.defaultOptions,o.props)).indentBy=t.indentBy||"",s(e,t,0)}},2040:e=>{"use strict";e.exports=Math.pow},2155:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AwsCrc32=void 0;var r=n(1327),i=n(364),o=n(2690),s=function(){function e(){this.crc32=new o.Crc32}return e.prototype.update=function(e){(0,i.isEmptyData)(e)||this.crc32.update((0,i.convertToBuffer)(e))},e.prototype.digest=function(){return(0,r.__awaiter)(this,void 0,void 0,function(){return(0,r.__generator)(this,function(e){return[2,(0,i.numToUint8)(this.crc32.digest())]})})},e}();t.AwsCrc32=s},2168:e=>{"use strict";e.exports=Math.floor},2186:e=>{"use strict";e.exports=RangeError},2433:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},2460:(e,t,n)=>{"use strict";var r=n(9880),i=n(5480),o=n(5645),s=Object.prototype.hasOwnProperty,a={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},u=Array.isArray,c=Array.prototype.push,l=function(e,t){c.apply(e,u(t)?t:[t])},f=Date.prototype.toISOString,d=o.default,h={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:i.encode,encodeValuesOnly:!1,filter:void 0,format:d,formatter:o.formatters[d],indices:!1,serializeDate:function(e){return f.call(e)},skipNulls:!1,strictNullHandling:!1},p={},g=function e(t,n,o,s,a,c,f,d,g,v,y,m,b,S,w,_,E,C){for(var A,P=t,x=C,k=0,I=!1;void 0!==(x=x.get(p))&&!I;){var T=x.get(t);if(k+=1,void 0!==T){if(T===k)throw new RangeError("Cyclic object value");I=!0}void 0===x.get(p)&&(k=0)}if("function"==typeof v?P=v(n,P):P instanceof Date?P=b(P):"comma"===o&&u(P)&&(P=i.maybeMap(P,function(e){return e instanceof Date?b(e):e})),null===P){if(c)return g&&!_?g(n,h.encoder,E,"key",S):n;P=""}if("string"==typeof(A=P)||"number"==typeof A||"boolean"==typeof A||"symbol"==typeof A||"bigint"==typeof A||i.isBuffer(P))return g?[w(_?n:g(n,h.encoder,E,"key",S))+"="+w(g(P,h.encoder,E,"value",S))]:[w(n)+"="+w(String(P))];var O,U=[];if(void 0===P)return U;if("comma"===o&&u(P))_&&g&&(P=i.maybeMap(P,g)),O=[{value:P.length>0?P.join(",")||null:void 0}];else if(u(v))O=v;else{var M=Object.keys(P);O=y?M.sort(y):M}var L=d?String(n).replace(/\./g,"%2E"):String(n),R=s&&u(P)&&1===P.length?L+"[]":L;if(a&&u(P)&&0===P.length)return R+"[]";for(var N=0;N<O.length;++N){var D=O[N],j="object"==typeof D&&D&&void 0!==D.value?D.value:P[D];if(!f||null!==j){var B=m&&d?String(D).replace(/\./g,"%2E"):String(D),F=u(P)?"function"==typeof o?o(R,B):R:R+(m?"."+B:"["+B+"]");C.set(t,k);var z=r();z.set(p,C),l(U,e(j,F,o,s,a,c,f,d,"comma"===o&&_&&u(P)?null:g,v,y,m,b,S,w,_,E,z))}}return U};e.exports=function(e,t){var n,i=e,c=function(e){if(!e)return h;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.encodeDotInKeys&&"boolean"!=typeof e.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||h.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=o.default;if(void 0!==e.format){if(!s.call(o.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r,i=o.formatters[n],c=h.filter;if(("function"==typeof e.filter||u(e.filter))&&(c=e.filter),r=e.arrayFormat in a?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":h.arrayFormat,"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var l=void 0===e.allowDots?!0===e.encodeDotInKeys||h.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:h.addQueryPrefix,allowDots:l,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:h.allowEmptyArrays,arrayFormat:r,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:h.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:void 0===e.delimiter?h.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:h.encode,encodeDotInKeys:"boolean"==typeof e.encodeDotInKeys?e.encodeDotInKeys:h.encodeDotInKeys,encoder:"function"==typeof e.encoder?e.encoder:h.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:h.encodeValuesOnly,filter:c,format:n,formatter:i,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:h.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:h.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:h.strictNullHandling}}(t);"function"==typeof c.filter?i=(0,c.filter)("",i):u(c.filter)&&(n=c.filter);var f=[];if("object"!=typeof i||null===i)return"";var d=a[c.arrayFormat],p="comma"===d&&c.commaRoundTrip;n||(n=Object.keys(i)),c.sort&&n.sort(c.sort);for(var v=r(),y=0;y<n.length;++y){var m=n[y],b=i[m];c.skipNulls&&null===b||l(f,g(b,m,d,p,c.allowEmptyArrays,c.strictNullHandling,c.skipNulls,c.encodeDotInKeys,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.format,c.formatter,c.encodeValuesOnly,c.charset,v))}var S=f.join(c.delimiter),w=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?w+="utf8=%26%2310003%3B&":w+="utf8=%E2%9C%93&"),S.length>0?w+S:""}},2529:(e,t,n)=>{"use strict";const r=n(148),i=n(1045),o=n(1045),s=n(4438).buildOptions,a=n(1790);t.parse=function(e,t={},n){if(n){!0===n&&(n={});const t=a.validate(e,n);if(!0!==t)throw Error(t.err.msg)}t.parseTrueNumberOnly&&!1!==t.parseNodeValue&&!t.numParseOptions&&(t.numParseOptions={leadingZeros:!1});let u=s(t,o.defaultOptions,o.props);const c=i.getTraversalObj(e,u);return r.convertToJson(c,u)},t.convertTonimn=n(4340).convert2nimn,t.getTraversalObj=i.getTraversalObj,t.convertToJson=r.convertToJson,t.convertToJsonString=n(2036).convertToJsonString,t.validate=a.validate,t.j2xParser=n(2795),t.parseToNimn=function(e,n,r){return t.convertTonimn(t.getTraversalObj(e,r),n,r)}},2682:(e,t,n)=>{"use strict";var r=n(5980);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},2690:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AwsCrc32=t.Crc32=t.crc32=void 0;var r=n(1327),i=n(364);t.crc32=function(e){return(new o).update(e).digest()};var o=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(e){var t,n;try{for(var i=(0,r.__values)(e),o=i.next();!o.done;o=i.next()){var a=o.value;this.checksum=this.checksum>>>8^s[255&(this.checksum^a)]}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return this},e.prototype.digest=function(){return(4294967295^this.checksum)>>>0},e}();t.Crc32=o;var s=(0,i.uint32ArrayFrom)([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),a=n(2155);Object.defineProperty(t,"AwsCrc32",{enumerable:!0,get:function(){return a.AwsCrc32}})},2747:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(7371),i=n(5659),o=n(404),s=n(4298),a=function(){function e(e){e?(this.operation=function(e){return new Promise(function(t,n){var r=(0,s.locateWindow)().msCrypto.subtle.importKey("raw",u(e),i.SHA_256_HMAC_ALGO,!1,["sign"]);r.oncomplete=function(){r.result&&t(r.result),n(new Error("ImportKey completed without importing key."))},r.onerror=function(){n(new Error("ImportKey failed to import key."))}})}(e).then(function(e){return(0,s.locateWindow)().msCrypto.subtle.sign(i.SHA_256_HMAC_ALGO,e)}),this.operation.catch(function(){})):this.operation=Promise.resolve((0,s.locateWindow)().msCrypto.subtle.digest("SHA-256"))}return e.prototype.update=function(e){var t=this;(0,r.isEmptyData)(e)||(this.operation=this.operation.then(function(n){return n.onerror=function(){t.operation=Promise.reject(new Error("Error encountered updating hash"))},n.process(u(e)),n}),this.operation.catch(function(){}))},e.prototype.digest=function(){return this.operation.then(function(e){return new Promise(function(t,n){e.onerror=function(){n(new Error("Error encountered finalizing hash"))},e.oncomplete=function(){e.result&&t(new Uint8Array(e.result)),n(new Error("Error encountered finalizing hash"))},e.finish()})})},e}();function u(e){return"string"==typeof e?(0,o.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=a},2795:(e,t,n)=>{"use strict";const r=n(4438).buildOptions,i={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataTagName:!1,cdataPositionChar:"\\c",format:!1,indentBy:"  ",supressEmptyNode:!1,tagValueProcessor:function(e){return e},attrValueProcessor:function(e){return e}},o=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","cdataTagName","cdataPositionChar","format","indentBy","supressEmptyNode","tagValueProcessor","attrValueProcessor","rootNodeName"];function s(e){this.options=r(e,i,o),this.options.ignoreAttributes||this.options.attrNodeName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=g),this.options.cdataTagName?this.isCDATA=v:this.isCDATA=function(){return!1},this.replaceCDATAstr=u,this.replaceCDATAarr=c,this.processTextOrObjNode=a,this.options.format?(this.indentate=p,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""),this.options.supressEmptyNode?(this.buildTextNode=h,this.buildObjNode=f):(this.buildTextNode=d,this.buildObjNode=l),this.buildTextValNode=d,this.buildObjectNode=l}function a(e,t,n){const r=this.j2x(e,n+1);return void 0!==e[this.options.textNodeName]&&1===Object.keys(e).length?this.buildTextNode(r.val,t,r.attrStr,n):this.buildObjNode(r.val,t,r.attrStr,n)}function u(e,t){return e=this.options.tagValueProcessor(""+e),""===this.options.cdataPositionChar||""===e?e+"<![CDATA["+t+"]]"+this.tagEndChar:e.replace(this.options.cdataPositionChar,"<![CDATA["+t+"]]"+this.tagEndChar)}function c(e,t){if(e=this.options.tagValueProcessor(""+e),""===this.options.cdataPositionChar||""===e)return e+"<![CDATA["+t.join("]]><![CDATA[")+"]]"+this.tagEndChar;for(let n in t)e=e.replace(this.options.cdataPositionChar,"<![CDATA["+t[n]+"]]>");return e+this.newLine}function l(e,t,n,r){return n&&-1===e.indexOf("<")?this.indentate(r)+"<"+t+n+">"+e+"</"+t+this.tagEndChar:this.indentate(r)+"<"+t+n+this.tagEndChar+e+this.indentate(r)+"</"+t+this.tagEndChar}function f(e,t,n,r){return""!==e?this.buildObjectNode(e,t,n,r):this.indentate(r)+"<"+t+n+"/"+this.tagEndChar}function d(e,t,n,r){return this.indentate(r)+"<"+t+n+">"+this.options.tagValueProcessor(e)+"</"+t+this.tagEndChar}function h(e,t,n,r){return""!==e?this.buildTextValNode(e,t,n,r):this.indentate(r)+"<"+t+n+"/"+this.tagEndChar}function p(e){return this.options.indentBy.repeat(e)}function g(e){return!!e.startsWith(this.options.attributeNamePrefix)&&e.substr(this.attrPrefixLen)}function v(e){return e===this.options.cdataTagName}s.prototype.parse=function(e){return Array.isArray(e)&&this.options.rootNodeName&&this.options.rootNodeName.length>1&&(e={[this.options.rootNodeName]:e}),this.j2x(e,0).val},s.prototype.j2x=function(e,t){let n="",r="";for(let i in e)if(void 0===e[i]);else if(null===e[i])r+=this.indentate(t)+"<"+i+"/"+this.tagEndChar;else if(e[i]instanceof Date)r+=this.buildTextNode(e[i],i,"",t);else if("object"!=typeof e[i]){const o=this.isAttribute(i);o?n+=" "+o+'="'+this.options.attrValueProcessor(""+e[i])+'"':this.isCDATA(i)?e[this.options.textNodeName]?r+=this.replaceCDATAstr(e[this.options.textNodeName],e[i]):r+=this.replaceCDATAstr("",e[i]):i===this.options.textNodeName?e[this.options.cdataTagName]||(r+=this.options.tagValueProcessor(""+e[i])):r+=this.buildTextNode(e[i],i,"",t)}else if(Array.isArray(e[i]))if(this.isCDATA(i))r+=this.indentate(t),e[this.options.textNodeName]?r+=this.replaceCDATAarr(e[this.options.textNodeName],e[i]):r+=this.replaceCDATAarr("",e[i]);else{const n=e[i].length;for(let o=0;o<n;o++){const n=e[i][o];void 0===n||(r+=null===n?this.indentate(t)+"<"+i+"/"+this.tagEndChar:"object"==typeof n?this.processTextOrObjNode(n,i,t):this.buildTextNode(n,i,"",t))}}else if(this.options.attrNodeName&&i===this.options.attrNodeName){const t=Object.keys(e[i]),r=t.length;for(let o=0;o<r;o++)n+=" "+t[o]+'="'+this.options.attrValueProcessor(""+e[i][t[o]])+'"'}else r+=this.processTextOrObjNode(e[i],i,t);return{attrStr:n,val:r}},e.exports=s},2963:(e,t)=>{"use strict";t.q=function(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var r={},i=t||{},s=e.split(";"),a=i.decode||n,u=0;u<s.length;u++){var c=s[u],l=c.indexOf("=");if(!(l<0)){var f=c.substring(0,l).trim();if(null==r[f]){var d=c.substring(l+1,c.length).trim();'"'===d[0]&&(d=d.slice(1,-1)),r[f]=o(d,a)}}}return r},t.l=function(e,t,n){var o=n||{},s=o.encode||r;if("function"!=typeof s)throw new TypeError("option encode is invalid");if(!i.test(e))throw new TypeError("argument name is invalid");var a=s(t);if(a&&!i.test(a))throw new TypeError("argument val is invalid");var u=e+"="+a;if(null!=o.maxAge){var c=o.maxAge-0;if(isNaN(c)||!isFinite(c))throw new TypeError("option maxAge is invalid");u+="; Max-Age="+Math.floor(c)}if(o.domain){if(!i.test(o.domain))throw new TypeError("option domain is invalid");u+="; Domain="+o.domain}if(o.path){if(!i.test(o.path))throw new TypeError("option path is invalid");u+="; Path="+o.path}if(o.expires){if("function"!=typeof o.expires.toUTCString)throw new TypeError("option expires is invalid");u+="; Expires="+o.expires.toUTCString()}if(o.httpOnly&&(u+="; HttpOnly"),o.secure&&(u+="; Secure"),o.sameSite)switch("string"==typeof o.sameSite?o.sameSite.toLowerCase():o.sameSite){case!0:u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"strict":u+="; SameSite=Strict";break;case"none":u+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return u};var n=decodeURIComponent,r=encodeURIComponent,i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function o(e,t){try{return t(e)}catch(t){return e}}},3039:e=>{"use strict";e.exports="undefined"!=typeof Reflect&&Reflect&&Reflect.apply},3128:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},3142:(e,t,n)=>{var r=n(5558),i=n(8599);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[o+a]=s[a];return t||i(s)}},3191:(e,t,n)=>{"use strict";var r="undefined"!=typeof Symbol&&Symbol,i=n(7189);e.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&i()}},3321:e=>{"use strict";e.exports=function(e,t,n){this.tagname=e,this.parent=t,this.child={},this.attrsMap={},this.val=n,this.addChild=function(e){Array.isArray(this.child[e.tagname])?this.child[e.tagname].push(e):this.child[e.tagname]=[e]}}},3449:(e,t,n)=>{"use strict";var r=n(7129).version,i={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var o={};i.transitional=function(e,t,n){function i(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,s){if(!1===e)throw new Error(i(r," has been removed"+(t?" in "+t:"")));return t&&!o[r]&&(o[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,s)}},e.exports={assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var o=r[i],s=t[o];if(s){var a=e[o],u=void 0===a||s(a,o,e);if(!0!==u)throw new TypeError("option "+o+" must be "+u)}else if(!0!==n)throw Error("Unknown option "+o)}},validators:i}},3463:(e,t,n)=>{"use strict";var r=n(3128);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;this.promise.then(function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}}),this.promise.then=function(e){var t,r=new Promise(function(e){n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e){n.reason||(n.reason=new r(e),t(n.reason))})}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i(function(t){e=t}),cancel:e}},e.exports=i},3487:(e,t,n)=>{"use strict";var r=n(677),i=n(508),o=n(5371),s=n(315),a=n(8315),u=r("%WeakMap%",!0),c=i("WeakMap.prototype.get",!0),l=i("WeakMap.prototype.set",!0),f=i("WeakMap.prototype.has",!0),d=i("WeakMap.prototype.delete",!0);e.exports=u?function(){var e,t,n={assert:function(e){if(!n.has(e))throw new a("Side channel does not contain "+o(e))},delete:function(n){if(u&&n&&("object"==typeof n||"function"==typeof n)){if(e)return d(e,n)}else if(s&&t)return t.delete(n);return!1},get:function(n){return u&&n&&("object"==typeof n||"function"==typeof n)&&e?c(e,n):t&&t.get(n)},has:function(n){return u&&n&&("object"==typeof n||"function"==typeof n)&&e?f(e,n):!!t&&t.has(n)},set:function(n,r){u&&n&&("object"==typeof n||"function"==typeof n)?(e||(e=new u),l(e,n,r)):s&&(t||(t=s()),t.set(n,r))}};return n}:s},3859:(e,t,n)=>{"use strict";var r=n(8869);if(r)try{r([],"length")}catch(e){r=null}e.exports=r},3992:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},4091:(e,t,n)=>{"use strict";var r=n(5980),i=n(5290),o=n(9961),s={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var u,c={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(u=n(8344)),u),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(a(t,"application/json"),function(e){if(r.isString(e))try{return(0,JSON.parse)(e),r.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||c.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,s=!n&&"json"===this.responseType;if(s||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(s){if("SyntaxError"===e.name)throw o(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],function(e){c.headers[e]={}}),r.forEach(["post","put","patch"],function(e){c.headers[e]=r.merge(s)}),e.exports=c},4136:(e,t,n)=>{"use strict";var r=n(9239),i=n(1562),o=n(9756),s=n(3039);e.exports=s||r.call(o,i)},4298:(e,t,n)=>{"use strict";n.r(t),n.d(t,{locateWindow:()=>i});const r={};function i(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:r}},4331:(e,t)=>{t.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,l=-7,f=n?i-1:0,d=n?-1:1,h=e[t+f];for(f+=d,o=h&(1<<-l)-1,h>>=-l,l+=a;l>0;o=256*o+e[t+f],f+=d,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+e[t+f],f+=d,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,r),o-=c}return(h?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(s++,u/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(t*u-1)*Math.pow(2,i),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[n+h]=255&a,h+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+h]=255&s,h+=p,s/=256,c-=8);e[n+h-p]|=128*g}},4335:e=>{"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise(function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}g(e,t,o,{once:!0}),"error"!==t&&function(e,t){"function"==typeof e.on&&g(e,"error",t,{once:!0})}(e,i)})},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){var i,o,s,c;if(a(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=u(e))>0&&s.length>i&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,c=l,console&&console.warn&&console.warn(c)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=l.bind(r);return i.listener=n,r.wrapFn=i,i}function d(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):p(i,i.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function g(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,function i(o){r.once&&e.removeEventListener(t,i),n(o)})}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=o[e];if(void 0===u)return!1;if("function"==typeof u)r(u,this,t);else{var c=u.length,l=p(u,c);for(n=0;n<c;++n)r(l[n],this,t)}return!0},o.prototype.addListener=function(e,t){return c(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return c(this,e,t,!0)},o.prototype.once=function(e,t){return a(t),this.on(e,f(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,f(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,r,i,o,s;if(a(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return d(this,e,!0)},o.prototype.rawListeners=function(e){return d(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},o.prototype.listenerCount=h,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},4340:(e,t,n)=>{"use strict";const r=function(e){return String.fromCharCode(e)},i={nilChar:r(176),missingChar:r(201),nilPremitive:r(175),missingPremitive:r(200),emptyChar:r(178),emptyValue:r(177),boundryChar:r(179),objStart:r(198),arrStart:r(204),arrayEnd:r(185)},o=[i.nilChar,i.nilPremitive,i.missingChar,i.missingPremitive,i.boundryChar,i.emptyChar,i.emptyValue,i.arrayEnd,i.objStart,i.arrStart],s=function(e,t,n){if("string"==typeof t)return e&&e[0]&&void 0!==e[0].val?a(e[0].val,t):a(e,t);{const o=void 0===(r=e)?i.missingChar:null===r?i.nilChar:!(r.child&&0===Object.keys(r.child).length&&(!r.attrsMap||0===Object.keys(r.attrsMap).length))||i.emptyChar;if(!0===o){let r="";if(Array.isArray(t)){r+=i.arrStart;const o=t[0],c=e.length;if("string"==typeof o)for(let t=0;t<c;t++){const n=a(e[t].val,o);r=u(r,n)}else for(let t=0;t<c;t++){const i=s(e[t],o,n);r=u(r,i)}r+=i.arrayEnd}else{r+=i.objStart;const o=Object.keys(t);Array.isArray(e)&&(e=e[0]);for(let i in o){const a=o[i];let c;c=!n.ignoreAttributes&&e.attrsMap&&e.attrsMap[a]?s(e.attrsMap[a],t[a],n):a===n.textNodeName?s(e.val,t[a],n):s(e.child[a],t[a],n),r=u(r,c)}}return r}return o}var r},a=function(e){switch(e){case void 0:return i.missingPremitive;case null:return i.nilPremitive;case"":return i.emptyValue;default:return e}},u=function(e,t){return c(t[0])||c(e[e.length-1])||(e+=i.boundryChar),e+t},c=function(e){return-1!==o.indexOf(e)},l=n(1045),f=n(4438).buildOptions;t.convert2nimn=function(e,t,n){return n=f(n,l.defaultOptions,l.props),s(e,t,n)}},4342:(e,t,n)=>{"use strict";var r=n(9239),i=n(8315),o=n(9756),s=n(4136);e.exports=function(e){if(e.length<1||"function"!=typeof e[0])throw new i("a function is required");return s(r,o,e)}},4436:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},4438:(e,t)=>{"use strict";const n=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r="["+n+"]["+n+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",i=new RegExp("^"+r+"$");t.isExist=function(e){return void 0!==e},t.isEmptyObject=function(e){return 0===Object.keys(e).length},t.merge=function(e,t,n){if(t){const r=Object.keys(t),i=r.length;for(let o=0;o<i;o++)e[r[o]]="strict"===n?[t[r[o]]]:t[r[o]]}},t.getValue=function(e){return t.isExist(e)?e:""},t.buildOptions=function(e,t,n){let r={};if(!e)return t;for(let i=0;i<n.length;i++)void 0!==e[n[i]]?r[n[i]]=e[n[i]]:r[n[i]]=t[n[i]];return r},t.isTagNameInArrayMode=function(e,t,n){return!1!==t&&(t instanceof RegExp?t.test(e):"function"==typeof t?!!t(e,n):"strict"===t)},t.isName=function(e){return!(null==i.exec(e))},t.getAllMatches=function(e,t){const n=[];let r=t.exec(e);for(;r;){const i=[];i.startIndex=t.lastIndex-r[0].length;const o=r.length;for(let e=0;e<o;e++)i.push(r[e]);n.push(i),r=t.exec(e)}return n},t.nameRegexp=r},4450:()=>{},4515:(e,t,n)=>{"use strict";var r=n(9961);e.exports=function(e,t,n,i,o){var s=new Error(e);return r(s,t,n,i,o)}},4530:(e,t,n)=>{"use strict";var r=n(4515);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},4537:e=>{"use strict";var t=Object.prototype.toString,n=Math.max,r=function(e,t){for(var n=[],r=0;r<e.length;r+=1)n[r]=e[r];for(var i=0;i<t.length;i+=1)n[i+e.length]=t[i];return n};e.exports=function(e){var i=this;if("function"!=typeof i||"[object Function]"!==t.apply(i))throw new TypeError("Function.prototype.bind called on incompatible "+i);for(var o,s=function(e){for(var t=[],n=1,r=0;n<e.length;n+=1,r+=1)t[r]=e[n];return t}(arguments),a=n(0,i.length-s.length),u=[],c=0;c<a;c++)u[c]="$"+c;if(o=Function("binder","return function ("+function(e){for(var t="",n=0;n<e.length;n+=1)t+=e[n],n+1<e.length&&(t+=",");return t}(u)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof o){var t=i.apply(this,r(s,arguments));return Object(t)===t?t:this}return i.apply(e,r(s,arguments))}),i.prototype){var l=function(){};l.prototype=i.prototype,o.prototype=new l,l.prototype=null}return o}},4581:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},4623:(e,t,n)=>{"use strict";var r=n(5980);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=i},4644:e=>{"use strict";e.exports=SyntaxError},4654:e=>{"use strict";e.exports=Math.round},4718:(e,t,n)=>{var r=n(1881),i=n(3142),o=i;o.v1=r,o.v4=i,e.exports=o},4867:(e,t,n)=>{"use strict";var r=n(8247);function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var o=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,a=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(u),l=["%","/","?",";","#"].concat(c),f=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,p={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n(893);function m(e,t,n){if(e&&"object"==typeof e&&e instanceof i)return e;var r=new i;return r.parse(e,t,n),r}i.prototype.parse=function(e,t,n){if("string"!=typeof e)throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?"),s=-1!==i&&i<e.indexOf("#")?"?":"#",u=e.split(s);u[0]=u[0].replace(/\\/g,"/");var m=e=u.join(s);if(m=m.trim(),!n&&1===e.split("#").length){var b=a.exec(m);if(b)return this.path=m,this.href=m,this.pathname=b[1],b[2]?(this.search=b[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var S=o.exec(m);if(S){var w=(S=S[0]).toLowerCase();this.protocol=w,m=m.substr(S.length)}if(n||S||m.match(/^\/\/[^@/]+@[^@/]+/)){var _="//"===m.substr(0,2);!_||S&&g[S]||(m=m.substr(2),this.slashes=!0)}if(!g[S]&&(_||S&&!v[S])){for(var E,C,A=-1,P=0;P<f.length;P++)-1!==(x=m.indexOf(f[P]))&&(-1===A||x<A)&&(A=x);for(-1!==(C=-1===A?m.lastIndexOf("@"):m.lastIndexOf("@",A))&&(E=m.slice(0,C),m=m.slice(C+1),this.auth=decodeURIComponent(E)),A=-1,P=0;P<l.length;P++){var x;-1!==(x=m.indexOf(l[P]))&&(-1===A||x<A)&&(A=x)}-1===A&&(A=m.length),this.host=m.slice(0,A),m=m.slice(A),this.parseHost(),this.hostname=this.hostname||"";var k="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!k)for(var I=this.hostname.split(/\./),T=(P=0,I.length);P<T;P++){var O=I[P];if(O&&!O.match(d)){for(var U="",M=0,L=O.length;M<L;M++)O.charCodeAt(M)>127?U+="x":U+=O[M];if(!U.match(d)){var R=I.slice(0,P),N=I.slice(P+1),D=O.match(h);D&&(R.push(D[1]),N.unshift(D[2])),N.length&&(m="/"+N.join(".")+m),this.hostname=R.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),k||(this.hostname=r.toASCII(this.hostname));var j=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+j,this.href+=this.host,k&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==m[0]&&(m="/"+m))}if(!p[w])for(P=0,T=c.length;P<T;P++){var F=c[P];if(-1!==m.indexOf(F)){var z=encodeURIComponent(F);z===F&&(z=escape(F)),m=m.split(F).join(z)}}var K=m.indexOf("#");-1!==K&&(this.hash=m.substr(K),m=m.slice(0,K));var q=m.indexOf("?");if(-1!==q?(this.search=m.substr(q),this.query=m.substr(q+1),t&&(this.query=y.parse(this.query)),m=m.slice(0,q)):t&&(this.search="",this.query={}),m&&(this.pathname=m),v[w]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){j=this.pathname||"";var H=this.search||"";this.path=j+H}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&"object"==typeof this.query&&Object.keys(this.query).length&&(o=y.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||v[t])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+i+(n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(s=s.replace("#","%23"))+r},i.prototype.resolve=function(e){return this.resolveObject(m(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if("string"==typeof e){var t=new i;t.parse(e,!1,!0),e=t}for(var n=new i,r=Object.keys(this),o=0;o<r.length;o++){var s=r[o];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),u=0;u<a.length;u++){var c=a[u];"protocol"!==c&&(n[c]=e[c])}return v[n.protocol]&&n.hostname&&!n.pathname&&(n.pathname="/",n.path=n.pathname),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!v[e.protocol]){for(var l=Object.keys(e),f=0;f<l.length;f++){var d=l[f];n[d]=e[d]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||g[e.protocol])n.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),n.pathname=h.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var p=n.pathname||"",y=n.search||"";n.path=p+y}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var m=n.pathname&&"/"===n.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),S=b||m||n.host&&e.pathname,w=S,_=n.pathname&&n.pathname.split("/")||[],E=(h=e.pathname&&e.pathname.split("/")||[],n.protocol&&!v[n.protocol]);if(E&&(n.hostname="",n.port=null,n.host&&(""===_[0]?_[0]=n.host:_.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),S=S&&(""===h[0]||""===_[0])),b)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,_=h;else if(h.length)_||(_=[]),_.pop(),_=_.concat(h),n.search=e.search,n.query=e.query;else if(null!=e.search)return E&&(n.host=_.shift(),n.hostname=n.host,(k=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=k.shift(),n.hostname=k.shift(),n.host=n.hostname)),n.search=e.search,n.query=e.query,null===n.pathname&&null===n.search||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!_.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var C=_.slice(-1)[0],A=(n.host||e.host||_.length>1)&&("."===C||".."===C)||""===C,P=0,x=_.length;x>=0;x--)"."===(C=_[x])?_.splice(x,1):".."===C?(_.splice(x,1),P++):P&&(_.splice(x,1),P--);if(!S&&!w)for(;P--;P)_.unshift("..");!S||""===_[0]||_[0]&&"/"===_[0].charAt(0)||_.unshift(""),A&&"/"!==_.join("/").substr(-1)&&_.push("");var k,I=""===_[0]||_[0]&&"/"===_[0].charAt(0);return E&&(n.hostname=I?"":_.length?_.shift():"",n.host=n.hostname,(k=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=k.shift(),n.hostname=k.shift(),n.host=n.hostname)),(S=S||n.host&&_.length)&&!I&&_.unshift(""),_.length>0?n.pathname=_.join("/"):(n.pathname=null,n.path=null),null===n.pathname&&null===n.search||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},t.qg=m},4892:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},4925:function(e,t,n){var r;e.exports=(r=r||function(e){var t;if("undefined"!=typeof window&&window.crypto&&(t=window.crypto),"undefined"!=typeof self&&self.crypto&&(t=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(t=globalThis.crypto),!t&&"undefined"!=typeof window&&window.msCrypto&&(t=window.msCrypto),!t&&void 0!==n.g&&n.g.crypto&&(t=n.g.crypto),!t)try{t=n(6949)}catch(e){}var r=function(){if(t){if("function"==typeof t.getRandomValues)try{return t.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof t.randomBytes)try{return t.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},i=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),o={},s=o.lib={},a=s.Base={extend:function(e){var t=i(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},u=s.WordArray=a.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var s=n[o>>>2]>>>24-o%4*8&255;t[r+o>>>2]|=s<<24-(r+o)%4*8}else for(var a=0;a<i;a+=4)t[r+a>>>2]=n[a>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(r());return new u.init(t,e)}}),c=o.enc={},l=c.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new u.init(n,t/2)}},f=c.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new u.init(n,t)}},d=c.Utf8={stringify:function(e){try{return decodeURIComponent(escape(f.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return f.parse(unescape(encodeURIComponent(e)))}},h=s.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=d.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,r=this._data,i=r.words,o=r.sigBytes,s=this.blockSize,a=o/(4*s),c=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*s,l=e.min(4*c,o);if(c){for(var f=0;f<c;f+=s)this._doProcessBlock(i,f);n=i.splice(0,c),r.sigBytes-=l}return new u.init(n,l)},clone:function(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),p=(s.Hasher=h.extend({cfg:a.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new p.HMAC.init(e,n).finalize(t)}}}),o.algo={});return o}(Math),r)},5205:(e,t,n)=>{"use strict";var r=Function.prototype.call,i=Object.prototype.hasOwnProperty,o=n(9239);e.exports=o.call(r,i)},5290:(e,t,n)=>{"use strict";var r=n(5980);e.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},5353:(e,t,n)=>{e.exports=n(6815)},5371:(e,t,n)=>{var r="function"==typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=r&&i&&"function"==typeof i.get?i.get:null,s=r&&Map.prototype.forEach,a="function"==typeof Set&&Set.prototype,u=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=a&&u&&"function"==typeof u.get?u.get:null,l=a&&Set.prototype.forEach,f="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,d="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,h="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,p=Boolean.prototype.valueOf,g=Object.prototype.toString,v=Function.prototype.toString,y=String.prototype.match,m=String.prototype.slice,b=String.prototype.replace,S=String.prototype.toUpperCase,w=String.prototype.toLowerCase,_=RegExp.prototype.test,E=Array.prototype.concat,C=Array.prototype.join,A=Array.prototype.slice,P=Math.floor,x="function"==typeof BigInt?BigInt.prototype.valueOf:null,k=Object.getOwnPropertySymbols,I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,T="function"==typeof Symbol&&"object"==typeof Symbol.iterator,O="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,U=Object.prototype.propertyIsEnumerable,M=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function L(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||_.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var r=e<0?-P(-e):P(e);if(r!==e){var i=String(r),o=m.call(t,i.length+1);return b.call(i,n,"$&_")+"."+b.call(b.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return b.call(t,n,"$&_")}var R=n(4450),N=R.custom,D=V(N)?N:null,j={__proto__:null,double:'"',single:"'"},B={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};function F(e,t,n){var r=n.quoteStyle||t,i=j[r];return i+e+i}function z(e){return b.call(String(e),/"/g,"&quot;")}function K(e){return!O||!("object"==typeof e&&(O in e||void 0!==e[O]))}function q(e){return"[object Array]"===$(e)&&K(e)}function H(e){return"[object RegExp]"===$(e)&&K(e)}function V(e){if(T)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!I)return!1;try{return I.call(e),!0}catch(e){}return!1}e.exports=function e(t,r,i,a){var u=r||{};if(G(u,"quoteStyle")&&!G(j,u.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(G(u,"maxStringLength")&&("number"==typeof u.maxStringLength?u.maxStringLength<0&&u.maxStringLength!==1/0:null!==u.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var g=!G(u,"customInspect")||u.customInspect;if("boolean"!=typeof g&&"symbol"!==g)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(G(u,"indent")&&null!==u.indent&&"\t"!==u.indent&&!(parseInt(u.indent,10)===u.indent&&u.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(G(u,"numericSeparator")&&"boolean"!=typeof u.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var S=u.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return Y(t,u);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var _=String(t);return S?L(t,_):_}if("bigint"==typeof t){var P=String(t)+"n";return S?L(t,P):P}var k=void 0===u.depth?5:u.depth;if(void 0===i&&(i=0),i>=k&&k>0&&"object"==typeof t)return q(t)?"[Array]":"[Object]";var N,B=function(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;n=C.call(Array(e.indent+1)," ")}return{base:n,prev:C.call(Array(t+1),n)}}(u,i);if(void 0===a)a=[];else if(J(a,t)>=0)return"[Circular]";function W(t,n,r){if(n&&(a=A.call(a)).push(n),r){var o={depth:u.depth};return G(u,"quoteStyle")&&(o.quoteStyle=u.quoteStyle),e(t,o,i+1,a)}return e(t,u,i+1,a)}if("function"==typeof t&&!H(t)){var Z=function(e){if(e.name)return e.name;var t=y.call(v.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(t),re=ne(t,W);return"[Function"+(Z?": "+Z:" (anonymous)")+"]"+(re.length>0?" { "+C.call(re,", ")+" }":"")}if(V(t)){var ie=T?b.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):I.call(t);return"object"!=typeof t||T?ie:X(ie)}if((N=t)&&"object"==typeof N&&("undefined"!=typeof HTMLElement&&N instanceof HTMLElement||"string"==typeof N.nodeName&&"function"==typeof N.getAttribute)){for(var oe="<"+w.call(String(t.nodeName)),se=t.attributes||[],ae=0;ae<se.length;ae++)oe+=" "+se[ae].name+"="+F(z(se[ae].value),"double",u);return oe+=">",t.childNodes&&t.childNodes.length&&(oe+="..."),oe+"</"+w.call(String(t.nodeName))+">"}if(q(t)){if(0===t.length)return"[]";var ue=ne(t,W);return B&&!function(e){for(var t=0;t<e.length;t++)if(J(e[t],"\n")>=0)return!1;return!0}(ue)?"["+te(ue,B)+"]":"[ "+C.call(ue,", ")+" ]"}if(function(e){return"[object Error]"===$(e)&&K(e)}(t)){var ce=ne(t,W);return"cause"in Error.prototype||!("cause"in t)||U.call(t,"cause")?0===ce.length?"["+String(t)+"]":"{ ["+String(t)+"] "+C.call(ce,", ")+" }":"{ ["+String(t)+"] "+C.call(E.call("[cause]: "+W(t.cause),ce),", ")+" }"}if("object"==typeof t&&g){if(D&&"function"==typeof t[D]&&R)return R(t,{depth:k-i});if("symbol"!==g&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!o||!e||"object"!=typeof e)return!1;try{o.call(e);try{c.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var le=[];return s&&s.call(t,function(e,n){le.push(W(n,t,!0)+" => "+W(e,t))}),ee("Map",o.call(t),le,B)}if(function(e){if(!c||!e||"object"!=typeof e)return!1;try{c.call(e);try{o.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var fe=[];return l&&l.call(t,function(e){fe.push(W(e,t))}),ee("Set",c.call(t),fe,B)}if(function(e){if(!f||!e||"object"!=typeof e)return!1;try{f.call(e,f);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return Q("WeakMap");if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{d.call(e,d);try{f.call(e,f)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return Q("WeakSet");if(function(e){if(!h||!e||"object"!=typeof e)return!1;try{return h.call(e),!0}catch(e){}return!1}(t))return Q("WeakRef");if(function(e){return"[object Number]"===$(e)&&K(e)}(t))return X(W(Number(t)));if(function(e){if(!e||"object"!=typeof e||!x)return!1;try{return x.call(e),!0}catch(e){}return!1}(t))return X(W(x.call(t)));if(function(e){return"[object Boolean]"===$(e)&&K(e)}(t))return X(p.call(t));if(function(e){return"[object String]"===$(e)&&K(e)}(t))return X(W(String(t)));if("undefined"!=typeof window&&t===window)return"{ [object Window] }";if("undefined"!=typeof globalThis&&t===globalThis||void 0!==n.g&&t===n.g)return"{ [object globalThis] }";if(!function(e){return"[object Date]"===$(e)&&K(e)}(t)&&!H(t)){var de=ne(t,W),he=M?M(t)===Object.prototype:t instanceof Object||t.constructor===Object,pe=t instanceof Object?"":"null prototype",ge=!he&&O&&Object(t)===t&&O in t?m.call($(t),8,-1):pe?"Object":"",ve=(he||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(ge||pe?"["+C.call(E.call([],ge||[],pe||[]),": ")+"] ":"");return 0===de.length?ve+"{}":B?ve+"{"+te(de,B)+"}":ve+"{ "+C.call(de,", ")+" }"}return String(t)};var W=Object.prototype.hasOwnProperty||function(e){return e in this};function G(e,t){return W.call(e,t)}function $(e){return g.call(e)}function J(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function Y(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return Y(m.call(e,0,t.maxStringLength),t)+r}var i=B[t.quoteStyle||"single"];return i.lastIndex=0,F(b.call(b.call(e,i,"\\$1"),/[\x00-\x1f]/g,Z),"single",t)}function Z(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+S.call(t.toString(16))}function X(e){return"Object("+e+")"}function Q(e){return e+" { ? }"}function ee(e,t,n,r){return e+" ("+t+") {"+(r?te(n,r):C.call(n,", "))+"}"}function te(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+C.call(e,","+n)+"\n"+t.prev}function ne(e,t){var n=q(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=G(e,i)?t(e[i],e):""}var o,s="function"==typeof k?k(e):[];if(T){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var u in e)G(e,u)&&(n&&String(Number(u))===u&&u<e.length||T&&o["$"+u]instanceof Symbol||(_.call(/[^\w$]/,u)?r.push(t(u,e)+": "+t(e[u],e)):r.push(u+": "+t(e[u],e))));if("function"==typeof k)for(var c=0;c<s.length;c++)U.call(e,s[c])&&r.push("["+t(s[c])+"]: "+t(e[s[c]],e));return r}},5480:(e,t,n)=>{"use strict";var r=n(5645),i=Object.prototype.hasOwnProperty,o=Array.isArray,s=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),a=function(e,t){for(var n=t&&t.plainObjects?{__proto__:null}:{},r=0;r<e.length;++r)void 0!==e[r]&&(n[r]=e[r]);return n},u=1024;e.exports={arrayToObject:a,assign:function(e,t){return Object.keys(t).reduce(function(e,n){return e[n]=t[n],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var i=t[r],s=i.obj[i.prop],a=Object.keys(s),u=0;u<a.length;++u){var c=a[u],l=s[c];"object"==typeof l&&null!==l&&-1===n.indexOf(l)&&(t.push({obj:s,prop:c}),n.push(l))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(o(n)){for(var r=[],i=0;i<n.length;++i)void 0!==n[i]&&r.push(n[i]);t.obj[t.prop]=r}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(e){return r}},encode:function(e,t,n,i,o){if(0===e.length)return e;var a=e;if("symbol"==typeof e?a=Symbol.prototype.toString.call(e):"string"!=typeof e&&(a=String(e)),"iso-8859-1"===n)return escape(a).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var c="",l=0;l<a.length;l+=u){for(var f=a.length>=u?a.slice(l,l+u):a,d=[],h=0;h<f.length;++h){var p=f.charCodeAt(h);45===p||46===p||95===p||126===p||p>=48&&p<=57||p>=65&&p<=90||p>=97&&p<=122||o===r.RFC1738&&(40===p||41===p)?d[d.length]=f.charAt(h):p<128?d[d.length]=s[p]:p<2048?d[d.length]=s[192|p>>6]+s[128|63&p]:p<55296||p>=57344?d[d.length]=s[224|p>>12]+s[128|p>>6&63]+s[128|63&p]:(h+=1,p=65536+((1023&p)<<10|1023&f.charCodeAt(h)),d[d.length]=s[240|p>>18]+s[128|p>>12&63]+s[128|p>>6&63]+s[128|63&p])}c+=d.join("")}return c},isBuffer:function(e){return!(!e||"object"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(o(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},merge:function e(t,n,r){if(!n)return t;if("object"!=typeof n&&"function"!=typeof n){if(o(t))t.push(n);else{if(!t||"object"!=typeof t)return[t,n];(r&&(r.plainObjects||r.allowPrototypes)||!i.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(n);var s=t;return o(t)&&!o(n)&&(s=a(t,r)),o(t)&&o(n)?(n.forEach(function(n,o){if(i.call(t,o)){var s=t[o];s&&"object"==typeof s&&n&&"object"==typeof n?t[o]=e(s,n,r):t.push(n)}else t[o]=n}),t):Object.keys(n).reduce(function(t,o){var s=n[o];return i.call(t,o)?t[o]=e(t[o],s,r):t[o]=s,t},s)}}},5494:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1327);r.__exportStar(n(8184),t),r.__exportStar(n(8177),t),r.__exportStar(n(1120),t),r.__exportStar(n(7724),t),r.__exportStar(n(1804),t)},5543:e=>{"use strict";e.exports=Error},5551:(e,t,n)=>{"use strict";var r=n(5980);e.exports=function(e,t){t=t||{};var n={};function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function o(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function s(e){if(!r.isUndefined(t[e]))return i(void 0,t[e])}function a(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function u(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var c={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:u};return r.forEach(Object.keys(e).concat(Object.keys(t)),function(e){var t=c[e]||o,i=t(e);r.isUndefined(i)&&t!==u||(n[e]=i)}),n}},5558:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)3&t||(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},5621:e=>{"use strict";e.exports=EvalError},5645:e=>{"use strict";var t=String.prototype.replace,n=/%20/g,r="RFC3986";e.exports={default:r,formatters:{RFC1738:function(e){return t.call(e,n,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:r}},5659:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_DATA_SHA_256=t.SHA_256_HMAC_ALGO=t.SHA_256_HASH=void 0,t.SHA_256_HASH={name:"SHA-256"},t.SHA_256_HMAC_ALGO={name:"HMAC",hash:t.SHA_256_HASH},t.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])},5679:e=>{const t=/^[-+]?0x[a-fA-F0-9]+$/,n=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,r={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};e.exports=function(e,i={}){if(i=Object.assign({},r,i),!e||"string"!=typeof e)return e;let o=e.trim();if(void 0!==i.skipLike&&i.skipLike.test(o))return e;if("0"===e)return 0;if(i.hex&&t.test(o))return function(e){if(parseInt)return parseInt(e,16);if(Number.parseInt)return Number.parseInt(e,16);if(window&&window.parseInt)return window.parseInt(e,16);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}(o);if(-1!==o.search(/[eE]/)){const t=o.match(/^([-\+])?(0*)([0-9]*(\.[0-9]*)?[eE][-\+]?[0-9]+)$/);if(t){if(i.leadingZeros)o=(t[1]||"")+t[3];else if("0"!==t[2]||"."!==t[3][0])return e;return i.eNotation?Number(o):e}return e}{const t=n.exec(o);if(t){const n=t[1],r=t[2];let a=(s=t[3])&&-1!==s.indexOf(".")?("."===(s=s.replace(/0+$/,""))?s="0":"."===s[0]?s="0"+s:"."===s[s.length-1]&&(s=s.substr(0,s.length-1)),s):s;if(!i.leadingZeros&&r.length>0&&n&&"."!==o[2])return e;if(!i.leadingZeros&&r.length>0&&!n&&"."!==o[1])return e;if(i.leadingZeros&&r===e)return 0;{const t=Number(o),s=""+t;return-1!==s.search(/[eE]/)?i.eNotation?t:e:-1!==o.indexOf(".")?"0"===s&&""===a||s===a||n&&s==="-"+a?t:e:r?a===s||n+a===s?t:e:o===s||o===n+s?t:e}}return e}var s}},5724:(e,t,n)=>{"use strict";var r=n(1288),i=n(6632),o=n(280);e.exports=r?function(e){return r(e)}:i?function(e){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new TypeError("getProto: not an object");return i(e)}:o?function(e){return o(e)}:null},5968:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var r=n(404),i="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:r.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?i(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},5980:(e,t,n)=>{"use strict";var r=n(4436),i=Object.prototype.toString;function o(e){return Array.isArray(e)}function s(e){return void 0===e}function a(e){return"[object ArrayBuffer]"===i.call(e)}function u(e){return null!==e&&"object"==typeof e}function c(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function l(e){return"[object Function]"===i.call(e)}function f(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:a,isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===i.call(e)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&a(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:u,isPlainObject:c,isUndefined:s,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:l,isStream:function(e){return u(e)&&l(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===i.call(e)},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:f,merge:function e(){var t={};function n(n,r){c(t[r])&&c(n)?t[r]=e(t[r],n):c(n)?t[r]=e({},n):o(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)f(arguments[r],n);return t},extend:function(e,t,n){return f(t,function(t,i){e[i]=n&&"function"==typeof t?r(t,n):t}),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},6174:(e,t,n)=>{"use strict";function r(e,t){return t=t||{},new Promise(function(n,r){var i=new XMLHttpRequest,o=[],s=[],a={},u=function(){return{ok:2==(i.status/100|0),statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:u,headers:{keys:function(){return o},entries:function(){return s},get:function(e){return a[e.toLowerCase()]},has:function(e){return e.toLowerCase()in a}}}};for(var c in i.open(t.method||"get",e,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(e,t,n){o.push(t=t.toLowerCase()),s.push([t,n]),a[t]=a[t]?a[t]+","+n:n}),n(u())},i.onerror=r,i.withCredentials="include"==t.credentials,t.headers)i.setRequestHeader(c,t.headers[c]);i.send(t.body||null)})}n.r(t),n.d(t,{default:()=>r})},6271:(e,t,n)=>{"use strict";var r=n(8422),i=n(4331),o=n(8346);function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=d(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=a(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|h(t.length);return 0===(e=a(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?a(e,0):d(e,t);if("Buffer"===t.type&&o(t.data))return d(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(l(t),e=a(e,t<0?0:0|h(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|h(t.length);e=a(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return K(e).length;default:if(r)return z(e).length;t=(""+t).toLowerCase(),r=!0}}function g(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return T(this,t,n);case"utf8":case"utf-8":return P(this,t,n);case"ascii":return k(this,t,n);case"latin1":case"binary":return I(this,t,n);case"base64":return A(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function v(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:m(e,t,n,r,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):m(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function m(e,t,n,r,i){var o,s=1,a=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var l=-1;for(o=n;o<a;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var f=!0,d=0;d<u;d++)if(c(e,o+d)!==c(t,d)){f=!1;break}if(f)return o}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function S(e,t,n,r){return q(z(t,e.length-n),e,n,r)}function w(e,t,n,r){return q(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function _(e,t,n,r){return w(e,t,n,r)}function E(e,t,n,r){return q(K(t),e,n,r)}function C(e,t,n,r){return q(function(e,t){for(var n,r,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)r=(n=e.charCodeAt(s))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function A(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function P(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,s,a,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=f}return function(e){var t=e.length;if(t<=x)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=x));return n}(r)}t.hp=u,t.IS=50,u.TYPED_ARRAY_SUPPORT=void 0!==n.g.TYPED_ARRAY_SUPPORT?n.g.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),s(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?a(e,t):void 0!==n?"string"==typeof r?a(e,t).fill(n,r):a(e,t).fill(n):a(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return f(null,e)},u.allocUnsafeSlow=function(e){return f(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var s=e[n];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?P(this,0,e):g.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.IS;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),a=Math.min(o,s),c=this.slice(r,i),l=e.slice(t,n),f=0;f<a;++f)if(c[f]!==l[f]){o=c[f],s=l[f];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return S(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return _(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function k(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function I(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function T(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=F(e[o]);return i}function O(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function U(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function L(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function R(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function N(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(e,t,n,r,o){return o||N(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function j(e,t,n,r,o){return o||N(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||U(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||U(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||U(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||U(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||U(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||U(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||U(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||U(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||U(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||U(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||U(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||U(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||U(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||U(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||U(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||U(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||U(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||U(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||M(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||M(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):R(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);M(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s|0)-a&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);M(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s|0)-a&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):R(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return D(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return D(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return j(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return j(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=u.isBuffer(e)?e:z(new u(e,r).toString()),a=s.length;for(o=0;o<n-t;++o)this[o+t]=s[o%a]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function F(e){return e<16?"0"+e.toString(16):e.toString(16)}function z(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function K(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(B,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function q(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}},6552:function(e,t,n){var r;e.exports=(r=n(4925),function(){if("function"==typeof ArrayBuffer){var e=r.lib.WordArray,t=e.init,n=e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var n=e.byteLength,r=[],i=0;i<n;i++)r[i>>>2]|=e[i]<<24-i%4*8;t.call(this,r,n)}else t.apply(this,arguments)};n.prototype=e}}(),r.lib.WordArray)},6632:(e,t,n)=>{"use strict";var r=n(204);e.exports=r.getPrototypeOf||null},6780:(e,t,n)=>{"use strict";var r=n(5980),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,s={};return e?(r.forEach(e.split("\n"),function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(s[t]&&i.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}}),s):s}},6815:(e,t,n)=>{"use strict";var r=n(5980),i=n(4436),o=n(9731),s=n(5551),a=function e(t){var n=new o(t),a=i(o.prototype.request,n);return r.extend(a,o.prototype,n),r.extend(a,n),a.create=function(n){return e(s(t,n))},a}(n(4091));a.Axios=o,a.Cancel=n(3128),a.CancelToken=n(3463),a.isCancel=n(8440),a.VERSION=n(7129).version,a.all=function(e){return Promise.all(e)},a.spread=n(4892),a.isAxiosError=n(9723),e.exports=a,e.exports.default=a},6949:()=>{},7129:e=>{e.exports={version:"0.26.0"}},7158:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_HASHABLE_LENGTH=t.INIT=t.KEY=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},7189:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(var r in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},7234:function(e,t,n){var r,i,o;e.exports=(r=n(4925),o=(i=r).lib.WordArray,i.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var i=[],o=0;o<n;o+=3)for(var s=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;a<4&&o+.75*a<n;a++)i.push(r.charAt(s>>>6*(3-a)&63));var u=r.charAt(64);if(u)for(;i.length%4;)i.push(u);return i.join("")},parse:function(e){var t=e.length,n=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var i=0;i<n.length;i++)r[n.charCodeAt(i)]=i}var s=n.charAt(64);if(s){var a=e.indexOf(s);-1!==a&&(t=a)}return function(e,t,n){for(var r=[],i=0,s=0;s<t;s++)if(s%4){var a=n[e.charCodeAt(s-1)]<<s%4*2|n[e.charCodeAt(s)]>>>6-s%4*2;r[i>>>2]|=a<<24-i%4*8,i++}return o.create(r,i)}(e,t,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},r.enc.Base64)},7371:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},7578:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebCryptoSha256=t.Ie11Sha256=void 0,(0,n(1327).__exportStar)(n(8058),t);var r=n(2747);Object.defineProperty(t,"Ie11Sha256",{enumerable:!0,get:function(){return r.Sha256}});var i=n(998);Object.defineProperty(t,"WebCryptoSha256",{enumerable:!0,get:function(){return i.Sha256}})},7724:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7793:function(e,t,n){var r,i,o;e.exports=(i=(r=n(4925)).lib.Base,o=r.enc.Utf8,void(r.algo.HMAC=i.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=o.parse(t));var n=e.blockSize,r=4*n;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var i=this._oKey=t.clone(),s=this._iKey=t.clone(),a=i.words,u=s.words,c=0;c<n;c++)a[c]^=1549556828,u[c]^=909522486;i.sigBytes=s.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})))},8012:(e,t,n)=>{"use strict";var r=n(5980);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,s){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(i)&&a.push("path="+i),r.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},8058:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(2747),i=n(998),o=n(531),s=n(8349),a=n(5494),u=n(4298),c=function(){function e(e){(0,s.supportsWebCrypto)((0,u.locateWindow)())?this.hash=new i.Sha256(e):(0,a.isMsWindow)((0,u.locateWindow)())?this.hash=new r.Sha256(e):this.hash=new o.Sha256(e)}return e.prototype.update=function(e,t){this.hash.update(e,t)},e.prototype.digest=function(){return this.hash.digest()},e}();t.Sha256=c},8086:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportsZeroByteGCM=t.supportsSubtleCrypto=t.supportsSecureRandom=t.supportsWebCrypto=void 0;var r=n(1327),i=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function o(e){return"object"==typeof e&&"object"==typeof e.crypto&&"function"==typeof e.crypto.getRandomValues}function s(e){return e&&i.every(function(t){return"function"==typeof e[t]})}t.supportsWebCrypto=function(e){return!(!o(e)||"object"!=typeof e.crypto.subtle)&&s(e.crypto.subtle)},t.supportsSecureRandom=o,t.supportsSubtleCrypto=s,t.supportsZeroByteGCM=function(e){return r.__awaiter(this,void 0,void 0,function(){var t;return r.__generator(this,function(n){switch(n.label){case 0:if(!s(e))return[2,!1];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,e.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return t=n.sent(),[4,e.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},t,new Uint8Array(0))];case 3:return[2,16===n.sent().byteLength];case 4:return n.sent(),[2,!1];case 5:return[2]}})})}},8177:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8184:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8244:(e,t,n)=>{e.exports=self.fetch||(self.fetch=n(6174).default||n(6174))},8247:function(e,t,n){var r;e=n.nmd(e),function(){t&&t.nodeType,e&&e.nodeType;var i="object"==typeof n.g&&n.g;i.global!==i&&i.window!==i&&i.self;var o,s=2147483647,a=36,u=/^xn--/,c=/[^\x20-\x7E]/,l=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=Math.floor,h=String.fromCharCode;function p(e){throw new RangeError(f[e])}function g(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function v(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+g((e=e.replace(l,".")).split("."),t).join(".")}function y(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function m(e){return g(e,function(e){var t="";return e>65535&&(t+=h((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+h(e)}).join("")}function b(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:a}function S(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function w(e,t,n){var r=0;for(e=n?d(e/700):e>>1,e+=d(e/t);e>455;r+=a)e=d(e/35);return d(r+36*e/(e+38))}function _(e){var t,n,r,i,o,u,c,l,f,h,g=[],v=e.length,y=0,S=128,_=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&p("not-basic"),g.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<v;){for(o=y,u=1,c=a;i>=v&&p("invalid-input"),((l=b(e.charCodeAt(i++)))>=a||l>d((s-y)/u))&&p("overflow"),y+=l*u,!(l<(f=c<=_?1:c>=_+26?26:c-_));c+=a)u>d(s/(h=a-f))&&p("overflow"),u*=h;_=w(y-o,t=g.length+1,0==o),d(y/t)>s-S&&p("overflow"),S+=d(y/t),y%=t,g.splice(y++,0,S)}return m(g)}function E(e){var t,n,r,i,o,u,c,l,f,g,v,m,b,_,E,C=[];for(m=(e=y(e)).length,t=128,n=0,o=72,u=0;u<m;++u)(v=e[u])<128&&C.push(h(v));for(r=i=C.length,i&&C.push("-");r<m;){for(c=s,u=0;u<m;++u)(v=e[u])>=t&&v<c&&(c=v);for(c-t>d((s-n)/(b=r+1))&&p("overflow"),n+=(c-t)*b,t=c,u=0;u<m;++u)if((v=e[u])<t&&++n>s&&p("overflow"),v==t){for(l=n,f=a;!(l<(g=f<=o?1:f>=o+26?26:f-o));f+=a)E=l-g,_=a-g,C.push(h(S(g+E%_,0))),l=d(E/_);C.push(h(S(l,0))),o=w(n,b,r==i),n=0,++r}++n,++t}return C.join("")}o={version:"1.4.1",ucs2:{decode:y,encode:m},decode:_,encode:E,toASCII:function(e){return v(e,function(e){return c.test(e)?"xn--"+E(e):e})},toUnicode:function(e){return v(e,function(e){return u.test(e)?_(e.slice(4).toLowerCase()):e})}},void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},8279:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(1327),i=n(7158),o=n(9194),s=n(364),a=function(){function e(e){if(this.hash=new o.RawSha256,e){this.outer=new o.RawSha256;var t=function(e){var t=(0,s.convertToBuffer)(e);if(t.byteLength>i.BLOCK_SIZE){var n=new o.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(i.BLOCK_SIZE);return r.set(t),r}(e),n=new Uint8Array(i.BLOCK_SIZE);n.set(t);for(var r=0;r<i.BLOCK_SIZE;r++)t[r]^=54,n[r]^=92;for(this.hash.update(t),this.outer.update(n),r=0;r<t.byteLength;r++)t[r]=0}}return e.prototype.update=function(e){if(!(0,s.isEmptyData)(e)&&!this.error)try{this.hash.update((0,s.convertToBuffer)(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,r.__awaiter)(this,void 0,void 0,function(){return(0,r.__generator)(this,function(e){return[2,this.digestSync()]})})},e}();t.Sha256=a},8315:e=>{"use strict";e.exports=TypeError},8344:(e,t,n)=>{"use strict";var r=n(5980),i=n(4530),o=n(8012),s=n(898),a=n(9583),u=n(6780),c=n(2682),l=n(4515),f=n(4091),d=n(3128);e.exports=function(e){return new Promise(function(t,n){var h,p=e.data,g=e.headers,v=e.responseType;function y(){e.cancelToken&&e.cancelToken.unsubscribe(h),e.signal&&e.signal.removeEventListener("abort",h)}r.isFormData(p)&&delete g["Content-Type"];var m=new XMLHttpRequest;if(e.auth){var b=e.auth.username||"",S=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";g.Authorization="Basic "+btoa(b+":"+S)}var w=a(e.baseURL,e.url);function _(){if(m){var r="getAllResponseHeaders"in m?u(m.getAllResponseHeaders()):null,o={data:v&&"text"!==v&&"json"!==v?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m};i(function(e){t(e),y()},function(e){n(e),y()},o),m=null}}if(m.open(e.method.toUpperCase(),s(w,e.params,e.paramsSerializer),!0),m.timeout=e.timeout,"onloadend"in m?m.onloadend=_:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(_)},m.onabort=function(){m&&(n(l("Request aborted",e,"ECONNABORTED",m)),m=null)},m.onerror=function(){n(l("Network Error",e,null,m)),m=null},m.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||f.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",m)),m=null},r.isStandardBrowserEnv()){var E=(e.withCredentials||c(w))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;E&&(g[e.xsrfHeaderName]=E)}"setRequestHeader"in m&&r.forEach(g,function(e,t){void 0===p&&"content-type"===t.toLowerCase()?delete g[t]:m.setRequestHeader(t,e)}),r.isUndefined(e.withCredentials)||(m.withCredentials=!!e.withCredentials),v&&"json"!==v&&(m.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&m.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&m.upload&&m.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(h=function(e){m&&(n(!e||e&&e.type?new d("canceled"):e),m.abort(),m=null)},e.cancelToken&&e.cancelToken.subscribe(h),e.signal&&(e.signal.aborted?h():e.signal.addEventListener("abort",h))),p||(p=null),m.send(p)})}},8346:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},8349:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(1327).__exportStar(n(8086),t)},8357:(e,t,n)=>{"use strict";var r=n(9627);e.exports=function(e){return r(e)||0===e?e:e<0?-1:1}},8391:(e,t,n)=>{var r,i,o;void 0===(i="function"==typeof(r=o=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function i(){}function o(t,n,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},i.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var s=JSON.stringify(n);/^[\{\[]/.test(s)&&(n=s)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var u in o)o[u]&&(a+="; "+u,!0!==o[u]&&(a+="="+o[u].split(";")[0]));return document.cookie=t+"="+n+a}}function s(e,n){if("undefined"!=typeof document){for(var i={},o=document.cookie?document.cookie.split("; "):[],s=0;s<o.length;s++){var a=o[s].split("="),u=a.slice(1).join("=");n||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var c=t(a[0]);if(u=(r.read||r)(u,c)||t(u),n)try{u=JSON.parse(u)}catch(e){}if(i[c]=u,e===c)break}catch(e){}}return e?i[e]:i}}return i.set=o,i.get=function(e){return s(e,!1)},i.getJSON=function(e){return s(e,!0)},i.remove=function(t,n){o(t,"",e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}(function(){})})?r.call(t,n,t,e):r)||(e.exports=i),e.exports=o()},8422:(e,t)=>{"use strict";t.byteLength=function(e){var t=a(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,o=a(e),s=o[0],u=o[1],c=new i(function(e,t,n){return 3*(t+n)/4-n}(0,s,u)),l=0,f=u>0?s-4:s;for(n=0;n<f;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;return 2===u&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[l++]=255&t),1===u&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t),c},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],s=16383,a=0,u=r-i;a<u;a+=s)o.push(c(e,a,a+s>u?u:a+s));return 1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),o.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)n[s]=o[s],r[o.charCodeAt(s)]=s;function a(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}function c(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(u(r));return i.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},8440:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},8442:e=>{"use strict";e.exports=Math.abs},8479:e=>{"use strict";var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch(e){t=!1}e.exports=t},8599:e=>{for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,i=t;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},8754:(e,t,n)=>{"use strict";var r=n(5480),i=Object.prototype.hasOwnProperty,o=Array.isArray,s={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:r.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},a=function(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},u=function(e,t,n){if(e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1)return e.split(",");if(t.throwOnLimitExceeded&&n>=t.arrayLimit)throw new RangeError("Array limit exceeded. Only "+t.arrayLimit+" element"+(1===t.arrayLimit?"":"s")+" allowed in an array.");return e},c=function(e,t,n,o){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,c=n.depth>0&&/(\[[^[\]]*])/.exec(s),l=c?s.slice(0,c.index):s,f=[];if(l){if(!n.plainObjects&&i.call(Object.prototype,l)&&!n.allowPrototypes)return;f.push(l)}for(var d=0;n.depth>0&&null!==(c=a.exec(s))&&d<n.depth;){if(d+=1,!n.plainObjects&&i.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;f.push(c[1])}if(c){if(!0===n.strictDepth)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");f.push("["+s.slice(c.index)+"]")}return function(e,t,n,i){var o=0;if(e.length>0&&"[]"===e[e.length-1]){var s=e.slice(0,-1).join("");o=Array.isArray(t)&&t[s]?t[s].length:0}for(var a=i?t:u(t,n,o),c=e.length-1;c>=0;--c){var l,f=e[c];if("[]"===f&&n.parseArrays)l=n.allowEmptyArrays&&(""===a||n.strictNullHandling&&null===a)?[]:r.combine([],a);else{l=n.plainObjects?{__proto__:null}:{};var d="["===f.charAt(0)&&"]"===f.charAt(f.length-1)?f.slice(1,-1):f,h=n.decodeDotInKeys?d.replace(/%2E/g,"."):d,p=parseInt(h,10);n.parseArrays||""!==h?!isNaN(p)&&f!==h&&String(p)===h&&p>=0&&n.parseArrays&&p<=n.arrayLimit?(l=[])[p]=a:"__proto__"!==h&&(l[h]=a):l={0:a}}a=l}return a}(f,t,n,o)}};e.exports=function(e,t){var n=function(e){if(!e)return s;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.decodeDotInKeys&&"boolean"!=typeof e.decodeDotInKeys)throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(void 0!==e.throwOnLimitExceeded&&"boolean"!=typeof e.throwOnLimitExceeded)throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var t=void 0===e.charset?s.charset:e.charset,n=void 0===e.duplicates?s.duplicates:e.duplicates;if("combine"!==n&&"first"!==n&&"last"!==n)throw new TypeError("The duplicates option must be either combine, first, or last");return{allowDots:void 0===e.allowDots?!0===e.decodeDotInKeys||s.allowDots:!!e.allowDots,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:s.allowEmptyArrays,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:s.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:s.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:s.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:s.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:s.comma,decodeDotInKeys:"boolean"==typeof e.decodeDotInKeys?e.decodeDotInKeys:s.decodeDotInKeys,decoder:"function"==typeof e.decoder?e.decoder:s.decoder,delimiter:"string"==typeof e.delimiter||r.isRegExp(e.delimiter)?e.delimiter:s.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:s.depth,duplicates:n,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:s.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:s.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:s.plainObjects,strictDepth:"boolean"==typeof e.strictDepth?!!e.strictDepth:s.strictDepth,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:s.strictNullHandling,throwOnLimitExceeded:"boolean"==typeof e.throwOnLimitExceeded&&e.throwOnLimitExceeded}}(t);if(""===e||null==e)return n.plainObjects?{__proto__:null}:{};for(var l="string"==typeof e?function(e,t){var n={__proto__:null},c=t.ignoreQueryPrefix?e.replace(/^\?/,""):e;c=c.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var l=t.parameterLimit===1/0?void 0:t.parameterLimit,f=c.split(t.delimiter,t.throwOnLimitExceeded?l+1:l);if(t.throwOnLimitExceeded&&f.length>l)throw new RangeError("Parameter limit exceeded. Only "+l+" parameter"+(1===l?"":"s")+" allowed.");var d,h=-1,p=t.charset;if(t.charsetSentinel)for(d=0;d<f.length;++d)0===f[d].indexOf("utf8=")&&("utf8=%E2%9C%93"===f[d]?p="utf-8":"utf8=%26%2310003%3B"===f[d]&&(p="iso-8859-1"),h=d,d=f.length);for(d=0;d<f.length;++d)if(d!==h){var g,v,y=f[d],m=y.indexOf("]="),b=-1===m?y.indexOf("="):m+1;-1===b?(g=t.decoder(y,s.decoder,p,"key"),v=t.strictNullHandling?null:""):(g=t.decoder(y.slice(0,b),s.decoder,p,"key"),v=r.maybeMap(u(y.slice(b+1),t,o(n[g])?n[g].length:0),function(e){return t.decoder(e,s.decoder,p,"value")})),v&&t.interpretNumericEntities&&"iso-8859-1"===p&&(v=a(String(v))),y.indexOf("[]=")>-1&&(v=o(v)?[v]:v);var S=i.call(n,g);S&&"combine"===t.duplicates?n[g]=r.combine(n[g],v):S&&"last"!==t.duplicates||(n[g]=v)}return n}(e,n):e,f=n.plainObjects?{__proto__:null}:{},d=Object.keys(l),h=0;h<d.length;++h){var p=d[h],g=c(p,l[p],n,"string"==typeof e);f=r.merge(f,g,n)}return!0===n.allowSparse?f:r.compact(f)}},8869:e=>{"use strict";e.exports=Object.getOwnPropertyDescriptor},8946:e=>{"use strict";e.exports=ReferenceError},9194:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawSha256=void 0;var r=n(7158),i=function(){function e(){this.state=Int32Array.from(r.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>r.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===r.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%r.BLOCK_SIZE>=r.BLOCK_SIZE-8){for(var i=this.bufferLength;i<r.BLOCK_SIZE;i++)t.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(i=this.bufferLength;i<r.BLOCK_SIZE-8;i++)t.setUint8(i,0);t.setUint32(r.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(r.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var o=new Uint8Array(r.DIGEST_LENGTH);for(i=0;i<8;i++)o[4*i]=this.state[i]>>>24&255,o[4*i+1]=this.state[i]>>>16&255,o[4*i+2]=this.state[i]>>>8&255,o[4*i+3]=this.state[i]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],i=t[1],o=t[2],s=t[3],a=t[4],u=t[5],c=t[6],l=t[7],f=0;f<r.BLOCK_SIZE;f++){if(f<16)this.temp[f]=(255&e[4*f])<<24|(255&e[4*f+1])<<16|(255&e[4*f+2])<<8|255&e[4*f+3];else{var d=this.temp[f-2],h=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,p=((d=this.temp[f-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3;this.temp[f]=(h+this.temp[f-7]|0)+(p+this.temp[f-16]|0)}var g=(((a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7))+(a&u^~a&c)|0)+(l+(r.KEY[f]+this.temp[f]|0)|0)|0,v=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&i^n&o^i&o)|0;l=c,c=u,u=a,a=s+g|0,s=o,o=i,i=n,n=g+v|0}t[0]+=n,t[1]+=i,t[2]+=o,t[3]+=s,t[4]+=a,t[5]+=u,t[6]+=c,t[7]+=l},e}();t.RawSha256=i},9196:e=>{"use strict";e.exports=Math.max},9239:(e,t,n)=>{"use strict";var r=n(4537);e.exports=Function.prototype.bind||r},9285:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},9538:e=>{"use strict";e.exports=Math.min},9583:(e,t,n)=>{"use strict";var r=n(2433),i=n(3992);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},9627:e=>{"use strict";e.exports=Number.isNaN||function(e){return e!=e}},9665:function(e,t,n){var r;e.exports=(r=n(4925),function(e){var t=r,n=t.lib,i=n.WordArray,o=n.Hasher,s=t.algo,a=[],u=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,i=0;i<64;)t(r)&&(i<8&&(a[i]=n(e.pow(r,.5))),u[i]=n(e.pow(r,1/3)),i++),r++}();var c=[],l=s.SHA256=o.extend({_doReset:function(){this._hash=new i.init(a.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],l=n[5],f=n[6],d=n[7],h=0;h<64;h++){if(h<16)c[h]=0|e[t+h];else{var p=c[h-15],g=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,v=c[h-2],y=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;c[h]=g+c[h-7]+y+c[h-16]}var m=r&i^r&o^i&o,b=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),S=d+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&l^~a&f)+u[h]+c[h];d=f,f=l,l=a,a=s+S|0,s=o,o=i,i=r,r=S+(b+m)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0,n[5]=n[5]+l|0,n[6]=n[6]+f|0,n[7]=n[7]+d|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=o._createHelper(l),t.HmacSHA256=o._createHmacHelper(l)}(Math),r.SHA256)},9681:(e,t,n)=>{"use strict";var r=n(5980),i=n(4091);e.exports=function(e,t,n){var o=this||i;return r.forEach(n,function(n){e=n.call(o,e,t)}),e}},9723:(e,t,n)=>{"use strict";var r=n(5980);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},9731:(e,t,n)=>{"use strict";var r=n(5980),i=n(898),o=n(4623),s=n(1098),a=n(5551),u=n(3449),c=u.validators;function l(e){this.defaults=e,this.interceptors={request:new o,response:new o}}l.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&u.assertOptions(n,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach(function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,r.unshift(e.fulfilled,e.rejected))});var o,l=[];if(this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)}),!i){var f=[s,void 0];for(Array.prototype.unshift.apply(f,r),f=f.concat(l),o=Promise.resolve(t);f.length;)o=o.then(f.shift(),f.shift());return o}for(var d=t;r.length;){var h=r.shift(),p=r.shift();try{d=h(d)}catch(e){p(e);break}}try{o=s(d)}catch(e){return Promise.reject(e)}for(;l.length;)o=o.then(l.shift(),l.shift());return o},l.prototype.getUri=function(e){return e=a(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],function(e){l.prototype[e]=function(t,n){return this.request(a(n||{},{method:e,url:t,data:(n||{}).data}))}}),r.forEach(["post","put","patch"],function(e){l.prototype[e]=function(t,n,r){return this.request(a(r||{},{method:e,url:t,data:n}))}}),e.exports=l},9756:e=>{"use strict";e.exports=Function.prototype.call},9880:(e,t,n)=>{"use strict";var r=n(8315),i=n(5371),o=n(1891),s=n(315),a=n(3487)||s||o;e.exports=function(){var e,t={assert:function(e){if(!t.has(e))throw new r("Side channel does not contain "+i(e))},delete:function(t){return!!e&&e.delete(t)},get:function(t){return e&&e.get(t)},has:function(t){return!!e&&e.has(t)},set:function(t,n){e||(e=a()),e.set(t,n)}};return t}},9961:e=>{"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e,t=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},r=function(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(t(arguments[n]));return e},i={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5};!function(e){e.DEBUG="DEBUG",e.ERROR="ERROR",e.INFO="INFO",e.WARN="WARN",e.VERBOSE="VERBOSE"}(e||(e={}));var o=function(){function t(t,n){void 0===n&&(n=e.WARN),this.name=t,this.level=n,this._pluggables=[]}return t.prototype._padding=function(e){return e<10?"0"+e:""+e},t.prototype._ts=function(){var e=new Date;return[this._padding(e.getMinutes()),this._padding(e.getSeconds())].join(":")+"."+e.getMilliseconds()},t.prototype.configure=function(e){return e?(this._config=e,this._config):this._config},t.prototype._log=function(n){for(var r,o,s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];var u=this.level;if(t.LOG_LEVEL&&(u=t.LOG_LEVEL),"undefined"!=typeof window&&window.LOG_LEVEL&&(u=window.LOG_LEVEL),i[n]>=i[u]){var c=console.log.bind(console);n===e.ERROR&&console.error&&(c=console.error.bind(console)),n===e.WARN&&console.warn&&(c=console.warn.bind(console));var l="["+n+"] "+this._ts()+" "+this.name,f="";if(1===s.length&&"string"==typeof s[0])c(f=l+" - "+s[0]);else if(1===s.length)f=l+" "+s[0],c(l,s[0]);else if("string"==typeof s[0]){var d=s.slice(1);1===d.length&&(d=d[0]),f=l+" - "+s[0]+" "+d,c(l+" - "+s[0],d)}else f=l+" "+s,c(l,s);try{for(var h=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(this._pluggables),p=h.next();!p.done;p=h.next()){var g=p.value,v={message:f,timestamp:Date.now()};g.pushLogs([v])}}catch(e){r={error:e}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(r)throw r.error}}}},t.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._log.apply(this,r([e.INFO],t))},t.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._log.apply(this,r([e.INFO],t))},t.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._log.apply(this,r([e.WARN],t))},t.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._log.apply(this,r([e.ERROR],t))},t.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._log.apply(this,r([e.DEBUG],t))},t.prototype.verbose=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._log.apply(this,r([e.VERBOSE],t))},t.prototype.addPluggable=function(e){e&&"Logging"===e.getCategoryName()&&(this._pluggables.push(e),e.configure(this._config))},t.prototype.listPluggables=function(){return this._pluggables},t.LOG_LEVEL=null,t}(),s=new o("Amplify"),a=new(function(){function e(){this._components=[],this._config={},this._modules={},this.Auth=null,this.Analytics=null,this.API=null,this.Credentials=null,this.Storage=null,this.I18n=null,this.Cache=null,this.PubSub=null,this.Interactions=null,this.Pushnotification=null,this.UI=null,this.XR=null,this.Predictions=null,this.DataStore=null,this.Geo=null,this.Logger=o,this.ServiceWorker=null}return e.prototype.register=function(e){s.debug("component registered in amplify",e),this._components.push(e),"function"==typeof e.getModuleName?(this._modules[e.getModuleName()]=e,this[e.getModuleName()]=e):s.debug("no getModuleName method for component",e),e.configure(this._config)},e.prototype.configure=function(e){var t=this;return e?(this._config=Object.assign(this._config,e),s.debug("amplify config",this._config),Object.entries(this._modules).forEach(function(e){var n=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}(e,2),r=(n[0],n[1]);Object.keys(r).forEach(function(e){t._modules[e]&&(r[e]=t._modules[e])})}),this._components.map(function(e){e.configure(t._config)}),this._config):this._config},e.prototype.addPluggable=function(e){e&&e.getCategory&&"function"==typeof e.getCategory&&this._components.map(function(t){t.addPluggable&&"function"==typeof t.addPluggable&&t.addPluggable(e)})},e}()),u=[{type:"text/plain",ext:"txt"},{type:"text/html",ext:"html"},{type:"text/javascript",ext:"js"},{type:"text/css",ext:"css"},{type:"text/csv",ext:"csv"},{type:"text/yaml",ext:"yml"},{type:"text/yaml",ext:"yaml"},{type:"text/calendar",ext:"ics"},{type:"text/calendar",ext:"ical"},{type:"image/apng",ext:"apng"},{type:"image/bmp",ext:"bmp"},{type:"image/gif",ext:"gif"},{type:"image/x-icon",ext:"ico"},{type:"image/x-icon",ext:"cur"},{type:"image/jpeg",ext:"jpg"},{type:"image/jpeg",ext:"jpeg"},{type:"image/jpeg",ext:"jfif"},{type:"image/jpeg",ext:"pjp"},{type:"image/jpeg",ext:"pjpeg"},{type:"image/png",ext:"png"},{type:"image/svg+xml",ext:"svg"},{type:"image/tiff",ext:"tif"},{type:"image/tiff",ext:"tiff"},{type:"image/webp",ext:"webp"},{type:"application/json",ext:"json"},{type:"application/xml",ext:"xml"},{type:"application/x-sh",ext:"sh"},{type:"application/zip",ext:"zip"},{type:"application/x-rar-compressed",ext:"rar"},{type:"application/x-tar",ext:"tar"},{type:"application/x-bzip",ext:"bz"},{type:"application/x-bzip2",ext:"bz2"},{type:"application/pdf",ext:"pdf"},{type:"application/java-archive",ext:"jar"},{type:"application/msword",ext:"doc"},{type:"application/vnd.ms-excel",ext:"xls"},{type:"application/vnd.ms-excel",ext:"xlsx"},{type:"message/rfc822",ext:"eml"}],c=function(e){return void 0===e&&(e={}),0===Object.keys(e).length},l=function(e,t,n){if(!e||!e.sort)return!1;var r=n&&"desc"===n?-1:1;return e.sort(function(e,n){var i=e[t],o=n[t];return void 0===o?void 0===i?0:1*r:void 0===i||i<o?-1*r:i>o?1*r:0}),!0},f=function(e,t){var n=Object.assign({},e);return t&&("string"==typeof t?delete n[t]:t.forEach(function(e){delete n[e]})),n},d=function(e,t){void 0===t&&(t="application/octet-stream");var n=e.toLowerCase(),r=u.filter(function(e){return n.endsWith("."+e.ext)});return r.length>0?r[0].type:t},h=function(e){var t=e.toLowerCase();return!!t.startsWith("text/")||"application/json"===t||"application/xml"===t||"application/sh"===t},p=function(){for(var e="",t=32;t>0;t-=1)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return e},g=function(e){if(e.isResolved)return e;var t=!0,n=!1,r=!1,i=e.then(function(e){return r=!0,t=!1,e},function(e){throw n=!0,t=!1,e});return i.isFullfilled=function(){return r},i.isPending=function(){return t},i.isRejected=function(){return n},i},v=function(){if("undefined"==typeof self)return!1;var e=self;return void 0!==e.WorkerGlobalScope&&self instanceof e.WorkerGlobalScope},y=function(){return{isBrowser:"undefined"!=typeof window&&void 0!==window.document,isNode:"undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node}},m=function(e,t,n){if(void 0===t&&(t=[]),void 0===n&&(n=[]),!S(e))return e;var r={};for(var i in e)e.hasOwnProperty(i)&&(r[t.includes(i)?i:i[0].toLowerCase()+i.slice(1)]=n.includes(i)?e[i]:m(e[i],t,n));return r},b=function(e,t,n){if(void 0===t&&(t=[]),void 0===n&&(n=[]),!S(e))return e;var r={};for(var i in e)e.hasOwnProperty(i)&&(r[t.includes(i)?i:i[0].toUpperCase()+i.slice(1)]=n.includes(i)?e[i]:b(e[i],t,n));return r},S=function(e){return!(!(e instanceof Object)||e instanceof Array||e instanceof Function||e instanceof Number||e instanceof String||e instanceof Boolean)};!function(){function e(){}e.isEmpty=c,e.sortByField=l,e.objectLessAttributes=f,e.filenameToContentType=d,e.isTextFile=h,e.generateRandomString=p,e.makeQuerablePromise=g,e.isWebWorker=v,e.browserOrNode=y,e.transferKeyToLowerCase=m,e.transferKeyToUpperCase=b,e.isStrictObject=S}();var w,_,E,C=function(){function e(){this._logger=new o("ServiceWorker")}return Object.defineProperty(e.prototype,"serviceWorker",{get:function(){return this._serviceWorker},enumerable:!0,configurable:!0}),e.prototype.register=function(e,t){var n=this;return void 0===e&&(e="/service-worker.js"),void 0===t&&(t="/"),this._logger.debug("registering "+e),this._logger.debug("registering service worker with scope "+t),new Promise(function(r,i){if(!navigator||!("serviceWorker"in navigator))return i(new Error("Service Worker not available"));navigator.serviceWorker.register(e,{scope:t}).then(function(e){return e.installing?n._serviceWorker=e.installing:e.waiting?n._serviceWorker=e.waiting:e.active&&(n._serviceWorker=e.active),n._registration=e,n._setupListeners(),n._logger.debug("Service Worker Registration Success: "+e),r(e)}).catch(function(e){return n._logger.debug("Service Worker Registration Failed "+e),i(e)})})},e.prototype.enablePush=function(e){var t=this;if(!this._registration)throw new Error("Service Worker not registered");return this._publicKey=e,new Promise(function(n,r){if(!y().isBrowser)return r(new Error("Service Worker not available"));t._registration.pushManager.getSubscription().then(function(r){if(!r)return t._logger.debug("User is NOT subscribed to push"),t._registration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:t._urlB64ToUint8Array(e)}).then(function(e){t._subscription=e,t._logger.debug("User subscribed: "+JSON.stringify(e)),n(e)}).catch(function(e){t._logger.error(e)});t._subscription=r,t._logger.debug("User is subscribed to push: "+JSON.stringify(r)),n(r)})})},e.prototype._urlB64ToUint8Array=function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r},e.prototype.send=function(e){this._serviceWorker&&this._serviceWorker.postMessage("object"==typeof e?JSON.stringify(e):e)},e.prototype._setupListeners=function(){var e=this;this._serviceWorker.addEventListener("statechange",function(t){var n=e._serviceWorker.state;e._logger.debug("ServiceWorker statechange: "+n),a.Analytics&&"function"==typeof a.Analytics.record&&a.Analytics.record({name:"ServiceWorker",attributes:{state:n}})}),this._serviceWorker.addEventListener("message",function(t){e._logger.debug("ServiceWorker message event: "+t)})},e}();function A(e){return e&&!!["provider"].find(function(t){return e.hasOwnProperty(t)})}function P(e){return void 0!==e.redirectSignIn}!function(e){e.Cognito="COGNITO",e.Google="Google",e.Facebook="Facebook",e.Amazon="LoginWithAmazon",e.Apple="SignInWithApple"}(w||(w={})),function(e){e.NoConfig="noConfig",e.MissingAuthConfig="missingAuthConfig",e.EmptyUsername="emptyUsername",e.InvalidUsername="invalidUsername",e.EmptyPassword="emptyPassword",e.EmptyCode="emptyCode",e.SignUpError="signUpError",e.NoMFA="noMFA",e.InvalidMFA="invalidMFA",e.EmptyChallengeResponse="emptyChallengeResponse",e.NoUserSession="noUserSession",e.Default="default",e.DeviceConfig="deviceConfig",e.NetworkError="networkError",e.AutoSignInError="autoSignInError"}(_||(_={})),function(e){e.API_KEY="API_KEY",e.AWS_IAM="AWS_IAM",e.OPENID_CONNECT="OPENID_CONNECT",e.AMAZON_COGNITO_USER_POOLS="AMAZON_COGNITO_USER_POOLS",e.AWS_LAMBDA="AWS_LAMBDA"}(E||(E={}));var x=function(){return x=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},x.apply(this,arguments)},k=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},I=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(k(arguments[t]));return e},T=new o("Hub"),O="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",U=new(function(){function e(e){this.listeners=[],this.patterns=[],this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=e}return e.prototype.remove=function(e,t){if(e instanceof RegExp){var n=this.patterns.find(function(t){return t.pattern.source===e.source});if(!n)return void T.warn("No listeners for "+e);this.patterns=I(this.patterns.filter(function(e){return e!==n}))}else{var r=this.listeners[e];if(!r)return void T.warn("No listeners for "+e);this.listeners[e]=I(r.filter(function(e){return e.callback!==t}))}},e.prototype.dispatch=function(e,t,n,r){void 0===n&&(n=""),this.protectedChannels.indexOf(e)>-1&&(r===O||T.warn("WARNING: "+e+" is protected and dispatching on it can have unintended consequences"));var i={channel:e,payload:x({},t),source:n,patternInfo:[]};try{this._toListeners(i)}catch(e){T.error(e)}},e.prototype.listen=function(e,t,n){var r,i=this;if(void 0===n&&(n="noname"),function(e){return void 0!==e.onHubCapsule}(t))T.warn("WARNING onHubCapsule is Deprecated. Please pass in a callback."),r=t.onHubCapsule.bind(t);else{if("function"!=typeof t)throw new Error("No callback supplied to Hub");r=t}if(e instanceof RegExp)this.patterns.push({pattern:e,callback:r});else{var o=this.listeners[e];o||(o=[],this.listeners[e]=o),o.push({name:n,callback:r})}return function(){i.remove(e,r)}},e.prototype._toListeners=function(e){var t=e.channel,n=e.payload,r=this.listeners[t];if(r&&r.forEach(function(r){T.debug("Dispatching to "+t+" with ",n);try{r.callback(e)}catch(e){T.error(e)}}),this.patterns.length>0){if(!n.message)return void T.warn("Cannot perform pattern matching without a message key");var i=n.message;this.patterns.forEach(function(t){var n=i.match(t.pattern);if(n){var r=k(n).slice(1),o=x(x({},e),{patternInfo:r});try{t.callback(o)}catch(e){T.error(e)}}})}},e}())("__default__"),M={},L=function(){function e(){}return e.setItem=function(e,t){return M[e]=t,M[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(M,e)?M[e]:void 0},e.removeItem=function(e){return delete M[e]},e.clear=function(){return M={}},e}(),R=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.amplify.test-ls",1),this.storageWindow.removeItem("aws.amplify.test-ls")}catch(e){this.storageWindow=L}}return e.prototype.getStorage=function(){return this.storageWindow},e}(),N=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),D=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})},j=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},B=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},F=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(B(arguments[t]));return e},z=new o("Util"),K=function(e){function t(t){var n=e.call(this,t)||this;return n.nonRetryable=!0,n}return N(t,e),t}(Error),q=3e5,H=new o("CognitoCredentials"),V=new Promise(function(e,t){return y().isBrowser?window.gapi&&window.gapi.auth2&&window.gapi.auth2?(H.debug("google api already loaded"),e()):void setTimeout(function(){return e()},2e3):(H.debug("not in the browser, directly resolved"),e())}),W=function(){function e(){this.initialized=!1,this.refreshGoogleToken=this.refreshGoogleToken.bind(this),this._refreshGoogleTokenImpl=this._refreshGoogleTokenImpl.bind(this)}return e.prototype.refreshGoogleToken=function(){return e=this,t=void 0,r=function(){return function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,function(e){switch(e.label){case 0:return this.initialized?[3,2]:(H.debug("need to wait for the Google SDK loaded"),[4,V]);case 1:e.sent(),this.initialized=!0,H.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshGoogleTokenImpl()]}})},new((n=void 0)||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())});var e,t,n,r},e.prototype._refreshGoogleTokenImpl=function(){var e=null;return y().isBrowser&&(e=window.gapi&&window.gapi.auth2?window.gapi.auth2:null),e?new Promise(function(t,n){e.getAuthInstance().then(function(e){e||(H.debug("google Auth undefined"),n(new K("google Auth undefined")));var r=e.currentUser.get();r.isSignedIn()?(H.debug("refreshing the google access token"),r.reloadAuthResponse().then(function(e){var n=e.id_token,r=e.expires_at;t({token:n,expires_at:r})}).catch(function(e){e&&"network_error"===e.error?n("Network error reloading google auth response"):n(new K("Failed to reload google auth response"))})):n(new K("User is not signed in with Google"))}).catch(function(e){H.debug("Failed to refresh google token",e),n(new K("Failed to refresh google token"))})}):(H.debug("no gapi auth2 available"),Promise.reject("no gapi auth2 available"))},e}(),G=new o("CognitoCredentials"),$=new Promise(function(e,t){return y().isBrowser?window.FB?(G.debug("FB SDK already loaded"),e()):void setTimeout(function(){return e()},2e3):(G.debug("not in the browser, directly resolved"),e())}),J=function(){function e(){this.initialized=!1,this.refreshFacebookToken=this.refreshFacebookToken.bind(this),this._refreshFacebookTokenImpl=this._refreshFacebookTokenImpl.bind(this)}return e.prototype.refreshFacebookToken=function(){return e=this,t=void 0,r=function(){return function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,function(e){switch(e.label){case 0:return this.initialized?[3,2]:(G.debug("need to wait for the Facebook SDK loaded"),[4,$]);case 1:e.sent(),this.initialized=!0,G.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshFacebookTokenImpl()]}})},new((n=void 0)||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())});var e,t,n,r},e.prototype._refreshFacebookTokenImpl=function(){var e=null;if(y().isBrowser&&(e=window.FB),!e){var t="no fb sdk available";return G.debug(t),Promise.reject(new K(t))}return new Promise(function(t,n){e.getLoginStatus(function(e){if(e&&e.authResponse){var r=e.authResponse,i=r.accessToken,o=1e3*r.expiresIn+(new Date).getTime();i||(s="the jwtToken is undefined",G.debug(s),n(new K(s))),t({token:i,expires_at:o})}else{var s="no response from facebook when refreshing the jwt token";G.debug(s),n(new K(s))}},{scope:"public_profile,email"})})},e}(),Y=new W,Z=new J,X=n(1327),Q=function(e,t){return Q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Q(e,t)};function ee(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Q(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var te,ne,re,ie,oe,se,ae,ue,ce,le,fe,de,he,pe,ge,ve,ye,me,be,Se,we,_e,Ee,Ce,Ae,Pe,xe,ke,Ie,Te,Oe,Ue,Me,Le,Re,Ne,De,je,Be,Fe,ze,Ke,qe,He,Ve,We,Ge,$e,Je,Ye,Ze,Xe,Qe,et,tt,nt,rt,it=function(){return it=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},it.apply(this,arguments)};function ot(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})}function st(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError,function(e){e.AUTHENTICATED_ROLE="AuthenticatedRole",e.DENY="Deny"}(te||(te={})),function(e){e.filterSensitiveLog=function(e){return it({},e)}}(ne||(ne={})),function(e){e.filterSensitiveLog=function(e){return it({},e)}}(re||(re={})),function(e){e.filterSensitiveLog=function(e){return it({},e)}}(ie||(ie={})),function(e){e.filterSensitiveLog=function(e){return it({},e)}}(oe||(oe={})),function(e){e.filterSensitiveLog=function(e){return it({},e)}}(se||(se={})),function(e){e.filterSensitiveLog=function(e){return it({},e)}}(ae||(ae={})),function(e){e.filterSensitiveLog=function(e){return it({},e)}}(ue||(ue={})),function(e){e.filterSensitiveLog=function(e){return it({},e)}}(ce||(ce={})),function(e){e.filterSensitiveLog=function(e){return it({},e)}}(le||(le={})),function(e){e.filterSensitiveLog=function(e){return it({},e)}}(fe||(fe={})),function(e){e.ACCESS_DENIED="AccessDenied",e.INTERNAL_SERVER_ERROR="InternalServerError"}(de||(de={})),function(e){e.filterSensitiveLog=function(e){return it({},e)}}(he||(he={})),function(e){e.filterSensitiveLog=function(e){return it({},e)}}(pe||(pe={})),function(e){e.filterSensitiveLog=function(e){return it({},e)}}(ge||(ge={})),function(e){e.filterSensitiveLog=function(e){return it({},e)}}(ve||(ve={})),function(e){e.filterSensitiveLog=function(e){return it({},e)}}(ye||(ye={})),function(e){e.filterSensitiveLog=function(e){return it({},e)}}(me||(me={})),function(e){e.filterSensitiveLog=function(e){return it({},e)}}(be||(be={})),function(e){e.filterSensitiveLog=function(e){return it({},e)}}(Se||(Se={})),function(e){e.filterSensitiveLog=function(e){return it({},e)}}(we||(we={})),function(e){e.filterSensitiveLog=function(e){return it({},e)}}(_e||(_e={})),function(e){e.filterSensitiveLog=function(e){return it({},e)}}(Ee||(Ee={})),function(e){e.filterSensitiveLog=function(e){return it({},e)}}(Ce||(Ce={})),function(e){e.filterSensitiveLog=function(e){return it({},e)}}(Ae||(Ae={})),function(e){e.filterSensitiveLog=function(e){return it({},e)}}(Pe||(Pe={})),function(e){e.filterSensitiveLog=function(e){return it({},e)}}(xe||(xe={})),function(e){e.CONTAINS="Contains",e.EQUALS="Equals",e.NOT_EQUAL="NotEqual",e.STARTS_WITH="StartsWith"}(ke||(ke={})),function(e){e.filterSensitiveLog=function(e){return it({},e)}}(Ie||(Ie={})),function(e){e.filterSensitiveLog=function(e){return it({},e)}}(Te||(Te={})),function(e){e.RULES="Rules",e.TOKEN="Token"}(Oe||(Oe={})),function(e){e.filterSensitiveLog=function(e){return it({},e)}}(Ue||(Ue={})),function(e){e.filterSensitiveLog=function(e){return it({},e)}}(Me||(Me={})),function(e){e.filterSensitiveLog=function(e){return it({},e)}}(Le||(Le={})),function(e){e.filterSensitiveLog=function(e){return it({},e)}}(Re||(Re={})),function(e){e.filterSensitiveLog=function(e){return it({},e)}}(Ne||(Ne={})),function(e){e.filterSensitiveLog=function(e){return it({},e)}}(De||(De={})),function(e){e.filterSensitiveLog=function(e){return it({},e)}}(je||(je={})),function(e){e.filterSensitiveLog=function(e){return it({},e)}}(Be||(Be={})),function(e){e.filterSensitiveLog=function(e){return it({},e)}}(Fe||(Fe={})),function(e){e.filterSensitiveLog=function(e){return it({},e)}}(ze||(ze={})),function(e){e.filterSensitiveLog=function(e){return it({},e)}}(Ke||(Ke={})),function(e){e.filterSensitiveLog=function(e){return it({},e)}}(qe||(qe={})),function(e){e.filterSensitiveLog=function(e){return it({},e)}}(He||(He={})),function(e){e.filterSensitiveLog=function(e){return it({},e)}}(Ve||(Ve={})),function(e){e.filterSensitiveLog=function(e){return it({},e)}}(We||(We={})),function(e){e.filterSensitiveLog=function(e){return it({},e)}}(Ge||(Ge={})),function(e){e.filterSensitiveLog=function(e){return it({},e)}}($e||($e={})),function(e){e.filterSensitiveLog=function(e){return it({},e)}}(Je||(Je={})),function(e){e.filterSensitiveLog=function(e){return it({},e)}}(Ye||(Ye={})),function(e){e.filterSensitiveLog=function(e){return it({},e)}}(Ze||(Ze={})),function(e){e.filterSensitiveLog=function(e){return it({},e)}}(Xe||(Xe={})),function(e){e.filterSensitiveLog=function(e){return it({},e)}}(Qe||(Qe={})),function(e){e.filterSensitiveLog=function(e){return it({},e)}}(et||(et={})),function(e){e.filterSensitiveLog=function(e){return it({},e)}}(tt||(tt={})),function(e){e.filterSensitiveLog=function(e){return it({},e)}}(nt||(nt={})),function(e){e.filterSensitiveLog=function(e){return it({},e)}}(rt||(rt={}));var at=function(){function e(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}return e.isInstance=function(e){if(!e)return!1;var t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers},e}(),ut=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.substr(-1)?e.protocol+":":e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/"+e.path:e.path:"/"}return e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers},e.prototype.clone=function(){var t,n=new e((0,X.__assign)((0,X.__assign)({},this),{headers:(0,X.__assign)({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce(function(e,n){var r,i=t[n];return(0,X.__assign)((0,X.__assign)({},e),((r={})[n]=Array.isArray(i)?(0,X.__spread)(i):i,r))},{}))),n},e}(),ct=function(e,t){return ot(void 0,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,f,d,h,p,g,v;return st(this,function(y){switch(y.label){case 0:return r=[it({},e)],v={},[4,Mt(e.body,t)];case 1:switch(n=it.apply(void 0,r.concat([(v.body=y.sent(),v)])),o="UnknownError",o=Lt(e,n.body)){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidIdentityPoolConfigurationException":case"com.amazonaws.cognitoidentity#InvalidIdentityPoolConfigurationException":return[3,6];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,8];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return s=[{}],[4,ft(n,t)];case 3:return i=it.apply(void 0,[it.apply(void 0,s.concat([y.sent()])),{name:o,$metadata:Ot(e)}]),[3,19];case 4:return a=[{}],[4,dt(n,t)];case 5:return i=it.apply(void 0,[it.apply(void 0,a.concat([y.sent()])),{name:o,$metadata:Ot(e)}]),[3,19];case 6:return u=[{}],[4,ht(n,t)];case 7:return i=it.apply(void 0,[it.apply(void 0,u.concat([y.sent()])),{name:o,$metadata:Ot(e)}]),[3,19];case 8:return c=[{}],[4,pt(n,t)];case 9:return i=it.apply(void 0,[it.apply(void 0,c.concat([y.sent()])),{name:o,$metadata:Ot(e)}]),[3,19];case 10:return l=[{}],[4,vt(n,t)];case 11:return i=it.apply(void 0,[it.apply(void 0,l.concat([y.sent()])),{name:o,$metadata:Ot(e)}]),[3,19];case 12:return f=[{}],[4,yt(n,t)];case 13:return i=it.apply(void 0,[it.apply(void 0,f.concat([y.sent()])),{name:o,$metadata:Ot(e)}]),[3,19];case 14:return d=[{}],[4,mt(n,t)];case 15:return i=it.apply(void 0,[it.apply(void 0,d.concat([y.sent()])),{name:o,$metadata:Ot(e)}]),[3,19];case 16:return h=[{}],[4,bt(n,t)];case 17:return i=it.apply(void 0,[it.apply(void 0,h.concat([y.sent()])),{name:o,$metadata:Ot(e)}]),[3,19];case 18:p=n.body,o=p.code||p.Code||o,i=it(it({},p),{name:""+o,message:p.message||p.Message||o,$fault:"client",$metadata:Ot(e)}),y.label=19;case 19:return g=i.message||i.Message||o,i.message=g,delete i.Message,[2,Promise.reject(Object.assign(new Error(g),i))]}})})},lt=function(e,t){return ot(void 0,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,f,d,h,p,g,v;return st(this,function(y){switch(y.label){case 0:return r=[it({},e)],v={},[4,Mt(e.body,t)];case 1:switch(n=it.apply(void 0,r.concat([(v.body=y.sent(),v)])),o="UnknownError",o=Lt(e,n.body)){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,6];case"LimitExceededException":case"com.amazonaws.cognitoidentity#LimitExceededException":return[3,8];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return s=[{}],[4,ft(n,t)];case 3:return i=it.apply(void 0,[it.apply(void 0,s.concat([y.sent()])),{name:o,$metadata:Ot(e)}]),[3,19];case 4:return a=[{}],[4,dt(n,t)];case 5:return i=it.apply(void 0,[it.apply(void 0,a.concat([y.sent()])),{name:o,$metadata:Ot(e)}]),[3,19];case 6:return u=[{}],[4,pt(n,t)];case 7:return i=it.apply(void 0,[it.apply(void 0,u.concat([y.sent()])),{name:o,$metadata:Ot(e)}]),[3,19];case 8:return c=[{}],[4,gt(n,t)];case 9:return i=it.apply(void 0,[it.apply(void 0,c.concat([y.sent()])),{name:o,$metadata:Ot(e)}]),[3,19];case 10:return l=[{}],[4,vt(n,t)];case 11:return i=it.apply(void 0,[it.apply(void 0,l.concat([y.sent()])),{name:o,$metadata:Ot(e)}]),[3,19];case 12:return f=[{}],[4,yt(n,t)];case 13:return i=it.apply(void 0,[it.apply(void 0,f.concat([y.sent()])),{name:o,$metadata:Ot(e)}]),[3,19];case 14:return d=[{}],[4,mt(n,t)];case 15:return i=it.apply(void 0,[it.apply(void 0,d.concat([y.sent()])),{name:o,$metadata:Ot(e)}]),[3,19];case 16:return h=[{}],[4,bt(n,t)];case 17:return i=it.apply(void 0,[it.apply(void 0,h.concat([y.sent()])),{name:o,$metadata:Ot(e)}]),[3,19];case 18:p=n.body,o=p.code||p.Code||o,i=it(it({},p),{name:""+o,message:p.message||p.Message||o,$fault:"client",$metadata:Ot(e)}),y.label=19;case 19:return g=i.message||i.Message||o,i.message=g,delete i.Message,[2,Promise.reject(Object.assign(new Error(g),i))]}})})},ft=function(e,t){return ot(void 0,void 0,void 0,function(){var n,r;return st(this,function(i){return n=e.body,r=_t(n,t),[2,it({name:"ExternalServiceException",$fault:"client",$metadata:Ot(e)},r)]})})},dt=function(e,t){return ot(void 0,void 0,void 0,function(){var n,r;return st(this,function(i){return n=e.body,r=Et(n,t),[2,it({name:"InternalErrorException",$fault:"server",$metadata:Ot(e)},r)]})})},ht=function(e,t){return ot(void 0,void 0,void 0,function(){var n,r;return st(this,function(i){return n=e.body,r=Ct(n,t),[2,it({name:"InvalidIdentityPoolConfigurationException",$fault:"client",$metadata:Ot(e)},r)]})})},pt=function(e,t){return ot(void 0,void 0,void 0,function(){var n,r;return st(this,function(i){return n=e.body,r=At(n,t),[2,it({name:"InvalidParameterException",$fault:"client",$metadata:Ot(e)},r)]})})},gt=function(e,t){return ot(void 0,void 0,void 0,function(){var n,r;return st(this,function(i){return n=e.body,r=Pt(n,t),[2,it({name:"LimitExceededException",$fault:"client",$metadata:Ot(e)},r)]})})},vt=function(e,t){return ot(void 0,void 0,void 0,function(){var n,r;return st(this,function(i){return n=e.body,r=xt(n,t),[2,it({name:"NotAuthorizedException",$fault:"client",$metadata:Ot(e)},r)]})})},yt=function(e,t){return ot(void 0,void 0,void 0,function(){var n,r;return st(this,function(i){return n=e.body,r=kt(n,t),[2,it({name:"ResourceConflictException",$fault:"client",$metadata:Ot(e)},r)]})})},mt=function(e,t){return ot(void 0,void 0,void 0,function(){var n,r;return st(this,function(i){return n=e.body,r=It(n,t),[2,it({name:"ResourceNotFoundException",$fault:"client",$metadata:Ot(e)},r)]})})},bt=function(e,t){return ot(void 0,void 0,void 0,function(){var n,r;return st(this,function(i){return n=e.body,r=Tt(n,t),[2,it({name:"TooManyRequestsException",$fault:"client",$metadata:Ot(e)},r)]})})},St=function(e,t){return Object.entries(e).reduce(function(e,t){var n,r=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}(t,2),i=r[0],o=r[1];return null===o?e:it(it({},e),((n={})[i]=o,n))},{})},wt=function(e,t){return{AccessKeyId:void 0!==e.AccessKeyId&&null!==e.AccessKeyId?e.AccessKeyId:void 0,Expiration:void 0!==e.Expiration&&null!==e.Expiration?new Date(Math.round(1e3*e.Expiration)):void 0,SecretKey:void 0!==e.SecretKey&&null!==e.SecretKey?e.SecretKey:void 0,SessionToken:void 0!==e.SessionToken&&null!==e.SessionToken?e.SessionToken:void 0}},_t=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Et=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Ct=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},At=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Pt=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},xt=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},kt=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},It=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Tt=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Ot=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},Ut=function(e,t,n,r,i){return ot(void 0,void 0,void 0,function(){var o,s,a,u,c,l;return st(this,function(f){switch(f.label){case 0:return[4,e.endpoint()];case 1:return o=f.sent(),s=o.hostname,a=o.protocol,u=void 0===a?"https":a,c=o.port,l={protocol:u,hostname:s,port:c,method:"POST",path:n,headers:t},void 0!==r&&(l.hostname=r),void 0!==i&&(l.body=i),[2,new ut(l)]}})})},Mt=function(e,t){return function(e,t){return function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)}(e,t).then(function(e){return t.utf8Encoder(e)})}(e,t).then(function(e){return e.length?JSON.parse(e):{}})},Lt=function(e,t){var n,r=function(e){var t=e;return t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},i=(n=e.headers,Object.keys(n).find(function(e){return e.toLowerCase()==="x-amzn-errortype".toLowerCase()}));return void 0!==i?r(e.headers[i]):void 0!==t.code?r(t.code):void 0!==t.__type?r(t.__type):""},Rt={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Nt={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function Dt(e,t,n){return{applyToStack:function(r){r.add(function(e,t){return function(n,r){return function(r){return(0,X.__awaiter)(void 0,void 0,void 0,function(){var i,o;return(0,X.__generator)(this,function(s){switch(s.label){case 0:return[4,n(r)];case 1:return i=s.sent().response,[4,t(i,e)];case 2:return o=s.sent(),[2,{response:i,output:o}]}})})}}}(e,n),Rt),r.add(function(e,t){return function(n,r){return function(r){return(0,X.__awaiter)(void 0,void 0,void 0,function(){var i;return(0,X.__generator)(this,function(o){switch(o.label){case 0:return[4,t(r.input,e)];case 1:return i=o.sent(),[2,n((0,X.__assign)((0,X.__assign)({},r),{request:i}))]}})})}}}(e,t),Nt)}}}var jt=function(){var e=[],t=[],n=new Set,r=function(n){return e.forEach(function(e){n.add(e.middleware,(0,X.__assign)({},e))}),t.forEach(function(e){n.addRelativeTo(e.middleware,(0,X.__assign)({},e))}),n},i=function(e){var t=[];return e.before.forEach(function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,(0,X.__spread)(i(e)))}),t.push(e),e.after.reverse().forEach(function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,(0,X.__spread)(i(e)))}),t},o={add:function(t,r){void 0===r&&(r={});var i=r.name,o=r.override,s=(0,X.__assign)({step:"initialize",priority:"normal",middleware:t},r);if(i){if(n.has(i)){if(!o)throw new Error("Duplicate middleware name '"+i+"'");var a=e.findIndex(function(e){return e.name===i}),u=e[a];if(u.step!==s.step||u.priority!==s.priority)throw new Error('"'+i+'" middleware with '+u.priority+" priority in "+u.step+" step cannot be overridden by same-name middleware with "+s.priority+" priority in "+s.step+" step.");e.splice(a,1)}n.add(i)}e.push(s)},addRelativeTo:function(e,r){var i=r.name,o=r.override,s=(0,X.__assign)({middleware:e},r);if(i){if(n.has(i)){if(!o)throw new Error("Duplicate middleware name '"+i+"'");var a=t.findIndex(function(e){return e.name===i}),u=t[a];if(u.toMiddleware!==s.toMiddleware||u.relation!==s.relation)throw new Error('"'+i+'" middleware '+u.relation+' "'+u.toMiddleware+'" middleware cannot be overridden by same-name middleware '+s.relation+' "'+s.toMiddleware+'" middleware.');t.splice(a,1)}n.add(i)}t.push(s)},clone:function(){return r(jt())},use:function(e){e.applyToStack(o)},remove:function(r){return"string"==typeof r?function(r){var i=!1,o=function(e){return!e.name||e.name!==r||(i=!0,n.delete(r),!1)};return e=e.filter(o),t=t.filter(o),i}(r):function(r){var i=!1,o=function(e){return e.middleware!==r||(i=!0,e.name&&n.delete(e.name),!1)};return e=e.filter(o),t=t.filter(o),i}(r)},removeByTag:function(r){var i=!1,o=function(e){var t=e.tags,o=e.name;return!t||!t.includes(r)||(o&&n.delete(o),i=!0,!1)};return e=e.filter(o),t=t.filter(o),i},concat:function(e){var t=r(jt());return t.use(e),t},applyToStack:r,resolve:function(n,r){var o,s;try{for(var a=(0,X.__values)(function(){var n,r=[],o=[],s={};return e.forEach(function(e){var t=(0,X.__assign)((0,X.__assign)({},e),{before:[],after:[]});t.name&&(s[t.name]=t),r.push(t)}),t.forEach(function(e){var t=(0,X.__assign)((0,X.__assign)({},e),{before:[],after:[]});t.name&&(s[t.name]=t),o.push(t)}),o.forEach(function(e){if(e.toMiddleware){var t=s[e.toMiddleware];if(void 0===t)throw new Error(e.toMiddleware+" is not found when adding "+(e.name||"anonymous")+" middleware "+e.relation+" "+e.toMiddleware);"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}}),(n=r,n.sort(function(e,t){return Bt[t.step]-Bt[e.step]||Ft[t.priority||"normal"]-Ft[e.priority||"normal"]})).map(i).reduce(function(e,t){return e.push.apply(e,(0,X.__spread)(t)),e},[]).map(function(e){return e.middleware})}().reverse()),u=a.next();!u.done;u=a.next())n=(0,u.value)(n,r)}catch(e){o={error:e}}finally{try{u&&!u.done&&(s=a.return)&&s.call(a)}finally{if(o)throw o.error}}return n}};return o},Bt={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},Ft={high:3,normal:2,low:1},zt=function(){function e(e){this.middlewareStack=jt(),this.config=e}return e.prototype.send=function(e,t,n){var r="function"!=typeof t?t:void 0,i="function"==typeof t?t:n,o=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!i)return o(e).then(function(e){return e.output});o(e).then(function(e){return i(null,e.output)},function(e){return i(e)}).catch(function(){})},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}(),Kt=function(){this.middlewareStack=jt()};function qt(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16)})}var Ht=function(e){return Array.isArray(e)?e:[e]},Vt=function(e){var t="#text";for(var n in e)e.hasOwnProperty(n)&&void 0!==e[n][t]?e[n]=e[n][t]:"object"==typeof e[n]&&null!==e[n]&&(e[n]=Vt(e[n]));return e},Wt=function(){var e=Object.getPrototypeOf(this).constructor,t=new(Function.bind.apply(String,(0,X.__spread)([null],arguments)));return Object.setPrototypeOf(t,e.prototype),t};Wt.prototype=Object.create(String.prototype,{constructor:{value:Wt,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(Wt,String),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}(0,X.__extends)(t,e),t.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},t.prototype.toJSON=function(){return e.prototype.toString.call(this)},t.fromObject=function(e){return e instanceof t?e:new t(e instanceof String||"string"==typeof e?e:JSON.stringify(e))}}(Wt);var Gt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],$t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Jt(e){var t=e.getUTCFullYear(),n=e.getUTCMonth(),r=e.getUTCDay(),i=e.getUTCDate(),o=e.getUTCHours(),s=e.getUTCMinutes(),a=e.getUTCSeconds();return Gt[r]+", "+(i<10?"0"+i:""+i)+" "+$t[n]+" "+t+" "+(o<10?"0"+o:""+o)+":"+(s<10?"0"+s:""+s)+":"+(a<10?"0"+a:""+a)+" GMT"}var Yt="***SensitiveInformation***",Zt=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return ee(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Dt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CognitoIdentityClient",commandName:"GetCredentialsForIdentityCommand",inputFilterSensitiveLog:we.filterSensitiveLog,outputFilterSensitiveLog:Ee.filterSensitiveLog},o=t.requestHandler;return r.resolve(function(e){return o.handle(e.request,n||{})},i)},t.prototype.serialize=function(e,t){return function(e,t){return ot(void 0,void 0,void 0,function(){var n,r;return st(this,function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetCredentialsForIdentity"},r=JSON.stringify(function(e,t){return it(it(it({},void 0!==e.CustomRoleArn&&null!==e.CustomRoleArn&&{CustomRoleArn:e.CustomRoleArn}),void 0!==e.IdentityId&&null!==e.IdentityId&&{IdentityId:e.IdentityId}),void 0!==e.Logins&&null!==e.Logins&&{Logins:St(e.Logins,t)})}(e,t)),[2,Ut(t,n,"/",void 0,r)]})})}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return ot(void 0,void 0,void 0,function(){var n,r,i;return st(this,function(o){switch(o.label){case 0:return e.statusCode>=300?[2,ct(e,t)]:[4,Mt(e.body,t)];case 1:return n=o.sent(),r=function(e){return{Credentials:void 0!==e.Credentials&&null!==e.Credentials?wt(e.Credentials):void 0,IdentityId:void 0!==e.IdentityId&&null!==e.IdentityId?e.IdentityId:void 0}}(n),i=it({$metadata:Ot(e)},r),[2,Promise.resolve(i)]}})})}(e,t)},t}(Kt),Xt=function(e){function t(t,n){void 0===n&&(n=!0);var r=e.call(this,t)||this;return r.tryNextLink=n,r}return(0,X.__extends)(t,e),t}(Error);function Qt(e){return Promise.all(Object.keys(e).reduce(function(t,n){var r=e[n];return"string"==typeof r?t.push([n,r]):t.push(r().then(function(e){return[n,e]})),t},[])).then(function(e){return e.reduce(function(e,t){var n=(0,X.__read)(t,2),r=n[0],i=n[1];return e[r]=i,e},{})})}function en(e){var t=this;return function(){return(0,X.__awaiter)(t,void 0,void 0,function(){var t,n,r,i,o,s,a,u,c,l,f,d,h;return(0,X.__generator)(this,function(p){switch(p.label){case 0:return l=(c=e.client).send,f=Zt.bind,h={CustomRoleArn:e.customRoleArn,IdentityId:e.identityId},e.logins?[4,Qt(e.logins)]:[3,2];case 1:return d=p.sent(),[3,3];case 2:d=void 0,p.label=3;case 3:return[4,l.apply(c,[new(f.apply(Zt,[void 0,(h.Logins=d,h)]))])];case 4:return t=p.sent().Credentials,n=void 0===t?function(){throw new Xt("Response from Amazon Cognito contained no credentials")}():t,r=n.AccessKeyId,i=void 0===r?function(){throw new Xt("Response from Amazon Cognito contained no access key ID")}():r,o=n.Expiration,s=n.SecretKey,a=void 0===s?function(){throw new Xt("Response from Amazon Cognito contained no secret key")}():s,u=n.SessionToken,[2,{identityId:e.identityId,accessKeyId:i,secretAccessKey:a,sessionToken:u,expiration:o}]}})})}}var tn=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return ee(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Dt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CognitoIdentityClient",commandName:"GetIdCommand",inputFilterSensitiveLog:Ae.filterSensitiveLog,outputFilterSensitiveLog:Pe.filterSensitiveLog},o=t.requestHandler;return r.resolve(function(e){return o.handle(e.request,n||{})},i)},t.prototype.serialize=function(e,t){return function(e,t){return ot(void 0,void 0,void 0,function(){var n,r;return st(this,function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetId"},r=JSON.stringify(function(e,t){return it(it(it({},void 0!==e.AccountId&&null!==e.AccountId&&{AccountId:e.AccountId}),void 0!==e.IdentityPoolId&&null!==e.IdentityPoolId&&{IdentityPoolId:e.IdentityPoolId}),void 0!==e.Logins&&null!==e.Logins&&{Logins:St(e.Logins,t)})}(e,t)),[2,Ut(t,n,"/",void 0,r)]})})}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return ot(void 0,void 0,void 0,function(){var n,r,i;return st(this,function(o){switch(o.label){case 0:return e.statusCode>=300?[2,lt(e,t)]:[4,Mt(e.body,t)];case 1:return n=o.sent(),r=function(e){return{IdentityId:void 0!==e.IdentityId&&null!==e.IdentityId?e.IdentityId:void 0}}(n),i=it({$metadata:Ot(e)},r),[2,Promise.resolve(i)]}})})}(e,t)},t}(Kt),nn="IdentityIds",rn=function(){function e(e){void 0===e&&(e="aws:cognito-identity-ids"),this.dbName=e}return e.prototype.getItem=function(e){return this.withObjectStore("readonly",function(t){var n=t.get(e);return new Promise(function(e){n.onerror=function(){return e(null)},n.onsuccess=function(){return e(n.result?n.result.value:null)}})}).catch(function(){return null})},e.prototype.removeItem=function(e){return this.withObjectStore("readwrite",function(t){var n=t.delete(e);return new Promise(function(e,t){n.onerror=function(){return t(n.error)},n.onsuccess=function(){return e()}})})},e.prototype.setItem=function(e,t){return this.withObjectStore("readwrite",function(n){var r=n.put({id:e,value:t});return new Promise(function(e,t){r.onerror=function(){return t(r.error)},r.onsuccess=function(){return e()}})})},e.prototype.getDb=function(){var e=self.indexedDB.open(this.dbName,1);return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)},e.onblocked=function(){n(new Error("Unable to access DB"))},e.onupgradeneeded=function(){var t=e.result;t.onerror=function(){n(new Error("Failed to create object store"))},t.createObjectStore(nn,{keyPath:"id"})}})},e.prototype.withObjectStore=function(e,t){return this.getDb().then(function(n){var r=n.transaction(nn,e);return r.oncomplete=function(){return n.close()},new Promise(function(e,n){r.onerror=function(){return n(r.error)},e(t(r.objectStore(nn)))}).catch(function(e){throw n.close(),e})})},e}(),on=function(){function e(e){void 0===e&&(e={}),this.store=e}return e.prototype.getItem=function(e){return e in this.store?this.store[e]:null},e.prototype.removeItem=function(e){delete this.store[e]},e.prototype.setItem=function(e,t){this.store[e]=t},e}(),sn=new on;var an=n(7578),un=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,cn)},cn=function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()};function ln(e){var t,n,r=[];try{for(var i=(0,X.__values)(Object.keys(e).sort()),o=i.next();!o.done;o=i.next()){var s=o.value,a=e[s];if(s=un(s),Array.isArray(a))for(var u=0,c=a.length;u<c;u++)r.push(s+"="+un(a[u]));else{var l=s;(a||"string"==typeof a)&&(l+="="+un(a)),r.push(l)}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r.join("&")}for(var fn=function(){function e(e){var t=(void 0===e?{}:e).requestTimeout;this.requestTimeout=t}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=(void 0===t?{}:t).abortSignal,r=this.requestTimeout;if(null==n?void 0:n.aborted){var i=new Error("Request aborted");return i.name="AbortError",Promise.reject(i)}var o=e.path;if(e.query){var s=ln(e.query);s&&(o+="?"+s)}var a=e.port,u=e.method,c=e.protocol+"//"+e.hostname+(a?":"+a:"")+o,l={body:"GET"===u||"HEAD"===u?void 0:e.body,headers:new Headers(e.headers),method:u};"undefined"!=typeof AbortController&&(l.signal=n);var f,d=new Request(c,l),h=[fetch(d).then(function(e){var t,n,r=e.headers,i={};try{for(var o=(0,X.__values)(r.entries()),s=o.next();!s.done;s=o.next()){var a=s.value;i[a[0]]=a[1]}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return void 0!==e.body?{response:new at({headers:i,statusCode:e.status,body:e.body})}:e.blob().then(function(t){return{response:new at({headers:i,statusCode:e.status,body:t})}})}),(f=r,void 0===f&&(f=0),new Promise(function(e,t){f&&setTimeout(function(){var e=new Error("Request did not complete within "+f+" ms");e.name="TimeoutError",t(e)},f)}))];return n&&h.push(new Promise(function(e,t){n.onabort=function(){var e=new Error("Request aborted");e.name="AbortError",t(e)}})),Promise.race(h)},e}(),dn={},hn=new Array(64),pn=0,gn="A".charCodeAt(0),vn="Z".charCodeAt(0);pn+gn<=vn;pn++){var yn=String.fromCharCode(pn+gn);dn[yn]=pn,hn[pn]=yn}for(pn=0,gn="a".charCodeAt(0),vn="z".charCodeAt(0);pn+gn<=vn;pn++){yn=String.fromCharCode(pn+gn);var mn=pn+26;dn[yn]=mn,hn[mn]=yn}for(pn=0;pn<10;pn++)dn[pn.toString(10)]=pn+52,yn=pn.toString(10),mn=pn+52,dn[yn]=mn,hn[mn]=yn;function bn(e){var t=e.length/4*3;"=="===e.substr(-2)?t-=2:"="===e.substr(-1)&&t--;for(var n=new ArrayBuffer(t),r=new DataView(n),i=0;i<e.length;i+=4){for(var o=0,s=0,a=i,u=i+3;a<=u;a++)"="!==e[a]?(o|=dn[e[a]]<<6*(u-a),s+=6):o>>=6;var c=i/4*3;o>>=s%8;for(var l=Math.floor(s/8),f=0;f<l;f++){var d=8*(l-f-1);r.setUint8(c+f,(o&255<<d)>>d)}}return new Uint8Array(n)}function Sn(e){for(var t="",n=0;n<e.length;n+=3){for(var r=0,i=0,o=n,s=Math.min(n+3,e.length);o<s;o++)r|=e[o]<<8*(s-o-1),i+=8;var a=Math.ceil(i/6);r<<=6*a-i;for(var u=1;u<=a;u++){var c=6*(a-u);t+=hn[(r&63<<c)>>c]}t+="==".slice(0,4-a)}return t}dn["+"]=62,hn[62]="+",dn["/"]=63,hn[63]="/";var wn=function(e){return"function"==typeof Blob&&e instanceof Blob?function(e){return(0,X.__awaiter)(this,void 0,void 0,function(){var t,n;return(0,X.__generator)(this,function(r){switch(r.label){case 0:return[4,_n(e)];case 1:return t=r.sent(),n=bn(t),[2,new Uint8Array(n)]}})})}(e):function(e){return(0,X.__awaiter)(this,void 0,void 0,function(){var t,n,r,i,o,s,a;return(0,X.__generator)(this,function(u){switch(u.label){case 0:t=new Uint8Array(0),n=e.getReader(),r=!1,u.label=1;case 1:return r?[3,3]:[4,n.read()];case 2:return i=u.sent(),o=i.done,(s=i.value)&&(a=t,(t=new Uint8Array(a.length+s.length)).set(a),t.set(s,a.length)),r=o,[3,1];case 3:return[2,t]}})})}(e)};function _n(e){return new Promise(function(t,n){var r=new FileReader;r.onloadend=function(){var e;if(2!==r.readyState)return n(new Error("Reader aborted too early"));var i=null!==(e=r.result)&&void 0!==e?e:"",o=i.indexOf(","),s=o>-1?o+1:i.length;t(i.substring(s))},r.onabort=function(){return n(new Error("Read aborted"))},r.onerror=function(){return n(r.error)},r.readAsDataURL(e)})}var En=function(e){return function(){return Promise.reject(e)}},Cn={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},An=function(e){return{applyToStack:function(t){t.add(function(e){return function(t,n){return function(r){return(0,X.__awaiter)(void 0,void 0,void 0,function(){var i;return(0,X.__generator)(this,function(o){return(null===(i=null==e?void 0:e.retryStrategy)||void 0===i?void 0:i.mode)&&(n.userAgent=(0,X.__spread)(n.userAgent||[],[["cfg/retry-mode",e.retryStrategy.mode]])),[2,e.retryStrategy.retry(t,r)]})})}}}(e),Cn)}}},Pn=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],xn=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],kn=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],In=[500,502,503,504],Tn=function(e){var t,n;return 429===(null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||xn.includes(e.name)||1==(null===(n=e.$retryable)||void 0===n?void 0:n.throttling)},On=n(4718),Un=function(e,t){return Math.floor(Math.min(2e4,Math.random()*Math.pow(2,t)*e))},Mn=function(e){return!!e&&(function(e){return void 0!==e.$retryable}(e)||function(e){return Pn.includes(e.name)}(e)||Tn(e)||function(e){var t;return kn.includes(e.name)||In.includes((null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||0)}(e))},Ln=function(){function e(e,t){var n,r,i,o,s,a,u;this.maxAttemptsProvider=e,this.mode="standard",this.retryDecider=null!==(n=null==t?void 0:t.retryDecider)&&void 0!==n?n:Mn,this.delayDecider=null!==(r=null==t?void 0:t.delayDecider)&&void 0!==r?r:Un,this.retryQuota=null!==(i=null==t?void 0:t.retryQuota)&&void 0!==i?i:(o=500,s=500,a=function(e){return"TimeoutError"===e.name?10:5},u=function(e){return a(e)<=s},Object.freeze({hasRetryTokens:u,retrieveRetryTokens:function(e){if(!u(e))throw new Error("No retry token available");var t=a(e);return s-=t,t},releaseRetryTokens:function(e){s+=null!=e?e:1,s=Math.min(s,o)}}))}return e.prototype.shouldRetry=function(e,t,n){return t<n&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)},e.prototype.getMaxAttempts=function(){return(0,X.__awaiter)(this,void 0,void 0,function(){var e;return(0,X.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return e=t.sent(),[3,3];case 2:return t.sent(),e=3,[3,3];case 3:return[2,e]}})})},e.prototype.retry=function(e,t){return(0,X.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return(0,X.__generator)(this,function(l){switch(l.label){case 0:return r=0,i=0,[4,this.getMaxAttempts()];case 1:o=l.sent(),s=t.request,ut.isInstance(s)&&(s.headers["amz-sdk-invocation-id"]=(0,On.v4)()),a=function(){var a,c,l,f,d;return(0,X.__generator)(this,function(h){switch(h.label){case 0:return h.trys.push([0,2,,5]),ut.isInstance(s)&&(s.headers["amz-sdk-request"]="attempt="+(r+1)+"; max="+o),[4,e(t)];case 1:return a=h.sent(),c=a.response,l=a.output,u.retryQuota.releaseRetryTokens(n),l.$metadata.attempts=r+1,l.$metadata.totalRetryDelay=i,[2,{value:{response:c,output:l}}];case 2:return f=h.sent(),r++,u.shouldRetry(f,r,o)?(n=u.retryQuota.retrieveRetryTokens(f),d=u.delayDecider(Tn(f)?500:100,r),i+=d,[4,new Promise(function(e){return setTimeout(e,d)})]):[3,4];case 3:return h.sent(),[2,"continue"];case 4:throw f.$metadata||(f.$metadata={}),f.$metadata.attempts=r,f.$metadata.totalRetryDelay=i,f;case 5:return[2]}})},u=this,l.label=2;case 2:return[5,a()];case 3:return"object"==typeof(c=l.sent())?[2,c.value]:[3,2];case 4:return[2]}})})},e}(),Rn=function(e){var t=Nn(e.maxAttempts);return(0,X.__assign)((0,X.__assign)({},e),{maxAttempts:t,retryStrategy:e.retryStrategy||new Ln(t)})},Nn=function(e){if(void 0===e&&(e=3),"number"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e};function Dn(e){if("string"==typeof e){for(var t=e.length,n=t-1;n>=0;n--){var r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2)}return t}return"number"==typeof e.byteLength?e.byteLength:"number"==typeof e.size?e.size:void 0}for(var jn=n(1472),Bn=n.n(jn),Fn=function(e){var t=e.serviceId,n=e.clientVersion;return function(){return(0,X.__awaiter)(void 0,void 0,void 0,function(){var e,r,i,o,s,a,u,c,l;return(0,X.__generator)(this,function(f){return e=(null===(i=null===window||void 0===window?void 0:window.navigator)||void 0===i?void 0:i.userAgent)?Bn().parse(window.navigator.userAgent):void 0,r=[["aws-sdk-js",n],["os/"+((null===(o=null==e?void 0:e.os)||void 0===o?void 0:o.name)||"other"),null===(s=null==e?void 0:e.os)||void 0===s?void 0:s.version],["lang/js"],["md/browser",(null!==(u=null===(a=null==e?void 0:e.browser)||void 0===a?void 0:a.name)&&void 0!==u?u:"unknown")+"_"+(null!==(l=null===(c=null==e?void 0:e.browser)||void 0===c?void 0:c.version)&&void 0!==l?l:"unknown")]],t&&r.push(["api/"+t,n]),[2,r]})})}},zn=n(404),Kn="cognito-identity.{region}.amazonaws.com",qn=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),Hn=new Set(["cn-north-1","cn-northwest-1"]),Vn=new Set(["us-iso-east-1"]),Wn=new Set(["us-isob-east-1"]),Gn=new Set(["us-gov-east-1","us-gov-west-1"]),$n=function(e){var t,n=new URL(e),r=n.hostname,i=n.pathname,o=n.port,s=n.protocol,a=n.search;return a&&(t=function(e){var t,n,r={};if(e=e.replace(/^\?/,""))try{for(var i=(0,X.__values)(e.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value,a=(0,X.__read)(s.split("="),2),u=a[0],c=a[1],l=void 0===c?null:c;u=decodeURIComponent(u),l&&(l=decodeURIComponent(l)),u in r?Array.isArray(r[u])?r[u].push(l):r[u]=[r[u],l]:r[u]=l}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(a)),{hostname:r,port:o?parseInt(o):void 0,protocol:s,path:i,query:t}},Jn={apiVersion:"2014-06-30",disableHostPrefix:!1,logger:{},regionInfoProvider:function(e,t){var n=void 0;switch(e){case"ap-northeast-1":n={hostname:"cognito-identity.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":n={hostname:"cognito-identity.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":n={hostname:"cognito-identity.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":n={hostname:"cognito-identity.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":n={hostname:"cognito-identity.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"ca-central-1":n={hostname:"cognito-identity.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":n={hostname:"cognito-identity.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":n={hostname:"cognito-identity.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":n={hostname:"cognito-identity.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":n={hostname:"cognito-identity.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":n={hostname:"cognito-identity.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":n={hostname:"cognito-identity.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-east-1":n={hostname:"cognito-identity-fips.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"fips-us-east-2":n={hostname:"cognito-identity-fips.us-east-2.amazonaws.com",partition:"aws",signingRegion:"us-east-2"};break;case"fips-us-gov-west-1":n={hostname:"cognito-identity-fips.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"fips-us-west-2":n={hostname:"cognito-identity-fips.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;case"sa-east-1":n={hostname:"cognito-identity.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":n={hostname:"cognito-identity.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":n={hostname:"cognito-identity.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-west-1":n={hostname:"cognito-identity.us-gov-west-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-west-1":n={hostname:"cognito-identity.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":n={hostname:"cognito-identity.us-west-2.amazonaws.com",partition:"aws"};break;default:qn.has(e)&&(n={hostname:Kn.replace("{region}",e),partition:"aws"}),Hn.has(e)&&(n={hostname:"cognito-identity.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),Vn.has(e)&&(n={hostname:"cognito-identity.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),Wn.has(e)&&(n={hostname:"cognito-identity.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),Gn.has(e)&&(n={hostname:"cognito-identity.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov"}),void 0===n&&(n={hostname:Kn.replace("{region}",e),partition:"aws"})}return Promise.resolve(it({signingService:"cognito-identity"},n))},serviceId:"Cognito Identity",urlParser:$n},Yn=it(it({},Jn),{runtime:"browser",base64Decoder:bn,base64Encoder:Sn,bodyLengthChecker:Dn,credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:Fn({serviceId:Jn.serviceId,clientVersion:"3.6.1"}),maxAttempts:3,region:En("Region is missing"),requestHandler:new fn,sha256:an.Sha256,streamCollector:wn,utf8Decoder:zn.fromUtf8,utf8Encoder:zn.toUtf8}),Zn=function(e){var t;return(0,X.__assign)((0,X.__assign)({},e),{tls:null===(t=e.tls)||void 0===t||t,endpoint:e.endpoint?Xn(e):function(){return Qn(e)},isCustomEndpoint:!!e.endpoint})},Xn=function(e){var t=e.endpoint,n=e.urlParser;if("string"==typeof t){var r=Promise.resolve(n(t));return function(){return r}}if("object"==typeof t){var i=Promise.resolve(t);return function(){return i}}return t},Qn=function(e){return(0,X.__awaiter)(void 0,void 0,void 0,function(){var t,n,r,i,o;return(0,X.__generator)(this,function(s){switch(s.label){case 0:return t=e.tls,n=void 0===t||t,[4,e.region()];case 1:if(r=s.sent(),!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");return[4,e.regionInfoProvider(r)];case 2:if(!(i=(null!==(o=s.sent())&&void 0!==o?o:{}).hostname))throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser((n?"https:":"http:")+"//"+i)]}})})},er=function(e){if(!e.region)throw new Error("Region is missing");return(0,X.__assign)((0,X.__assign)({},e),{region:tr(e.region)})},tr=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},nr="content-length",rr={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},ir=function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(r){return(0,X.__awaiter)(t,void 0,void 0,function(){var t,i,o,s,a;return(0,X.__generator)(this,function(u){return t=r.request,ut.isInstance(t)&&(i=t.body,o=t.headers,i&&-1===Object.keys(o).map(function(e){return e.toLowerCase()}).indexOf(nr)&&void 0!==(s=e(i))&&(t.headers=(0,X.__assign)((0,X.__assign)({},t.headers),((a={})[nr]=String(s),a)))),[2,n((0,X.__assign)((0,X.__assign)({},r),{request:t}))]})})}}}(e.bodyLengthChecker),rr)}}},or={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},sr=function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return(0,X.__awaiter)(void 0,void 0,void 0,function(){var r,i;return(0,X.__generator)(this,function(o){return ut.isInstance(n.request)?(r=n.request,(void 0===(i=(e.requestHandler.metadata||{}).handlerProtocol)?"":i).indexOf("h2")>=0&&!r.headers[":authority"]?(delete r.headers.host,r.headers[":authority"]=""):r.headers.host||(r.headers.host=r.hostname),[2,t(n)]):[2,t(n)]})})}}}(e),or)}}},ar={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},ur=function(e){return{applyToStack:function(e){e.add(function(e,t){return function(n){return(0,X.__awaiter)(void 0,void 0,void 0,function(){var r,i,o,s,a,u,c,l,f;return(0,X.__generator)(this,function(d){switch(d.label){case 0:return r=t.clientName,i=t.commandName,o=t.inputFilterSensitiveLog,s=t.logger,a=t.outputFilterSensitiveLog,[4,e(n)];case 1:return u=d.sent(),s?("function"==typeof s.info&&(c=u.output,l=c.$metadata,f=(0,X.__rest)(c,["$metadata"]),s.info({clientName:r,commandName:i,input:o(n.input),output:a(f),metadata:l})),[2,u]):[2,u]}})})}},ar)}}},cr={},lr={},fr=0;fr<256;fr++){var dr=fr.toString(16).toLowerCase();1===dr.length&&(dr="0"+dr),cr[fr]=dr,lr[dr]=fr}function hr(e){for(var t="",n=0;n<e.byteLength;n++)t+=cr[e[n]];return t}var pr="X-Amz-Date",gr="X-Amz-Signature",vr="X-Amz-Security-Token",yr="authorization",mr=pr.toLowerCase(),br=[yr,mr,"date"],Sr=gr.toLowerCase(),wr="x-amz-content-sha256",_r=vr.toLowerCase(),Er={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Cr=/^proxy-/,Ar=/^sec-/,Pr="AWS4-HMAC-SHA256",xr="AWS4-HMAC-SHA256-PAYLOAD",kr="aws4_request",Ir={},Tr=[];function Or(e,t,n){return e+"/"+t+"/"+n+"/"+kr}function Ur(e,t,n){var r=new e(t);return r.update(n),r.digest()}function Mr(e,t,n){var r,i,o=e.headers,s={};try{for(var a=(0,X.__values)(Object.keys(o).sort()),u=a.next();!u.done;u=a.next()){var c=u.value,l=c.toLowerCase();(l in Er||(null==t?void 0:t.has(l))||Cr.test(l)||Ar.test(l))&&(!n||n&&!n.has(l))||(s[l]=o[c].trim().replace(/\s+/g," "))}}catch(e){r={error:e}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return s}function Lr(e,t){var n=e.headers,r=e.body;return(0,X.__awaiter)(this,void 0,void 0,function(){var e,i,o,s,a,u,c;return(0,X.__generator)(this,function(l){switch(l.label){case 0:try{for(e=(0,X.__values)(Object.keys(n)),i=e.next();!i.done;i=e.next())if((o=i.value).toLowerCase()===wr)return[2,n[o]]}catch(e){u={error:e}}finally{try{i&&!i.done&&(c=e.return)&&c.call(e)}finally{if(u)throw u.error}}return null!=r?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return"string"==typeof r||ArrayBuffer.isView(r)||(f=r,"function"==typeof ArrayBuffer&&f instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(f))?((s=new t).update(r),a=hr,[4,s.digest()]):[3,3];case 2:return[2,a.apply(void 0,[l.sent()])];case 3:return[2,"UNSIGNED-PAYLOAD"]}var f})})}function Rr(e){var t=e.headers,n=e.query,r=(0,X.__rest)(e,["headers","query"]);return(0,X.__assign)((0,X.__assign)({},r),{headers:(0,X.__assign)({},t),query:n?Nr(n):void 0})}function Nr(e){return Object.keys(e).reduce(function(t,n){var r,i=e[n];return(0,X.__assign)((0,X.__assign)({},t),((r={})[n]=Array.isArray(i)?(0,X.__spread)(i):i,r))},{})}function Dr(e){var t,n;e="function"==typeof e.clone?e.clone():Rr(e);try{for(var r=(0,X.__values)(Object.keys(e.headers)),i=r.next();!i.done;i=r.next()){var o=i.value;br.indexOf(o.toLowerCase())>-1&&delete e.headers[o]}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return e}var jr=function(){function e(e){var t=e.applyChecksum,n=e.credentials,r=e.region,i=e.service,o=e.sha256,s=e.uriEscapePath,a=void 0===s||s;this.service=i,this.sha256=o,this.uriEscapePath=a,this.applyChecksum="boolean"!=typeof t||t,this.regionProvider=zr(r),this.credentialProvider=Kr(n)}return e.prototype.presign=function(e,t){return void 0===t&&(t={}),(0,X.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,f,d,h,p,g,v,y,m,b,S,w,_,E,C,A;return(0,X.__generator)(this,function(P){switch(P.label){case 0:return n=t.signingDate,r=void 0===n?new Date:n,i=t.expiresIn,o=void 0===i?3600:i,s=t.unsignableHeaders,a=t.unhoistableHeaders,u=t.signableHeaders,c=t.signingRegion,l=t.signingService,[4,this.credentialProvider()];case 1:return f=P.sent(),null==c?[3,2]:(h=c,[3,4]);case 2:return[4,this.regionProvider()];case 3:h=P.sent(),P.label=4;case 4:return d=h,p=Br(r),g=p.longDate,v=p.shortDate,o>604800?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(y=Or(v,d,null!=l?l:this.service),m=function(e,t){var n,r,i;void 0===t&&(t={});var o="function"==typeof e.clone?e.clone():Rr(e),s=o.headers,a=o.query,u=void 0===a?{}:a;try{for(var c=(0,X.__values)(Object.keys(s)),l=c.next();!l.done;l=c.next()){var f=l.value,d=f.toLowerCase();"x-amz-"!==d.substr(0,6)||(null===(i=t.unhoistableHeaders)||void 0===i?void 0:i.has(d))||(u[f]=s[f],delete s[f])}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return(0,X.__assign)((0,X.__assign)({},e),{headers:s,query:u})}(Dr(e),{unhoistableHeaders:a}),f.sessionToken&&(m.query[vr]=f.sessionToken),m.query["X-Amz-Algorithm"]=Pr,m.query["X-Amz-Credential"]=f.accessKeyId+"/"+y,m.query[pr]=g,m.query["X-Amz-Expires"]=o.toString(10),b=Mr(m,s,u),m.query["X-Amz-SignedHeaders"]=Fr(b),S=m.query,w=gr,_=this.getSignature,E=[g,y,this.getSigningKey(f,d,v,l)],C=this.createCanonicalRequest,A=[m,b],[4,Lr(e,this.sha256)]);case 5:return[4,_.apply(this,E.concat([C.apply(this,A.concat([P.sent()]))]))];case 6:return S[w]=P.sent(),[2,m]}})})},e.prototype.sign=function(e,t){return(0,X.__awaiter)(this,void 0,void 0,function(){return(0,X.__generator)(this,function(n){return"string"==typeof e?[2,this.signString(e,t)]:e.headers&&e.payload?[2,this.signEvent(e,t)]:[2,this.signRequest(e,t)]})})},e.prototype.signEvent=function(e,t){var n=e.headers,r=e.payload,i=t.signingDate,o=void 0===i?new Date:i,s=t.priorSignature,a=t.signingRegion,u=t.signingService;return(0,X.__awaiter)(this,void 0,void 0,function(){var e,t,i,c,l,f,d,h,p,g,v;return(0,X.__generator)(this,function(y){switch(y.label){case 0:return null==a?[3,1]:(t=a,[3,3]);case 1:return[4,this.regionProvider()];case 2:t=y.sent(),y.label=3;case 3:return e=t,i=Br(o),c=i.shortDate,l=i.longDate,f=Or(c,e,null!=u?u:this.service),[4,Lr({headers:{},body:r},this.sha256)];case 4:return d=y.sent(),(h=new this.sha256).update(n),g=hr,[4,h.digest()];case 5:return p=g.apply(void 0,[y.sent()]),v=[xr,l,f,s,p,d].join("\n"),[2,this.signString(v,{signingDate:o,signingRegion:e,signingService:u})]}})})},e.prototype.signString=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,i=void 0===r?new Date:r,o=n.signingRegion,s=n.signingService;return(0,X.__awaiter)(this,void 0,void 0,function(){var t,n,r,a,u,c,l,f;return(0,X.__generator)(this,function(d){switch(d.label){case 0:return[4,this.credentialProvider()];case 1:return t=d.sent(),null==o?[3,2]:(r=o,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=d.sent(),d.label=4;case 4:return n=r,a=Br(i).shortDate,l=(c=this.sha256).bind,[4,this.getSigningKey(t,n,a,s)];case 5:return(u=new(l.apply(c,[void 0,d.sent()]))).update(e),f=hr,[4,u.digest()];case 6:return[2,f.apply(void 0,[d.sent()])]}})})},e.prototype.signRequest=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,i=void 0===r?new Date:r,o=n.signableHeaders,s=n.unsignableHeaders,a=n.signingRegion,u=n.signingService;return(0,X.__awaiter)(this,void 0,void 0,function(){var t,n,r,c,l,f,d,h,p,g,v;return(0,X.__generator)(this,function(y){switch(y.label){case 0:return[4,this.credentialProvider()];case 1:return t=y.sent(),null==a?[3,2]:(r=a,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=y.sent(),y.label=4;case 4:return n=r,c=Dr(e),l=Br(i),f=l.longDate,d=l.shortDate,h=Or(d,n,null!=u?u:this.service),c.headers[mr]=f,t.sessionToken&&(c.headers[_r]=t.sessionToken),[4,Lr(c,this.sha256)];case 5:return p=y.sent(),!function(e,t){var n,r;e=e.toLowerCase();try{for(var i=(0,X.__values)(Object.keys(t)),o=i.next();!o.done;o=i.next())if(e===o.value.toLowerCase())return!0}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!1}(wr,c.headers)&&this.applyChecksum&&(c.headers[wr]=p),g=Mr(c,s,o),[4,this.getSignature(f,h,this.getSigningKey(t,n,d,u),this.createCanonicalRequest(c,g,p))];case 6:return v=y.sent(),c.headers[yr]=Pr+" Credential="+t.accessKeyId+"/"+h+", SignedHeaders="+Fr(g)+", Signature="+v,[2,c]}})})},e.prototype.createCanonicalRequest=function(e,t,n){var r=Object.keys(t).sort();return e.method+"\n"+this.getCanonicalPath(e)+"\n"+function(e){var t,n,r=e.query,i=void 0===r?{}:r,o=[],s={},a=function(e){if(e.toLowerCase()===Sr)return"continue";o.push(e);var t=i[e];"string"==typeof t?s[e]=un(e)+"="+un(t):Array.isArray(t)&&(s[e]=t.slice(0).sort().reduce(function(t,n){return t.concat([un(e)+"="+un(n)])},[]).join("&"))};try{for(var u=(0,X.__values)(Object.keys(i).sort()),c=u.next();!c.done;c=u.next())a(c.value)}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return o.map(function(e){return s[e]}).filter(function(e){return e}).join("&")}(e)+"\n"+r.map(function(e){return e+":"+t[e]}).join("\n")+"\n\n"+r.join(";")+"\n"+n},e.prototype.createStringToSign=function(e,t,n){return(0,X.__awaiter)(this,void 0,void 0,function(){var r,i;return(0,X.__generator)(this,function(o){switch(o.label){case 0:return(r=new this.sha256).update(n),[4,r.digest()];case 1:return i=o.sent(),[2,Pr+"\n"+e+"\n"+t+"\n"+hr(i)]}})})},e.prototype.getCanonicalPath=function(e){var t=e.path;return this.uriEscapePath?"/"+encodeURIComponent(t.replace(/^\//,"")).replace(/%2F/g,"/"):t},e.prototype.getSignature=function(e,t,n,r){return(0,X.__awaiter)(this,void 0,void 0,function(){var i,o,s,a,u;return(0,X.__generator)(this,function(c){switch(c.label){case 0:return[4,this.createStringToSign(e,t,r)];case 1:return i=c.sent(),a=(s=this.sha256).bind,[4,n];case 2:return(o=new(a.apply(s,[void 0,c.sent()]))).update(i),u=hr,[4,o.digest()];case 3:return[2,u.apply(void 0,[c.sent()])]}})})},e.prototype.getSigningKey=function(e,t,n,r){return function(e,t,n,r,i){return(0,X.__awaiter)(void 0,void 0,void 0,function(){var o,s,a,u,c,l,f,d,h;return(0,X.__generator)(this,function(p){switch(p.label){case 0:return[4,Ur(e,t.secretAccessKey,t.accessKeyId)];case 1:if(o=p.sent(),(s=n+":"+r+":"+i+":"+hr(o)+":"+t.sessionToken)in Ir)return[2,Ir[s]];for(Tr.push(s);Tr.length>50;)delete Ir[Tr.shift()];a="AWS4"+t.secretAccessKey,p.label=2;case 2:p.trys.push([2,7,8,9]),u=(0,X.__values)([n,r,i,kr]),c=u.next(),p.label=3;case 3:return c.done?[3,6]:(l=c.value,[4,Ur(e,a,l)]);case 4:a=p.sent(),p.label=5;case 5:return c=u.next(),[3,3];case 6:return[3,9];case 7:return f=p.sent(),d={error:f},[3,9];case 8:try{c&&!c.done&&(h=u.return)&&h.call(u)}finally{if(d)throw d.error}return[7];case 9:return[2,Ir[s]=a]}})})}(this.sha256,e,n,t,r||this.service)},e}(),Br=function(e){var t,n=(t=e,function(e){return"number"==typeof e?new Date(1e3*e):"string"==typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e}(t).toISOString().replace(/\.\d{3}Z$/,"Z")).replace(/[\-:]/g,"");return{longDate:n,shortDate:n.substr(0,8)}},Fr=function(e){return Object.keys(e).sort().join(";")},zr=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},Kr=function(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e};function qr(e){var t,n=this,r=Hr(e.credentials||e.credentialDefaultProvider(e)),i=e.signingEscapePath,o=void 0===i||i,s=e.systemClockOffset,a=void 0===s?e.systemClockOffset||0:s,u=e.sha256;return t=e.signer?Hr(e.signer):function(){return Hr(e.region)().then(function(t){return(0,X.__awaiter)(n,void 0,void 0,function(){return(0,X.__generator)(this,function(n){switch(n.label){case 0:return[4,e.regionInfoProvider(t)];case 1:return[2,[n.sent()||{},t]]}})})}).then(function(t){var n=(0,X.__read)(t,2),i=n[0],s=n[1],a=i.signingRegion,c=i.signingService;return e.signingRegion=e.signingRegion||a||s,e.signingName=e.signingName||c||e.serviceId,new jr({credentials:r,region:e.signingRegion,service:e.signingName,sha256:u,uriEscapePath:o})})},(0,X.__assign)((0,X.__assign)({},e),{systemClockOffset:a,signingEscapePath:o,credentials:r,signer:t})}function Hr(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}function Vr(e){return function(t,n){return function(r){return(0,X.__awaiter)(this,void 0,void 0,function(){var i,o,s,a,u,c,l,f,d;return(0,X.__generator)(this,function(h){switch(h.label){case 0:return ut.isInstance(r.request)?"function"!=typeof e.signer?[3,2]:[4,e.signer()]:[2,t(r)];case 1:return o=h.sent(),[3,3];case 2:o=e.signer,h.label=3;case 3:return i=o,a=t,u=[(0,X.__assign)({},r)],d={},[4,i.sign(r.request,{signingDate:new Date(Date.now()+e.systemClockOffset),signingRegion:n.signing_region,signingService:n.signing_service})];case 4:return[4,a.apply(void 0,[X.__assign.apply(void 0,u.concat([(d.request=h.sent(),d)]))])];case 5:return s=h.sent(),c=s.response.headers,(l=c&&(c.date||c.Date))&&(p=f=Date.parse(l),g=e.systemClockOffset,Math.abs(function(e){return new Date(Date.now()+e)}(g).getTime()-p)>=3e5&&(e.systemClockOffset=f-Date.now())),[2,s]}var p,g})})}}}var Wr={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0};function Gr(e){return(0,X.__assign)((0,X.__assign)({},e),{customUserAgent:"string"==typeof e.customUserAgent?[[e.customUserAgent]]:e.customUserAgent})}var $r="user-agent",Jr=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,Yr=function(e){var t=(0,X.__read)(e,2),n=t[0],r=t[1],i=n.indexOf("/"),o=n.substring(0,i),s=n.substring(i+1);return"api"===o&&(s=s.toLowerCase()),[o,s,r].filter(function(e){return e&&e.length>0}).map(function(e){return null==e?void 0:e.replace(Jr,"_")}).join("/")},Zr={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},Xr=function(e){return{applyToStack:function(t){var n;t.add((n=e,function(e,t){return function(r){return(0,X.__awaiter)(void 0,void 0,void 0,function(){var i,o,s,a,u,c,l,f;return(0,X.__generator)(this,function(d){switch(d.label){case 0:return i=r.request,ut.isInstance(i)?(o=i.headers,s=(null===(l=null==t?void 0:t.userAgent)||void 0===l?void 0:l.map(Yr))||[],[4,n.defaultUserAgentProvider()]):[2,e(r)];case 1:return a=d.sent().map(Yr),u=(null===(f=null==n?void 0:n.customUserAgent)||void 0===f?void 0:f.map(Yr))||[],o["x-amz-user-agent"]=(0,X.__spread)(a,s,u).join(" "),c=(0,X.__spread)(a.filter(function(e){return e.startsWith("aws-sdk-")}),u).join(" "),"browser"!==n.runtime&&c&&(o[$r]=o[$r]?o[$r]+" "+c:c),[2,e((0,X.__assign)((0,X.__assign)({},r),{request:i}))]}})})}}),Zr)}}},Qr=function(e){function t(t){var n=this,r=it(it({},Yn),t),i=er(r),o=qr(Zn(i)),s=Gr(Rn(o));return(n=e.call(this,s)||this).config=s,n.middlewareStack.use(An(n.config)),n.middlewareStack.use(ir(n.config)),n.middlewareStack.use(sr(n.config)),n.middlewareStack.use(ur(n.config)),n.middlewareStack.use(Xr(n.config)),n}return ee(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(zt),ei="aws-amplify/4.7.14",ti={userAgent:ei+" js",product:"",navigator:null,isReactNative:!1};"undefined"!=typeof navigator&&navigator.product&&(ti.product=navigator.product||"",ti.navigator=navigator||null,"ReactNative"===navigator.product?(ti.userAgent=ei+" react-native",ti.isReactNative=!0):(ti.userAgent=ei+" js",ti.isReactNative=!1));var ni=function(e){return""+ti.userAgent+(e||"")},ri=function(){return ri=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ri.apply(this,arguments)};function ii(e){var t=new Qr({region:e.region,customUserAgent:ni()});return t.middlewareStack.add(function(e,t){return function(t){return e(function(e){return ri(ri({},e),{request:ri(ri({},e.request),{headers:ri(ri({},e.request.headers),{"cache-control":"no-store"})})})}(t))}},{step:"build",name:"cacheControlMiddleWare"}),t}var oi=function(){return oi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},oi.apply(this,arguments)},si=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})},ai=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},ui=new o("Credentials"),ci=function(){function e(e){this._gettingCredPromise=null,this._refreshHandlers={},this.Auth=void 0,this.configure(e),this._refreshHandlers.google=Y.refreshGoogleToken,this._refreshHandlers.facebook=Z.refreshFacebookToken}return e.prototype.getModuleName=function(){return"Credentials"},e.prototype.getCredSource=function(){return this._credentials_source},e.prototype.configure=function(e){if(!e)return this._config||{};this._config=Object.assign({},this._config,e);var t=this._config.refreshHandlers;return t&&(this._refreshHandlers=oi(oi({},this._refreshHandlers),t)),this._storage=this._config.storage,this._storage||(this._storage=(new R).getStorage()),this._storageSync=Promise.resolve(),"function"==typeof this._storage.sync&&(this._storageSync=this._storage.sync()),this._config},e.prototype.get=function(){return ui.debug("getting credentials"),this._pickupCredentials()},e.prototype._getCognitoIdentityIdStorageKey=function(e){return"CognitoIdentityId-"+e},e.prototype._pickupCredentials=function(){return ui.debug("picking up credentials"),this._gettingCredPromise&&this._gettingCredPromise.isPending()?ui.debug("getting old cred promise"):(ui.debug("getting new cred promise"),this._gettingCredPromise=g(this._keepAlive())),this._gettingCredPromise},e.prototype._keepAlive=function(){return si(this,void 0,void 0,function(){var e,t,n,r,i,o,s;return ai(this,function(u){switch(u.label){case 0:if(ui.debug("checking if credentials exists and not expired"),(e=this._credentials)&&!this._isExpired(e)&&!this._isPastTTL())return ui.debug("credentials not changed and not expired, directly return"),[2,Promise.resolve(e)];if(ui.debug("need to get a new credential or refresh the existing one"),t=this.Auth,!(n=void 0===t?a.Auth:t)||"function"!=typeof n.currentUserCredentials)return[2,Promise.reject("No Auth module registered in Amplify")];if(this._isExpired(e)||!this._isPastTTL())return[3,6];ui.debug("ttl has passed but token is not yet expired"),u.label=1;case 1:return u.trys.push([1,5,,6]),[4,n.currentUserPoolUser()];case 2:return r=u.sent(),[4,n.currentSession()];case 3:return i=u.sent(),o=i.refreshToken,[4,new Promise(function(e,t){r.refreshSession(o,function(n,r){return n?t(n):e(r)})})];case 4:return u.sent(),[3,6];case 5:return s=u.sent(),ui.debug("Error attempting to refreshing the session",s),[3,6];case 6:return[2,n.currentUserCredentials()]}})})},e.prototype.refreshFederatedToken=function(e){ui.debug("Getting federated credentials");var t=e.provider,n=e.user,r=e.token,i=e.identity_id,o=e.expires_at;o=1970===new Date(o).getFullYear()?1e3*o:o;var s=this;return ui.debug("checking if federated jwt token expired"),o>(new Date).getTime()?(ui.debug("token not expired"),this._setCredentialsFromFederation({provider:t,token:r,user:n,identity_id:i,expires_at:o})):s._refreshHandlers[t]&&"function"==typeof s._refreshHandlers[t]?(ui.debug("getting refreshed jwt token from federation provider"),this._providerRefreshWithRetry({refreshHandler:s._refreshHandlers[t],provider:t,user:n})):(ui.debug("no refresh handler for provider:",t),this.clear(),Promise.reject("no refresh handler for provider"))},e.prototype._providerRefreshWithRetry=function(e){var t,n,r,i,o=this,s=e.refreshHandler,a=e.provider,u=e.user;return(t=s,n=[],r=1e4,void 0===r&&(r=q),function(e,t,n,r){return D(this,void 0,void 0,function(){var i=this;return j(this,function(o){if("function"!=typeof e)throw Error("functionToRetry must be a function");return[2,new Promise(function(o,s){return D(i,void 0,void 0,function(){var i,a,u,c,l,f,d;return j(this,function(h){switch(h.label){case 0:i=0,a=!1,c=function(){},r&&r.then(function(){a=!0,clearTimeout(u),c()}),f=function(){var r,f,d,h;return j(this,function(p){switch(p.label){case 0:i++,z.debug(e.name+" attempt #"+i+" with this vars: "+JSON.stringify(t)),p.label=1;case 1:return p.trys.push([1,3,,7]),r={},f=o,[4,e.apply(void 0,F(t))];case 2:return[2,(r.value=f.apply(void 0,[p.sent()]),r)];case 3:return d=p.sent(),l=d,z.debug("error on "+e.name,d),(g=d)&&g.nonRetryable?(z.debug(e.name+" non retryable error",d),[2,{value:s(d)}]):(h=n(i,t,d),z.debug(e.name+" retrying in "+h+" ms"),!1===h||a?[2,{value:s(d)}]:[3,4]);case 4:return[4,new Promise(function(e){c=e,u=setTimeout(c,h)})];case 5:p.sent(),p.label=6;case 6:return[3,7];case 7:return[2]}var g})},h.label=1;case 1:return a?[3,3]:[5,f()];case 2:return"object"==typeof(d=h.sent())?[2,d.value]:[3,1];case 3:return s(l),[2]}})})})]})})}(t,n,function(e){return void 0===e&&(e=q),function(t){var n=100*Math.pow(2,t)+100*Math.random();return!(n>e)&&n}}(r),i)).then(function(e){return ui.debug("refresh federated token sucessfully",e),o._setCredentialsFromFederation({provider:a,token:e.token,user:u,identity_id:e.identity_id,expires_at:e.expires_at})}).catch(function(e){return"string"==typeof e&&0===e.toLowerCase().lastIndexOf("network error",e.length)||o.clear(),ui.debug("refresh federated token failed",e),Promise.reject("refreshing federation token failed: "+e)})},e.prototype._isExpired=function(e){if(!e)return ui.debug("no credentials for expiration check"),!0;ui.debug("are these credentials expired?",e);var t=Date.now();return e.expiration.getTime()<=t},e.prototype._isPastTTL=function(){return this._nextCredentialsRefresh<=Date.now()},e.prototype._setCredentialsForGuest=function(){return si(this,void 0,void 0,function(){var e,t,n,r,i,o,s,a,u=this;return ai(this,function(c){switch(c.label){case 0:return ui.debug("setting credentials for guest"),e=this._config,t=e.identityPoolId,n=e.region,e.mandatorySignIn?[2,Promise.reject("cannot get guest credentials when mandatory signin enabled")]:t?n?(i=this,[4,this._getGuestIdentityId()]):(ui.debug("region is not configured for getting the credentials"),[2,Promise.reject("region is not configured for getting the credentials")]):(ui.debug("No Cognito Identity pool provided for unauthenticated access"),[2,Promise.reject("No Cognito Identity pool provided for unauthenticated access")]);case 1:return r=i._identityId=c.sent(),o=ii({region:n}),s=void 0,r?s=en({identityId:r,client:o})():(a=function(){return si(u,void 0,void 0,function(){var e;return ai(this,function(n){switch(n.label){case 0:return[4,o.send(new tn({IdentityPoolId:t}))];case 1:return e=n.sent().IdentityId,this._identityId=e,[2,en({client:o,identityId:e})()]}})})},s=a().catch(function(e){return si(u,void 0,void 0,function(){return ai(this,function(t){throw e})})})),[2,this._loadCredentials(s,"guest",!1,null).then(function(e){return e}).catch(function(e){return si(u,void 0,void 0,function(){var n,i=this;return ai(this,function(a){switch(a.label){case 0:return"ResourceNotFoundException"!==e.name||e.message!=="Identity '"+r+"' not found."?[3,2]:(ui.debug("Failed to load guest credentials"),[4,this._removeGuestIdentityId()]);case 1:return a.sent(),n=function(){return si(i,void 0,void 0,function(){var e;return ai(this,function(n){switch(n.label){case 0:return[4,o.send(new tn({IdentityPoolId:t}))];case 1:return e=n.sent().IdentityId,this._identityId=e,[2,en({client:o,identityId:e})()]}})})},s=n().catch(function(e){return si(i,void 0,void 0,function(){return ai(this,function(t){throw e})})}),[2,this._loadCredentials(s,"guest",!1,null)];case 2:return[2,e]}})})})]}})})},e.prototype._setCredentialsFromFederation=function(e){var t=e.provider,n=e.token,r=e.identity_id,i={google:"accounts.google.com",facebook:"graph.facebook.com",amazon:"www.amazon.com",developer:"cognito-identity.amazonaws.com"}[t]||t;if(!i)return Promise.reject("You must specify a federated provider");var o={};o[i]=n;var s=this._config,a=s.identityPoolId,u=s.region;if(!a)return ui.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!u)return ui.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var c=ii({region:u}),l=void 0;return l=r?en({identityId:r,logins:o,client:c})():function(e){var t=this,n=e.accountId,r=e.cache,i=void 0===r?"object"==typeof self&&self.indexedDB?new rn:"object"==typeof window&&window.localStorage?window.localStorage:sn:r,o=e.client,s=e.customRoleArn,a=e.identityPoolId,u=e.logins,c=e.userIdentifier,l=void 0===c?u&&0!==Object.keys(u).length?void 0:"ANONYMOUS":c,f=l?"aws:cognito-identity-credentials:"+a+":"+l:void 0,d=function(){return(0,X.__awaiter)(t,void 0,void 0,function(){var e,t,r,c,l,h,p,g,v;return(0,X.__generator)(this,function(y){switch(y.label){case 0:return(t=f)?[4,i.getItem(f)]:[3,2];case 1:t=y.sent(),y.label=2;case 2:return(e=t)?[3,7]:(h=(l=o).send,p=tn.bind,v={AccountId:n,IdentityPoolId:a},u?[4,Qt(u)]:[3,4]);case 3:return g=y.sent(),[3,5];case 4:g=void 0,y.label=5;case 5:return[4,h.apply(l,[new(p.apply(tn,[void 0,(v.Logins=g,v)]))])];case 6:r=y.sent().IdentityId,c=void 0===r?function(){throw new Xt("Response from Amazon Cognito contained no identity ID")}():r,e=c,f&&Promise.resolve(i.setItem(f,e)).catch(function(){}),y.label=7;case 7:return[2,(d=en({client:o,customRoleArn:s,logins:u,identityId:e}))()]}})})};return function(){return d().catch(function(e){return(0,X.__awaiter)(t,void 0,void 0,function(){return(0,X.__generator)(this,function(t){throw f&&Promise.resolve(i.removeItem(f)).catch(function(){}),e})})})}}({logins:o,identityPoolId:a,client:c})(),this._loadCredentials(l,"federated",!0,e)},e.prototype._setCredentialsFromSession=function(e){var t=this;ui.debug("set credentials from session");var n=e.getIdToken().getJwtToken(),r=this._config,i=r.region,o=r.userPoolId,s=r.identityPoolId;if(!s)return ui.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!i)return ui.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var a={};a["cognito-idp."+i+".amazonaws.com/"+o]=n;var u=ii({region:i}),c=si(t,void 0,void 0,function(){var e,t,n,r,i,o,c,l,f,d;return ai(this,function(h){switch(h.label){case 0:return[4,this._getGuestIdentityId()];case 1:return(e=h.sent())?[3,3]:[4,u.send(new tn({IdentityPoolId:s,Logins:a}))];case 2:n=h.sent().IdentityId,t=n,h.label=3;case 3:return[4,u.send(new Zt({IdentityId:e||t,Logins:a}))];case 4:return r=h.sent(),i=r.Credentials,o=i.AccessKeyId,c=i.Expiration,l=i.SecretKey,f=i.SessionToken,d=r.IdentityId,this._identityId=d,e?(ui.debug("The guest identity "+e+" has been successfully linked to the logins"),e===d&&ui.debug("The guest identity "+e+" has become the primary identity"),[4,this._removeGuestIdentityId()]):[3,6];case 5:h.sent(),h.label=6;case 6:return[2,{accessKeyId:o,secretAccessKey:l,sessionToken:f,expiration:c,identityId:d}]}})}).catch(function(e){return si(t,void 0,void 0,function(){return ai(this,function(t){throw e})})});return this._loadCredentials(c,"userPool",!0,null)},e.prototype._loadCredentials=function(e,t,n,r){var i=this,o=this;return new Promise(function(s,a){e.then(function(e){return si(i,void 0,void 0,function(){var i,a,u,c,l;return ai(this,function(f){switch(f.label){case 0:if(ui.debug("Load credentials successfully",e),this._identityId&&!e.identityId&&(e.identityId=this._identityId),o._credentials=e,o._credentials.authenticated=n,o._credentials_source=t,o._nextCredentialsRefresh=(new Date).getTime()+3e6,"federated"===t){i=Object.assign({id:this._credentials.identityId},r.user),a=r.provider,u=r.token,c=r.expires_at,l=r.identity_id;try{this._storage.setItem("aws-amplify-federatedInfo",JSON.stringify({provider:a,token:u,user:i,expires_at:c,identity_id:l}))}catch(e){ui.debug("Failed to put federated info into auth storage",e)}}return"guest"!==t?[3,2]:[4,this._setGuestIdentityId(e.identityId)];case 1:f.sent(),f.label=2;case 2:return s(o._credentials),[2]}})})}).catch(function(t){if(t)return ui.debug("Failed to load credentials",e),ui.debug("Error loading credentials",t),void a(t)})})},e.prototype.set=function(e,t){return"session"===t?this._setCredentialsFromSession(e):"federation"===t?this._setCredentialsFromFederation(e):"guest"===t?this._setCredentialsForGuest():(ui.debug("no source specified for setting credentials"),Promise.reject("invalid source"))},e.prototype.clear=function(){return si(this,void 0,void 0,function(){return ai(this,function(e){return this._credentials=null,this._credentials_source=null,ui.debug("removing aws-amplify-federatedInfo from storage"),this._storage.removeItem("aws-amplify-federatedInfo"),[2]})})},e.prototype._getGuestIdentityId=function(){return si(this,void 0,void 0,function(){var e,t;return ai(this,function(n){switch(n.label){case 0:e=this._config.identityPoolId,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this._storageSync];case 2:return n.sent(),[2,this._storage.getItem(this._getCognitoIdentityIdStorageKey(e))];case 3:return t=n.sent(),ui.debug("Failed to get the cached guest identityId",t),[3,4];case 4:return[2]}})})},e.prototype._setGuestIdentityId=function(e){return si(this,void 0,void 0,function(){var t,n;return ai(this,function(r){switch(r.label){case 0:t=this._config.identityPoolId,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._storageSync];case 2:return r.sent(),this._storage.setItem(this._getCognitoIdentityIdStorageKey(t),e),[3,4];case 3:return n=r.sent(),ui.debug("Failed to cache guest identityId",n),[3,4];case 4:return[2]}})})},e.prototype._removeGuestIdentityId=function(){return si(this,void 0,void 0,function(){var e;return ai(this,function(t){return e=this._config.identityPoolId,ui.debug("removing "+this._getCognitoIdentityIdStorageKey(e)+" from storage"),this._storage.removeItem(this._getCognitoIdentityIdStorageKey(e)),[2]})})},e.prototype.shear=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},e}(),li=new ci(null);a.register(li);var fi=function(){return fi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},fi.apply(this,arguments)},di=new o("Parser"),hi=function(e){var t,n={};if(e.aws_mobile_analytics_app_id){var r={AWSPinpoint:{appId:e.aws_mobile_analytics_app_id,region:e.aws_mobile_analytics_app_region}};n.Analytics=r}return(e.aws_cognito_identity_pool_id||e.aws_user_pools_id)&&(n.Auth={userPoolId:e.aws_user_pools_id,userPoolWebClientId:e.aws_user_pools_web_client_id,region:e.aws_cognito_region,identityPoolId:e.aws_cognito_identity_pool_id,identityPoolRegion:e.aws_cognito_region,mandatorySignIn:"enable"===e.aws_mandatory_sign_in,signUpVerificationMethod:e.aws_cognito_sign_up_verification_method||"code"}),t=e.aws_user_files_s3_bucket?{AWSS3:{bucket:e.aws_user_files_s3_bucket,region:e.aws_user_files_s3_bucket_region,dangerouslyConnectToHttpEndpointForTesting:e.aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing}}:e?e.Storage||e:{},e.Logging&&(n.Logging=fi(fi({},e.Logging),{region:e.aws_project_region})),e.geo&&(n.Geo=Object.assign({},e.geo),e.geo.amazon_location_service&&(n.Geo={AmazonLocationService:e.geo.amazon_location_service})),n.Analytics=Object.assign({},n.Analytics,e.Analytics),n.Auth=Object.assign({},n.Auth,e.Auth),n.Storage=Object.assign({},t),n.Logging=Object.assign({},n.Logging,e.Logging),di.debug("parse config",e,"to amplifyconfig",n),n},pi=function(){function e(){}return e.parseMobilehubConfig=hi,e}(),gi=n(2963);function vi(e,t){void 0===t&&(t={});var n=function(e){return e&&"j"===e[0]&&":"===e[1]?e.substr(2):e}(e);if(function(e,t){return void 0===t&&(t=!e||"{"!==e[0]&&"["!==e[0]&&'"'!==e[0]),!t}(n,t.doNotParse))try{return JSON.parse(n)}catch(e){}return e}var yi=function(){return yi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},yi.apply(this,arguments)},mi=function(){function e(e,t){var n=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=function(e,t){return"string"==typeof e?gi.q(e,t):"object"==typeof e&&null!==e?e:{}}(e,t),new Promise(function(){n.HAS_DOCUMENT_COOKIE="object"==typeof document&&"string"==typeof document.cookie}).catch(function(){})}return e.prototype._updateBrowserValues=function(e){this.HAS_DOCUMENT_COOKIE&&(this.cookies=gi.q(document.cookie,e))},e.prototype._emitChange=function(e){for(var t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)},e.prototype.get=function(e,t,n){return void 0===t&&(t={}),this._updateBrowserValues(n),vi(this.cookies[e],t)},e.prototype.getAll=function(e,t){void 0===e&&(e={}),this._updateBrowserValues(t);var n={};for(var r in this.cookies)n[r]=vi(this.cookies[r],e);return n},e.prototype.set=function(e,t,n){var r;"object"==typeof t&&(t=JSON.stringify(t)),this.cookies=yi(yi({},this.cookies),((r={})[e]=t,r)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=gi.l(e,t,n)),this._emitChange({name:e,value:t,options:n})},e.prototype.remove=function(e,t){var n=t=yi(yi({},t),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=yi({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=gi.l(e,"",n)),this._emitChange({name:e,value:void 0,options:t})},e.prototype.addChangeListener=function(e){this.changeListeners.push(e)},e.prototype.removeChangeListener=function(e){var t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1)},e}();const bi=mi;var Si,wi=y().isBrowser,_i=function(){function e(e){void 0===e&&(e={}),this.cookies=new bi,this.store=wi?window.localStorage:Object.create(null),this.cookies=e.req?new bi(e.req.headers.cookie):new bi,Object.assign(this.store,this.cookies.getAll())}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.entries(this.store).length},enumerable:!0,configurable:!0}),e.prototype.clear=function(){var e=this;Array.from(new Array(this.length)).map(function(t,n){return e.key(n)}).forEach(function(t){return e.removeItem(t)})},e.prototype.getItem=function(e){return this.getLocalItem(e)},e.prototype.getLocalItem=function(e){return Object.prototype.hasOwnProperty.call(this.store,e)?this.store[e]:null},e.prototype.getUniversalItem=function(e){return this.cookies.get(e)},e.prototype.key=function(e){return Object.keys(this.store)[e]},e.prototype.removeItem=function(e){this.removeLocalItem(e),this.removeUniversalItem(e)},e.prototype.removeLocalItem=function(e){delete this.store[e]},e.prototype.removeUniversalItem=function(e){this.cookies.remove(e,{path:"/"})},e.prototype.setItem=function(e,t){switch(this.setLocalItem(e,t),e.split(".").pop()){case"LastAuthUser":case"accessToken":case"refreshToken":case"idToken":wi?this.setUniversalItem(e,t):this.setLocalItem(e,t)}},e.prototype.setLocalItem=function(e,t){this.store[e]=t},e.prototype.setUniversalItem=function(e,t){this.cookies.set(e,t,{path:"/",sameSite:!0,secure:"localhost"!==window.location.hostname})},e}(),Ei=function(){function e(e){var t=e||{},n=t.ValidationData,r=t.Username,i=t.Password,o=t.AuthParameters,s=t.ClientMetadata;this.validationData=n||{},this.authParameters=o||{},this.clientMetadata=s||{},this.username=r,this.password=i}var t=e.prototype;return t.getUsername=function(){return this.username},t.getPassword=function(){return this.password},t.getValidationData=function(){return this.validationData},t.getAuthParameters=function(){return this.authParameters},t.getClientMetadata=function(){return this.clientMetadata},e}(),Ci=n(6271),Ai=n(4925),Pi=n.n(Ai),xi=(n(6552),n(9665)),ki=n.n(xi),Ii=n(2001),Ti=n.n(Ii);if("undefined"!=typeof window&&window.crypto&&(Si=window.crypto),!Si&&"undefined"!=typeof window&&window.msCrypto&&(Si=window.msCrypto),!Si&&void 0!==n.g&&n.g.crypto&&(Si=n.g.crypto),!Si)try{Si=n(1290)}catch(e){}function Oi(){if(Si){if("function"==typeof Si.getRandomValues)try{return Si.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof Si.randomBytes)try{return Si.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")}var Ui=function(){function e(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length}var t=e.prototype;return t.random=function(t){for(var n=[],r=0;r<t;r+=4)n.push(Oi());return new e(n,t)},t.toString=function(){return function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")}(this)},e}();const Mi=Li;function Li(e,t){null!=e&&this.fromString(e,t)}function Ri(){return new Li(null)}var Ni,Di="undefined"!=typeof navigator;Di&&"Microsoft Internet Explorer"==navigator.appName?(Li.prototype.am=function(e,t,n,r,i,o){for(var s=32767&t,a=t>>15;--o>=0;){var u=32767&this[e],c=this[e++]>>15,l=a*u+c*s;i=((u=s*u+((32767&l)<<15)+n[r]+(1073741823&i))>>>30)+(l>>>15)+a*c+(i>>>30),n[r++]=1073741823&u}return i},Ni=30):Di&&"Netscape"!=navigator.appName?(Li.prototype.am=function(e,t,n,r,i,o){for(;--o>=0;){var s=t*this[e++]+n[r]+i;i=Math.floor(s/67108864),n[r++]=67108863&s}return i},Ni=26):(Li.prototype.am=function(e,t,n,r,i,o){for(var s=16383&t,a=t>>14;--o>=0;){var u=16383&this[e],c=this[e++]>>14,l=a*u+c*s;i=((u=s*u+((16383&l)<<14)+n[r]+i)>>28)+(l>>14)+a*c,n[r++]=268435455&u}return i},Ni=28),Li.prototype.DB=Ni,Li.prototype.DM=(1<<Ni)-1,Li.prototype.DV=1<<Ni,Li.prototype.FV=Math.pow(2,52),Li.prototype.F1=52-Ni,Li.prototype.F2=2*Ni-52;var ji,Bi,Fi=new Array;for(ji="0".charCodeAt(0),Bi=0;Bi<=9;++Bi)Fi[ji++]=Bi;for(ji="a".charCodeAt(0),Bi=10;Bi<36;++Bi)Fi[ji++]=Bi;for(ji="A".charCodeAt(0),Bi=10;Bi<36;++Bi)Fi[ji++]=Bi;function zi(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function Ki(e,t){var n=Fi[e.charCodeAt(t)];return null==n?-1:n}function qi(e){var t=Ri();return t.fromInt(e),t}function Hi(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function Vi(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function Wi(e){return Ci.hp.from((new Ui).random(e).toString(),"hex")}Vi.prototype.convert=function(e){var t=Ri();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(Li.ZERO)>0&&this.m.subTo(t,t),t},Vi.prototype.revert=function(e){var t=Ri();return e.copyTo(t),this.reduce(t),t},Vi.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},Vi.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},Vi.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},Li.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},Li.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},Li.prototype.fromString=function(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");n=2}this.t=0,this.s=0;for(var r=e.length,i=!1,o=0;--r>=0;){var s=Ki(e,r);s<0?"-"==e.charAt(r)&&(i=!0):(i=!1,0==o?this[this.t++]=s:o+n>this.DB?(this[this.t-1]|=(s&(1<<this.DB-o)-1)<<o,this[this.t++]=s>>this.DB-o):this[this.t-1]|=s<<o,(o+=n)>=this.DB&&(o-=this.DB))}this.clamp(),i&&Li.ZERO.subTo(this,this)},Li.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},Li.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},Li.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},Li.prototype.lShiftTo=function(e,t){var n,r=e%this.DB,i=this.DB-r,o=(1<<i)-1,s=Math.floor(e/this.DB),a=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+s+1]=this[n]>>i|a,a=(this[n]&o)<<r;for(n=s-1;n>=0;--n)t[n]=0;t[s]=a,t.t=this.t+s+1,t.s=this.s,t.clamp()},Li.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,i=this.DB-r,o=(1<<r)-1;t[0]=this[n]>>r;for(var s=n+1;s<this.t;++s)t[s-n-1]|=(this[s]&o)<<i,t[s-n]=this[s]>>r;r>0&&(t[this.t-n-1]|=(this.s&o)<<i),t.t=this.t-n,t.clamp()}},Li.prototype.subTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()},Li.prototype.multiplyTo=function(e,t){var n=this.abs(),r=e.abs(),i=n.t;for(t.t=i+r.t;--i>=0;)t[i]=0;for(i=0;i<r.t;++i)t[i+n.t]=n.am(0,r[i],t,i,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&Li.ZERO.subTo(t,t)},Li.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},Li.prototype.divRemTo=function(e,t,n){var r=e.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=Ri());var o=Ri(),s=this.s,a=e.s,u=this.DB-Hi(r[r.t-1]);u>0?(r.lShiftTo(u,o),i.lShiftTo(u,n)):(r.copyTo(o),i.copyTo(n));var c=o.t,l=o[c-1];if(0!=l){var f=l*(1<<this.F1)+(c>1?o[c-2]>>this.F2:0),d=this.FV/f,h=(1<<this.F1)/f,p=1<<this.F2,g=n.t,v=g-c,y=null==t?Ri():t;for(o.dlShiftTo(v,y),n.compareTo(y)>=0&&(n[n.t++]=1,n.subTo(y,n)),Li.ONE.dlShiftTo(c,y),y.subTo(o,o);o.t<c;)o[o.t++]=0;for(;--v>=0;){var m=n[--g]==l?this.DM:Math.floor(n[g]*d+(n[g-1]+p)*h);if((n[g]+=o.am(0,m,n,v,0,c))<m)for(o.dlShiftTo(v,y),n.subTo(y,n);n[g]<--m;)n.subTo(y,n)}null!=t&&(n.drShiftTo(c,t),s!=a&&Li.ZERO.subTo(t,t)),n.t=c,n.clamp(),u>0&&n.rShiftTo(u,n),s<0&&Li.ZERO.subTo(n,n)}}},Li.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(!(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},Li.prototype.addTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()},Li.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");t=2}var n,r=(1<<t)-1,i=!1,o="",s=this.t,a=this.DB-s*this.DB%t;if(s-- >0)for(a<this.DB&&(n=this[s]>>a)>0&&(i=!0,o=zi(n));s>=0;)a<t?(n=(this[s]&(1<<a)-1)<<t-a,n|=this[--s]>>(a+=this.DB-t)):(n=this[s]>>(a-=t)&r,a<=0&&(a+=this.DB,--s)),n>0&&(i=!0),i&&(o+=zi(n));return i?o:"0"},Li.prototype.negate=function(){var e=Ri();return Li.ZERO.subTo(this,e),e},Li.prototype.abs=function(){return this.s<0?this.negate():this},Li.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},Li.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+Hi(this[this.t-1]^this.s&this.DM)},Li.prototype.mod=function(e){var t=Ri();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(Li.ZERO)>0&&e.subTo(t,t),t},Li.prototype.equals=function(e){return 0==this.compareTo(e)},Li.prototype.add=function(e){var t=Ri();return this.addTo(e,t),t},Li.prototype.subtract=function(e){var t=Ri();return this.subTo(e,t),t},Li.prototype.multiply=function(e){var t=Ri();return this.multiplyTo(e,t),t},Li.prototype.divide=function(e){var t=Ri();return this.divRemTo(e,t,null),t},Li.prototype.modPow=function(e,t,n){var r,i=e.bitLength(),o=qi(1),s=new Vi(t);if(i<=0)return o;r=i<18?1:i<48?3:i<144?4:i<768?5:6;var a=new Array,u=3,c=r-1,l=(1<<r)-1;if(a[1]=s.convert(this),r>1){var f=Ri();for(s.sqrTo(a[1],f);u<=l;)a[u]=Ri(),s.mulTo(f,a[u-2],a[u]),u+=2}var d,h,p=e.t-1,g=!0,v=Ri();for(i=Hi(e[p])-1;p>=0;){for(i>=c?d=e[p]>>i-c&l:(d=(e[p]&(1<<i+1)-1)<<c-i,p>0&&(d|=e[p-1]>>this.DB+i-c)),u=r;!(1&d);)d>>=1,--u;if((i-=u)<0&&(i+=this.DB,--p),g)a[d].copyTo(o),g=!1;else{for(;u>1;)s.sqrTo(o,v),s.sqrTo(v,o),u-=2;u>0?s.sqrTo(o,v):(h=o,o=v,v=h),s.mulTo(v,a[d],o)}for(;p>=0&&!(e[p]&1<<i);)s.sqrTo(o,v),h=o,o=v,v=h,--i<0&&(i=this.DB-1,--p)}var y=s.revert(o);return n(null,y),y},Li.ZERO=qi(0),Li.ONE=qi(1);var Gi=/^[89a-f]/i,$i=function(){function e(e){this.N=new Mi("FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",16),this.g=new Mi("2",16),this.k=new Mi(this.hexHash(""+this.padHex(this.N)+this.padHex(this.g)),16),this.smallAValue=this.generateRandomSmallA(),this.getLargeAValue(function(){}),this.infoBits=Ci.hp.from("Caldera Derived Key","utf8"),this.poolName=e}var t=e.prototype;return t.getSmallAValue=function(){return this.smallAValue},t.getLargeAValue=function(e){var t=this;this.largeAValue?e(null,this.largeAValue):this.calculateA(this.smallAValue,function(n,r){n&&e(n,null),t.largeAValue=r,e(null,t.largeAValue)})},t.generateRandomSmallA=function(){var e=Wi(128).toString("hex");return new Mi(e,16)},t.generateRandomString=function(){return Wi(40).toString("base64")},t.getRandomPassword=function(){return this.randomPassword},t.getSaltDevices=function(){return this.SaltToHashDevices},t.getVerifierDevices=function(){return this.verifierDevices},t.generateHashDevice=function(e,t,n){var r=this;this.randomPassword=this.generateRandomString();var i=""+e+t+":"+this.randomPassword,o=this.hash(i),s=Wi(16).toString("hex");this.SaltToHashDevices=this.padHex(new Mi(s,16)),this.g.modPow(new Mi(this.hexHash(this.SaltToHashDevices+o),16),this.N,function(e,t){e&&n(e,null),r.verifierDevices=r.padHex(t),n(null,null)})},t.calculateA=function(e,t){var n=this;this.g.modPow(e,this.N,function(e,r){e&&t(e,null),r.mod(n.N).equals(Mi.ZERO)&&t(new Error("Illegal paramater. A mod N cannot be 0."),null),t(null,r)})},t.calculateU=function(e,t){return this.UHexHash=this.hexHash(this.padHex(e)+this.padHex(t)),new Mi(this.UHexHash,16)},t.hash=function(e){var t=e instanceof Ci.hp?Pi().lib.WordArray.create(e):e,n=ki()(t).toString();return new Array(64-n.length).join("0")+n},t.hexHash=function(e){return this.hash(Ci.hp.from(e,"hex"))},t.computehkdf=function(e,t){var n=Pi().lib.WordArray.create(Ci.hp.concat([this.infoBits,Ci.hp.from(String.fromCharCode(1),"utf8")])),r=e instanceof Ci.hp?Pi().lib.WordArray.create(e):e,i=t instanceof Ci.hp?Pi().lib.WordArray.create(t):t,o=Ti()(r,i),s=Ti()(n,o);return Ci.hp.from(s.toString(),"hex").slice(0,16)},t.getPasswordAuthenticationKey=function(e,t,n,r,i){var o=this;if(n.mod(this.N).equals(Mi.ZERO))throw new Error("B cannot be zero.");if(this.UValue=this.calculateU(this.largeAValue,n),this.UValue.equals(Mi.ZERO))throw new Error("U cannot be zero.");var s=""+this.poolName+e+":"+t,a=this.hash(s),u=new Mi(this.hexHash(this.padHex(r)+a),16);this.calculateS(u,n,function(e,t){e&&i(e,null);var n=o.computehkdf(Ci.hp.from(o.padHex(t),"hex"),Ci.hp.from(o.padHex(o.UValue),"hex"));i(null,n)})},t.calculateS=function(e,t,n){var r=this;this.g.modPow(e,this.N,function(i,o){i&&n(i,null),t.subtract(r.k.multiply(o)).modPow(r.smallAValue.add(r.UValue.multiply(e)),r.N,function(e,t){e&&n(e,null),n(null,t.mod(r.N))})})},t.getNewPasswordRequiredChallengeUserAttributePrefix=function(){return"userAttributes."},t.padHex=function(e){if(!(e instanceof Mi))throw new Error("Not a BigInteger");var t=e.compareTo(Mi.ZERO)<0,n=e.abs().toString(16);if(n=n.length%2!=0?"0"+n:n,n=Gi.test(n)?"00"+n:n,t){var r=n.split("").map(function(e){var t=15&~parseInt(e,16);return"0123456789ABCDEF".charAt(t)}).join("");(n=new Mi(r,16).add(Mi.ONE).toString(16)).toUpperCase().startsWith("FF8")&&(n=n.substring(2))}return n},e}(),Ji=function(){function e(e){this.jwtToken=e||"",this.payload=this.decodePayload()}var t=e.prototype;return t.getJwtToken=function(){return this.jwtToken},t.getExpiration=function(){return this.payload.exp},t.getIssuedAt=function(){return this.payload.iat},t.decodePayload=function(){var e=this.jwtToken.split(".")[1];try{return JSON.parse(Ci.hp.from(e,"base64").toString("utf8"))}catch(e){return{}}},e}();function Yi(e,t){return Yi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Yi(e,t)}var Zi=function(e){var t,n;function r(t){var n=(void 0===t?{}:t).AccessToken;return e.call(this,n||"")||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,Yi(t,n),r}(Ji);function Xi(e,t){return Xi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Xi(e,t)}var Qi=function(e){var t,n;function r(t){var n=(void 0===t?{}:t).IdToken;return e.call(this,n||"")||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,Xi(t,n),r}(Ji),eo=function(){function e(e){var t=(void 0===e?{}:e).RefreshToken;this.token=t||""}return e.prototype.getToken=function(){return this.token},e}(),to=n(7234),no=n.n(to),ro=function(){function e(e){var t=void 0===e?{}:e,n=t.IdToken,r=t.RefreshToken,i=t.AccessToken,o=t.ClockDrift;if(null==i||null==n)throw new Error("Id token and Access Token must be present.");this.idToken=n,this.refreshToken=r,this.accessToken=i,this.clockDrift=void 0===o?this.calculateClockDrift():o}var t=e.prototype;return t.getIdToken=function(){return this.idToken},t.getRefreshToken=function(){return this.refreshToken},t.getAccessToken=function(){return this.accessToken},t.getClockDrift=function(){return this.clockDrift},t.calculateClockDrift=function(){return Math.floor(new Date/1e3)-Math.min(this.accessToken.getIssuedAt(),this.idToken.getIssuedAt())},t.isValid=function(){var e=Math.floor(new Date/1e3)-this.clockDrift;return e<this.accessToken.getExpiration()&&e<this.idToken.getExpiration()},e}(),io=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],oo=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],so=function(){function e(){}return e.prototype.getNowString=function(){var e=new Date,t=oo[e.getUTCDay()],n=io[e.getUTCMonth()],r=e.getUTCDate(),i=e.getUTCHours();i<10&&(i="0"+i);var o=e.getUTCMinutes();o<10&&(o="0"+o);var s=e.getUTCSeconds();return s<10&&(s="0"+s),t+" "+n+" "+r+" "+i+":"+o+":"+s+" UTC "+e.getUTCFullYear()},e}(),ao=function(){function e(e){var t=void 0===e?{}:e,n=t.Name,r=t.Value;this.Name=n||"",this.Value=r||""}var t=e.prototype;return t.getValue=function(){return this.Value},t.setValue=function(e){return this.Value=e,this},t.getName=function(){return this.Name},t.setName=function(e){return this.Name=e,this},t.toString=function(){return JSON.stringify(this)},t.toJSON=function(){return{Name:this.Name,Value:this.Value}},e}(),uo={},co=function(){function e(){}return e.setItem=function(e,t){return uo[e]=t,uo[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(uo,e)?uo[e]:void 0},e.removeItem=function(e){return delete uo[e]},e.clear=function(){return uo={}},e}(),lo=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.cognito.test-ls",1),this.storageWindow.removeItem("aws.cognito.test-ls")}catch(e){this.storageWindow=co}}return e.prototype.getStorage=function(){return this.storageWindow},e}(),fo="undefined"!=typeof navigator?navigator.userAgent:"nodejs",ho=function(){function e(e){if(null==e||null==e.Username||null==e.Pool)throw new Error("Username and Pool information are required.");this.username=e.Username||"",this.pool=e.Pool,this.Session=null,this.client=e.Pool.client,this.signInUserSession=null,this.authenticationFlowType="USER_SRP_AUTH",this.storage=e.Storage||(new lo).getStorage(),this.keyPrefix="CognitoIdentityServiceProvider."+this.pool.getClientId(),this.userDataKey=this.keyPrefix+"."+this.username+".userData"}var t=e.prototype;return t.setSignInUserSession=function(e){this.clearCachedUserData(),this.signInUserSession=e,this.cacheTokens()},t.getSignInUserSession=function(){return this.signInUserSession},t.getUsername=function(){return this.username},t.getAuthenticationFlowType=function(){return this.authenticationFlowType},t.setAuthenticationFlowType=function(e){this.authenticationFlowType=e},t.initiateAuth=function(e,t){var n=this,r=e.getAuthParameters();r.USERNAME=this.username;var i=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),o={AuthFlow:"CUSTOM_AUTH",ClientId:this.pool.getClientId(),AuthParameters:r,ClientMetadata:i};this.getUserContextData()&&(o.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",o,function(e,r){if(e)return t.onFailure(e);var i=r.ChallengeName,o=r.ChallengeParameters;return"CUSTOM_CHALLENGE"===i?(n.Session=r.Session,t.customChallenge(o)):(n.signInUserSession=n.getCognitoUserSession(r.AuthenticationResult),n.cacheTokens(),t.onSuccess(n.signInUserSession))})},t.authenticateUser=function(e,t){return"USER_PASSWORD_AUTH"===this.authenticationFlowType?this.authenticateUserPlainUsernamePassword(e,t):"USER_SRP_AUTH"===this.authenticationFlowType||"CUSTOM_AUTH"===this.authenticationFlowType?this.authenticateUserDefaultAuth(e,t):t.onFailure(new Error("Authentication flow type is invalid."))},t.authenticateUserDefaultAuth=function(e,t){var n,r,i=this,o=new $i(this.pool.getUserPoolName()),s=new so,a={};null!=this.deviceKey&&(a.DEVICE_KEY=this.deviceKey),a.USERNAME=this.username,o.getLargeAValue(function(u,c){u&&t.onFailure(u),a.SRP_A=c.toString(16),"CUSTOM_AUTH"===i.authenticationFlowType&&(a.CHALLENGE_NAME="SRP_A");var l=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),f={AuthFlow:i.authenticationFlowType,ClientId:i.pool.getClientId(),AuthParameters:a,ClientMetadata:l};i.getUserContextData(i.username)&&(f.UserContextData=i.getUserContextData(i.username)),i.client.request("InitiateAuth",f,function(a,u){if(a)return t.onFailure(a);var c=u.ChallengeParameters;i.username=c.USER_ID_FOR_SRP,i.userDataKey=i.keyPrefix+"."+i.username+".userData",n=new Mi(c.SRP_B,16),r=new Mi(c.SALT,16),i.getCachedDeviceKeyAndPassword(),o.getPasswordAuthenticationKey(i.username,e.getPassword(),n,r,function(e,n){e&&t.onFailure(e);var r=s.getNowString(),a=Pi().lib.WordArray.create(Ci.hp.concat([Ci.hp.from(i.pool.getUserPoolName(),"utf8"),Ci.hp.from(i.username,"utf8"),Ci.hp.from(c.SECRET_BLOCK,"base64"),Ci.hp.from(r,"utf8")])),f=Pi().lib.WordArray.create(n),d=no().stringify(Ti()(a,f)),h={};h.USERNAME=i.username,h.PASSWORD_CLAIM_SECRET_BLOCK=c.SECRET_BLOCK,h.TIMESTAMP=r,h.PASSWORD_CLAIM_SIGNATURE=d,null!=i.deviceKey&&(h.DEVICE_KEY=i.deviceKey);var p={ChallengeName:"PASSWORD_VERIFIER",ClientId:i.pool.getClientId(),ChallengeResponses:h,Session:u.Session,ClientMetadata:l};i.getUserContextData()&&(p.UserContextData=i.getUserContextData()),function e(t,n){return i.client.request("RespondToAuthChallenge",t,function(r,o){return r&&"ResourceNotFoundException"===r.code&&-1!==r.message.toLowerCase().indexOf("device")?(h.DEVICE_KEY=null,i.deviceKey=null,i.randomPassword=null,i.deviceGroupKey=null,i.clearCachedDeviceKeyAndPassword(),e(t,n)):n(r,o)})}(p,function(e,n){return e?t.onFailure(e):i.authenticateUserInternal(n,o,t)})})})})},t.authenticateUserPlainUsernamePassword=function(e,t){var n=this,r={};if(r.USERNAME=this.username,r.PASSWORD=e.getPassword(),r.PASSWORD){var i=new $i(this.pool.getUserPoolName());this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(r.DEVICE_KEY=this.deviceKey);var o=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),s={AuthFlow:"USER_PASSWORD_AUTH",ClientId:this.pool.getClientId(),AuthParameters:r,ClientMetadata:o};this.getUserContextData(this.username)&&(s.UserContextData=this.getUserContextData(this.username)),this.client.request("InitiateAuth",s,function(e,r){return e?t.onFailure(e):n.authenticateUserInternal(r,i,t)})}else t.onFailure(new Error("PASSWORD parameter is required"))},t.authenticateUserInternal=function(e,t,n){var r=this,i=e.ChallengeName,o=e.ChallengeParameters;if("SMS_MFA"===i)return this.Session=e.Session,n.mfaRequired(i,o);if("SELECT_MFA_TYPE"===i)return this.Session=e.Session,n.selectMFAType(i,o);if("MFA_SETUP"===i)return this.Session=e.Session,n.mfaSetup(i,o);if("SOFTWARE_TOKEN_MFA"===i)return this.Session=e.Session,n.totpRequired(i,o);if("CUSTOM_CHALLENGE"===i)return this.Session=e.Session,n.customChallenge(o);if("NEW_PASSWORD_REQUIRED"===i){this.Session=e.Session;var s=null,a=null,u=[],c=t.getNewPasswordRequiredChallengeUserAttributePrefix();if(o&&(s=JSON.parse(e.ChallengeParameters.userAttributes),a=JSON.parse(e.ChallengeParameters.requiredAttributes)),a)for(var l=0;l<a.length;l++)u[l]=a[l].substr(c.length);return n.newPasswordRequired(s,u)}if("DEVICE_SRP_AUTH"===i)return this.Session=e.Session,void this.getDeviceResponse(n);this.signInUserSession=this.getCognitoUserSession(e.AuthenticationResult),this.challengeName=i,this.cacheTokens();var f=e.AuthenticationResult.NewDeviceMetadata;if(null==f)return n.onSuccess(this.signInUserSession);t.generateHashDevice(e.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,e.AuthenticationResult.NewDeviceMetadata.DeviceKey,function(i){if(i)return n.onFailure(i);var o={Salt:Ci.hp.from(t.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:Ci.hp.from(t.getVerifierDevices(),"hex").toString("base64")};r.verifierDevices=o.PasswordVerifier,r.deviceGroupKey=f.DeviceGroupKey,r.randomPassword=t.getRandomPassword(),r.client.request("ConfirmDevice",{DeviceKey:f.DeviceKey,AccessToken:r.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:o,DeviceName:fo},function(t,i){return t?n.onFailure(t):(r.deviceKey=e.AuthenticationResult.NewDeviceMetadata.DeviceKey,r.cacheDeviceKeyAndPassword(),!0===i.UserConfirmationNecessary?n.onSuccess(r.signInUserSession,i.UserConfirmationNecessary):n.onSuccess(r.signInUserSession))})})},t.completeNewPasswordChallenge=function(e,t,n,r){var i=this;if(!e)return n.onFailure(new Error("New password is required."));var o=new $i(this.pool.getUserPoolName()),s=o.getNewPasswordRequiredChallengeUserAttributePrefix(),a={};t&&Object.keys(t).forEach(function(e){a[s+e]=t[e]}),a.NEW_PASSWORD=e,a.USERNAME=this.username;var u={ChallengeName:"NEW_PASSWORD_REQUIRED",ClientId:this.pool.getClientId(),ChallengeResponses:a,Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(u.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",u,function(e,t){return e?n.onFailure(e):i.authenticateUserInternal(t,o,n)})},t.getDeviceResponse=function(e,t){var n=this,r=new $i(this.deviceGroupKey),i=new so,o={};o.USERNAME=this.username,o.DEVICE_KEY=this.deviceKey,r.getLargeAValue(function(s,a){s&&e.onFailure(s),o.SRP_A=a.toString(16);var u={ChallengeName:"DEVICE_SRP_AUTH",ClientId:n.pool.getClientId(),ChallengeResponses:o,ClientMetadata:t,Session:n.Session};n.getUserContextData()&&(u.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",u,function(t,o){if(t)return e.onFailure(t);var s=o.ChallengeParameters,a=new Mi(s.SRP_B,16),u=new Mi(s.SALT,16);r.getPasswordAuthenticationKey(n.deviceKey,n.randomPassword,a,u,function(t,r){if(t)return e.onFailure(t);var a=i.getNowString(),u=Pi().lib.WordArray.create(Ci.hp.concat([Ci.hp.from(n.deviceGroupKey,"utf8"),Ci.hp.from(n.deviceKey,"utf8"),Ci.hp.from(s.SECRET_BLOCK,"base64"),Ci.hp.from(a,"utf8")])),c=Pi().lib.WordArray.create(r),l=no().stringify(Ti()(u,c)),f={};f.USERNAME=n.username,f.PASSWORD_CLAIM_SECRET_BLOCK=s.SECRET_BLOCK,f.TIMESTAMP=a,f.PASSWORD_CLAIM_SIGNATURE=l,f.DEVICE_KEY=n.deviceKey;var d={ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:n.pool.getClientId(),ChallengeResponses:f,Session:o.Session};n.getUserContextData()&&(d.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",d,function(t,r){return t?e.onFailure(t):(n.signInUserSession=n.getCognitoUserSession(r.AuthenticationResult),n.cacheTokens(),e.onSuccess(n.signInUserSession))})})})})},t.confirmRegistration=function(e,t,n,r){var i={ClientId:this.pool.getClientId(),ConfirmationCode:e,Username:this.username,ForceAliasCreation:t,ClientMetadata:r};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("ConfirmSignUp",i,function(e){return e?n(e,null):n(null,"SUCCESS")})},t.sendCustomChallengeAnswer=function(e,t,n){var r=this,i={};i.USERNAME=this.username,i.ANSWER=e;var o=new $i(this.pool.getUserPoolName());this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(i.DEVICE_KEY=this.deviceKey);var s={ChallengeName:"CUSTOM_CHALLENGE",ChallengeResponses:i,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:n};this.getUserContextData()&&(s.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",s,function(e,n){return e?t.onFailure(e):r.authenticateUserInternal(n,o,t)})},t.sendMFACode=function(e,t,n,r){var i=this,o={};o.USERNAME=this.username,o.SMS_MFA_CODE=e;var s=n||"SMS_MFA";"SOFTWARE_TOKEN_MFA"===s&&(o.SOFTWARE_TOKEN_MFA_CODE=e),null!=this.deviceKey&&(o.DEVICE_KEY=this.deviceKey);var a={ChallengeName:s,ChallengeResponses:o,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(a.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",a,function(e,n){if(e)return t.onFailure(e);if("DEVICE_SRP_AUTH"!==n.ChallengeName){if(i.signInUserSession=i.getCognitoUserSession(n.AuthenticationResult),i.cacheTokens(),null==n.AuthenticationResult.NewDeviceMetadata)return t.onSuccess(i.signInUserSession);var r=new $i(i.pool.getUserPoolName());r.generateHashDevice(n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,n.AuthenticationResult.NewDeviceMetadata.DeviceKey,function(e){if(e)return t.onFailure(e);var o={Salt:Ci.hp.from(r.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:Ci.hp.from(r.getVerifierDevices(),"hex").toString("base64")};i.verifierDevices=o.PasswordVerifier,i.deviceGroupKey=n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,i.randomPassword=r.getRandomPassword(),i.client.request("ConfirmDevice",{DeviceKey:n.AuthenticationResult.NewDeviceMetadata.DeviceKey,AccessToken:i.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:o,DeviceName:fo},function(e,r){return e?t.onFailure(e):(i.deviceKey=n.AuthenticationResult.NewDeviceMetadata.DeviceKey,i.cacheDeviceKeyAndPassword(),!0===r.UserConfirmationNecessary?t.onSuccess(i.signInUserSession,r.UserConfirmationNecessary):t.onSuccess(i.signInUserSession))})})}else i.getDeviceResponse(t)})},t.changePassword=function(e,t,n,r){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("ChangePassword",{PreviousPassword:e,ProposedPassword:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:r},function(e){return e?n(e,null):n(null,"SUCCESS")})},t.enableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);var t=[];t.push({DeliveryMedium:"SMS",AttributeName:"phone_number"}),this.client.request("SetUserSettings",{MFAOptions:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(t){return t?e(t,null):e(null,"SUCCESS")})},t.setUserMfaPreference=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("SetUserMFAPreference",{SMSMfaSettings:e,SoftwareTokenMfaSettings:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(e){return e?n(e,null):n(null,"SUCCESS")})},t.disableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("SetUserSettings",{MFAOptions:[],AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(t){return t?e(t,null):e(null,"SUCCESS")})},t.deleteUser=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("DeleteUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:t},function(t){return t?e(t,null):(n.clearCachedUser(),e(null,"SUCCESS"))})},t.updateAttributes=function(e,t,n){var r=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("UpdateUserAttributes",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserAttributes:e,ClientMetadata:n},function(e){return e?t(e,null):r.getUserData(function(){return t(null,"SUCCESS")},{bypassCache:!0})})},t.getUserAttributes=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(t,n){if(t)return e(t,null);for(var r=[],i=0;i<n.UserAttributes.length;i++){var o={Name:n.UserAttributes[i].Name,Value:n.UserAttributes[i].Value},s=new ao(o);r.push(s)}return e(null,r)})},t.getMFAOptions=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(t,n){return t?e(t,null):e(null,n.MFAOptions)})},t.createGetUserRequest=function(){return this.client.promisifyRequest("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()})},t.refreshSessionIfPossible=function(e){var t=this;return void 0===e&&(e={}),new Promise(function(n){var r=t.signInUserSession.getRefreshToken();r&&r.getToken()?t.refreshSession(r,n,e.clientMetadata):n()})},t.getUserData=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return this.clearCachedUserData(),e(new Error("User is not authenticated"),null);var r=this.getUserDataFromCache();if(r)if(this.isFetchUserDataAndTokenRequired(t))this.fetchUserData().then(function(e){return n.refreshSessionIfPossible(t).then(function(){return e})}).then(function(t){return e(null,t)}).catch(e);else try{return void e(null,JSON.parse(r))}catch(t){return this.clearCachedUserData(),void e(t,null)}else this.fetchUserData().then(function(t){e(null,t)}).catch(e)},t.getUserDataFromCache=function(){return this.storage.getItem(this.userDataKey)},t.isFetchUserDataAndTokenRequired=function(e){var t=(e||{}).bypassCache;return void 0!==t&&t},t.fetchUserData=function(){var e=this;return this.createGetUserRequest().then(function(t){return e.cacheUserData(t),t})},t.deleteAttributes=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("DeleteUserAttributes",{UserAttributeNames:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(e){return e?t(e,null):n.getUserData(function(){return t(null,"SUCCESS")},{bypassCache:!0})})},t.resendConfirmationCode=function(e,t){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:t};this.client.request("ResendConfirmationCode",n,function(t,n){return t?e(t,null):e(null,n)})},t.getSession=function(e,t){if(void 0===t&&(t={}),null==this.username)return e(new Error("Username is null. Cannot retrieve a new session"),null);if(null!=this.signInUserSession&&this.signInUserSession.isValid())return e(null,this.signInUserSession);var n="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,r=n+".idToken",i=n+".accessToken",o=n+".refreshToken",s=n+".clockDrift";if(this.storage.getItem(r)){var a=new Qi({IdToken:this.storage.getItem(r)}),u=new Zi({AccessToken:this.storage.getItem(i)}),c=new eo({RefreshToken:this.storage.getItem(o)}),l=parseInt(this.storage.getItem(s),0)||0,f=new ro({IdToken:a,AccessToken:u,RefreshToken:c,ClockDrift:l});if(f.isValid())return this.signInUserSession=f,e(null,this.signInUserSession);if(!c.getToken())return e(new Error("Cannot retrieve a new session. Please authenticate."),null);this.refreshSession(c,e,t.clientMetadata)}else e(new Error("Local storage is missing an ID Token, Please authenticate"),null)},t.refreshSession=function(e,t,n){var r=this,i=this.pool.wrapRefreshSessionCallback?this.pool.wrapRefreshSessionCallback(t):t,o={};o.REFRESH_TOKEN=e.getToken();var s="CognitoIdentityServiceProvider."+this.pool.getClientId(),a=s+".LastAuthUser";if(this.storage.getItem(a)){this.username=this.storage.getItem(a);var u=s+"."+this.username+".deviceKey";this.deviceKey=this.storage.getItem(u),o.DEVICE_KEY=this.deviceKey}var c={ClientId:this.pool.getClientId(),AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:o,ClientMetadata:n};this.getUserContextData()&&(c.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",c,function(t,n){if(t)return"NotAuthorizedException"===t.code&&r.clearCachedUser(),i(t,null);if(n){var o=n.AuthenticationResult;return Object.prototype.hasOwnProperty.call(o,"RefreshToken")||(o.RefreshToken=e.getToken()),r.signInUserSession=r.getCognitoUserSession(o),r.cacheTokens(),i(null,r.signInUserSession)}})},t.cacheTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),t=e+"."+this.username+".idToken",n=e+"."+this.username+".accessToken",r=e+"."+this.username+".refreshToken",i=e+"."+this.username+".clockDrift",o=e+".LastAuthUser";this.storage.setItem(t,this.signInUserSession.getIdToken().getJwtToken()),this.storage.setItem(n,this.signInUserSession.getAccessToken().getJwtToken()),this.storage.setItem(r,this.signInUserSession.getRefreshToken().getToken()),this.storage.setItem(i,""+this.signInUserSession.getClockDrift()),this.storage.setItem(o,this.username)},t.cacheUserData=function(e){this.storage.setItem(this.userDataKey,JSON.stringify(e))},t.clearCachedUserData=function(){this.storage.removeItem(this.userDataKey)},t.clearCachedUser=function(){this.clearCachedTokens(),this.clearCachedUserData()},t.cacheDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.setItem(t,this.deviceKey),this.storage.setItem(n,this.randomPassword),this.storage.setItem(r,this.deviceGroupKey)},t.getCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.getItem(t)&&(this.deviceKey=this.storage.getItem(t),this.randomPassword=this.storage.getItem(n),this.deviceGroupKey=this.storage.getItem(r))},t.clearCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.removeItem(t),this.storage.removeItem(n),this.storage.removeItem(r)},t.clearCachedTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),t=e+"."+this.username+".idToken",n=e+"."+this.username+".accessToken",r=e+"."+this.username+".refreshToken",i=e+".LastAuthUser",o=e+"."+this.username+".clockDrift";this.storage.removeItem(t),this.storage.removeItem(n),this.storage.removeItem(r),this.storage.removeItem(i),this.storage.removeItem(o)},t.getCognitoUserSession=function(e){var t=new Qi(e),n=new Zi(e),r=new eo(e);return new ro({IdToken:t,AccessToken:n,RefreshToken:r})},t.forgotPassword=function(e,t){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:t};this.getUserContextData()&&(n.UserContextData=this.getUserContextData()),this.client.request("ForgotPassword",n,function(t,n){return t?e.onFailure(t):"function"==typeof e.inputVerificationCode?e.inputVerificationCode(n):e.onSuccess(n)})},t.confirmPassword=function(e,t,n,r){var i={ClientId:this.pool.getClientId(),Username:this.username,ConfirmationCode:e,Password:t,ClientMetadata:r};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("ConfirmForgotPassword",i,function(e){return e?n.onFailure(e):n.onSuccess("SUCCESS")})},t.getAttributeVerificationCode=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("GetUserAttributeVerificationCode",{AttributeName:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:n},function(e,n){return e?t.onFailure(e):"function"==typeof t.inputVerificationCode?t.inputVerificationCode(n):t.onSuccess("SUCCESS")})},t.verifyAttribute=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("VerifyUserAttribute",{AttributeName:e,Code:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(e){return e?n.onFailure(e):n.onSuccess("SUCCESS")})},t.getDevice=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("GetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey},function(t,n){return t?e.onFailure(t):e.onSuccess(n)})},t.forgetSpecificDevice=function(e,t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("ForgetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:e},function(e){return e?t.onFailure(e):t.onSuccess("SUCCESS")})},t.forgetDevice=function(e){var t=this;this.forgetSpecificDevice(this.deviceKey,{onFailure:e.onFailure,onSuccess:function(n){return t.deviceKey=null,t.deviceGroupKey=null,t.randomPassword=null,t.clearCachedDeviceKeyAndPassword(),e.onSuccess(n)}})},t.setDeviceStatusRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"remembered"},function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")})},t.setDeviceStatusNotRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"not_remembered"},function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")})},t.listDevices=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));var r={AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),Limit:e};t&&(r.PaginationToken=t),this.client.request("ListDevices",r,function(e,t){return e?n.onFailure(e):n.onSuccess(t)})},t.globalSignOut=function(e){var t=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("GlobalSignOut",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(n){return n?e.onFailure(n):(t.clearCachedUser(),e.onSuccess("SUCCESS"))})},t.signOut=function(e){var t=this;e&&"function"==typeof e?this.getSession(function(n,r){if(n)return e(n);t.revokeTokens(function(n){t.cleanClientData(),e(n)})}):this.cleanClientData()},t.revokeTokens=function(e){if(void 0===e&&(e=function(){}),"function"!=typeof e)throw new Error("Invalid revokeTokenCallback. It should be a function.");if(!this.signInUserSession)return e(new Error("User is not authenticated"));if(!this.signInUserSession.getAccessToken())return e(new Error("No Access token available"));var t=this.signInUserSession.getRefreshToken().getToken(),n=this.signInUserSession.getAccessToken();if(this.isSessionRevocable(n)&&t)return this.revokeToken({token:t,callback:e});e()},t.isSessionRevocable=function(e){if(e&&"function"==typeof e.decodePayload)try{return!!e.decodePayload().origin_jti}catch(e){}return!1},t.cleanClientData=function(){this.signInUserSession=null,this.clearCachedUser()},t.revokeToken=function(e){var t=e.token,n=e.callback;this.client.requestWithRetry("RevokeToken",{Token:t,ClientId:this.pool.getClientId()},function(e){if(e)return n(e);n()})},t.sendMFASelectionAnswer=function(e,t){var n=this,r={};r.USERNAME=this.username,r.ANSWER=e;var i={ChallengeName:"SELECT_MFA_TYPE",ChallengeResponses:r,ClientId:this.pool.getClientId(),Session:this.Session};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",i,function(r,i){return r?t.onFailure(r):(n.Session=i.Session,"SMS_MFA"===e?t.mfaRequired(i.ChallengeName,i.ChallengeParameters):"SOFTWARE_TOKEN_MFA"===e?t.totpRequired(i.ChallengeName,i.ChallengeParameters):void 0)})},t.getUserContextData=function(){return this.pool.getUserContextData(this.username)},t.associateSoftwareToken=function(e){var t=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("AssociateSoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(t,n){return t?e.onFailure(t):e.associateSecretCode(n.SecretCode)}):this.client.request("AssociateSoftwareToken",{Session:this.Session},function(n,r){return n?e.onFailure(n):(t.Session=r.Session,e.associateSecretCode(r.SecretCode))})},t.verifySoftwareToken=function(e,t,n){var r=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("VerifySoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserCode:e,FriendlyDeviceName:t},function(e,t){return e?n.onFailure(e):n.onSuccess(t)}):this.client.request("VerifySoftwareToken",{Session:this.Session,UserCode:e,FriendlyDeviceName:t},function(e,t){if(e)return n.onFailure(e);r.Session=t.Session;var i={};i.USERNAME=r.username;var o={ChallengeName:"MFA_SETUP",ClientId:r.pool.getClientId(),ChallengeResponses:i,Session:r.Session};r.getUserContextData()&&(o.UserContextData=r.getUserContextData()),r.client.request("RespondToAuthChallenge",o,function(e,t){return e?n.onFailure(e):(r.signInUserSession=r.getCognitoUserSession(t.AuthenticationResult),r.cacheTokens(),n.onSuccess(r.signInUserSession))})})},e}(),po=(n(8244),"aws-amplify/5.0.4"),go={userAgent:po+" js",product:"",navigator:null,isReactNative:!1};function vo(){}"undefined"!=typeof navigator&&navigator.product&&(go.product=navigator.product||"",go.navigator=navigator||null,"ReactNative"===navigator.product?(go.userAgent=po+" react-native",go.isReactNative=!0):(go.userAgent=po+" js",go.isReactNative=!1)),vo.prototype.userAgent=go.userAgent;const yo=vo;function mo(e){var t="function"==typeof Map?new Map:void 0;return mo=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return bo(e,arguments,wo(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),So(r,e)},mo(e)}function bo(e,t,n){return bo=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&So(i,n.prototype),i},bo.apply(null,arguments)}function So(e,t){return So=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},So(e,t)}function wo(e){return wo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wo(e)}var _o=function(e){function t(t,n,r,i){var o;return(o=e.call(this,t)||this).code=n,o.name=r,o.statusCode=i,o}return r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,So(n,r),t;var n,r}(mo(Error)),Eo=function(){function e(e,t,n){this.endpoint=t||"https://cognito-idp."+e+".amazonaws.com/";var r=(n||{}).credentials;this.fetchOptions=r?{credentials:r}:{}}var t=e.prototype;return t.promisifyRequest=function(e,t){var n=this;return new Promise(function(r,i){n.request(e,t,function(e,t){e?i(new _o(e.message,e.code,e.name,e.statusCode)):r(t)})})},t.requestWithRetry=function(e,t,n){var r,i,o=this;(r=[t],i=5e3,void 0===i&&(i=xo),Po(function(t){return new Promise(function(n,r){o.request(e,t,function(e,t){e?r(e):n(t)})})},r,function(e){return function(t){var n=100*Math.pow(2,t)+100*Math.random();return!(n>e)&&n}}(i))).then(function(e){return n(null,e)}).catch(function(e){return n(e)})},t.request=function(e,t,n){var r,i={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityProviderService."+e,"X-Amz-User-Agent":yo.prototype.userAgent,"Cache-Control":"no-store"},o=Object.assign({},this.fetchOptions,{headers:i,method:"POST",mode:"cors",body:JSON.stringify(t)});fetch(this.endpoint,o).then(function(e){return r=e,e},function(e){if(e instanceof TypeError)throw new Error("Network error");throw e}).then(function(e){return e.json().catch(function(){return{}})}).then(function(e){if(r.ok)return n(null,e);var t=(e.__type||e.code).split("#").pop(),i=new Error(e.message||e.Message||null);return i.name=t,i.code=t,n(i)}).catch(function(e){if(r&&r.headers&&r.headers.get("x-amzn-errortype"))try{var t=r.headers.get("x-amzn-errortype").split(":")[0],i=new Error(r.status?r.status.toString():null);return i.code=t,i.name=t,i.statusCode=r.status,n(i)}catch(t){return n(e)}else e instanceof Error&&"Network error"===e.message&&(e.code="NetworkError");return n(e)})},e}(),Co={debug:function(){}},Ao=function(e){return e&&e.nonRetryable};function Po(e,t,n,r){if(void 0===r&&(r=1),"function"!=typeof e)throw Error("functionToRetry must be a function");return Co.debug(e.name+" attempt #"+r+" with args: "+JSON.stringify(t)),e.apply(void 0,t).catch(function(i){if(Co.debug("error on "+e.name,i),Ao(i))throw Co.debug(e.name+" non retryable error",i),i;var o=n(r,t,i);if(Co.debug(e.name+" retrying in "+o+" ms"),!1!==o)return new Promise(function(e){return setTimeout(e,o)}).then(function(){return Po(e,t,n,r+1)});throw i})}var xo=3e5,ko=function(){function e(e,t){var n=e||{},r=n.UserPoolId,i=n.ClientId,o=n.endpoint,s=n.fetchOptions,a=n.AdvancedSecurityDataCollectionFlag;if(!r||!i)throw new Error("Both UserPoolId and ClientId are required.");if(r.length>55||!/^[\w-]+_[0-9a-zA-Z]+$/.test(r))throw new Error("Invalid UserPoolId format.");var u=r.split("_")[0];this.userPoolId=r,this.clientId=i,this.client=new Eo(u,o,s),this.advancedSecurityDataCollectionFlag=!1!==a,this.storage=e.Storage||(new lo).getStorage(),t&&(this.wrapRefreshSessionCallback=t)}var t=e.prototype;return t.getUserPoolId=function(){return this.userPoolId},t.getUserPoolName=function(){return this.getUserPoolId().split("_")[1]},t.getClientId=function(){return this.clientId},t.signUp=function(e,t,n,r,i,o){var s=this,a={ClientId:this.clientId,Username:e,Password:t,UserAttributes:n,ValidationData:r,ClientMetadata:o};this.getUserContextData(e)&&(a.UserContextData=this.getUserContextData(e)),this.client.request("SignUp",a,function(t,n){if(t)return i(t,null);var r={Username:e,Pool:s,Storage:s.storage},o={user:new ho(r),userConfirmed:n.UserConfirmed,userSub:n.UserSub,codeDeliveryDetails:n.CodeDeliveryDetails};return i(null,o)})},t.getCurrentUser=function(){var e="CognitoIdentityServiceProvider."+this.clientId+".LastAuthUser",t=this.storage.getItem(e);if(t){var n={Username:t,Pool:this,Storage:this.storage};return new ho(n)}return null},t.getUserContextData=function(e){if("undefined"!=typeof AmazonCognitoAdvancedSecurityData){var t=AmazonCognitoAdvancedSecurityData;if(this.advancedSecurityDataCollectionFlag){var n=t.getData(e,this.userPoolId,this.clientId);if(n)return{EncodedData:n}}return{}}},e}(),Io=n(8391),To=function(){function e(e){if(!e.domain)throw new Error("The domain of cookieStorage can not be undefined.");if(this.domain=e.domain,e.path?this.path=e.path:this.path="/",Object.prototype.hasOwnProperty.call(e,"expires")?this.expires=e.expires:this.expires=365,Object.prototype.hasOwnProperty.call(e,"secure")?this.secure=e.secure:this.secure=!0,Object.prototype.hasOwnProperty.call(e,"sameSite")){if(!["strict","lax","none"].includes(e.sameSite))throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if("none"===e.sameSite&&!this.secure)throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=e.sameSite}else this.sameSite=null}var t=e.prototype;return t.setItem=function(e,t){var n={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(n.sameSite=this.sameSite),Io.set(e,t,n),Io.get(e)},t.getItem=function(e){return Io.get(e)},t.removeItem=function(e){var t={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(t.sameSite=this.sameSite),Io.remove(e,t)},t.clear=function(){for(var e=Io.get(),t=Object.keys(e).length,n=0;n<t;++n)this.removeItem(Object.keys(e)[n]);return{}},e}(),Oo=n(4867),Uo=function(e){var t=window.open(e,"_self");return t?Promise.resolve(t):Promise.reject()},Mo=function(){return Mo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Mo.apply(this,arguments)},Lo=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})},Ro=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},No=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},Do="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",jo=function(e,t,n){U.dispatch("auth",{event:e,data:t,message:n},"Auth",Do)},Bo=new o("OAuth"),Fo=function(){function e(e){var t=e.config,n=e.cognitoClientId,r=e.scopes,i=void 0===r?[]:r;if(this._urlOpener=t.urlOpener||Uo,this._config=t,this._cognitoClientId=n,!this.isValidScopes(i))throw Error("scopes must be a String Array");this._scopes=i}return e.prototype.isValidScopes=function(e){return Array.isArray(e)&&e.every(function(e){return"string"==typeof e})},e.prototype.oauthSignIn=function(e,t,n,r,i,o){void 0===e&&(e="code"),void 0===i&&(i=w.Cognito);var s=this._generateState(32),a=o?s+"-"+o.split("").map(function(e){return e.charCodeAt(0).toString(16).padStart(2,"0")}).join(""):s;!function(e){window.sessionStorage.setItem("oauth_state",e)}(a);var u,c=this._generateRandom(128);u=c,window.sessionStorage.setItem("ouath_pkce_key",u);var l=this._generateChallenge(c),f=this._scopes.join(" "),d="https://"+t+"/oauth2/authorize?"+Object.entries(Mo(Mo({redirect_uri:n,response_type:e,client_id:r,identity_provider:i,scope:f,state:a},"code"===e?{code_challenge:l}:{}),"code"===e?{code_challenge_method:"S256"}:{})).map(function(e){var t=No(e,2),n=t[0],r=t[1];return encodeURIComponent(n)+"="+encodeURIComponent(r)}).join("&");Bo.debug("Redirecting to "+d),this._urlOpener(d,n)},e.prototype._handleCodeFlow=function(e){return Lo(this,void 0,void 0,function(){var t,n,r,i,o,s,a,u,c,l,f,d,h,p;return Ro(this,function(g){switch(g.label){case 0:return t=((0,Oo.qg)(e).query||"").split("&").map(function(e){return e.split("=")}).reduce(function(e,t){var n,r=No(t,2),i=r[0],o=r[1];return Mo(Mo({},e),((n={})[i]=o,n))},{code:void 0}).code,n=(0,Oo.qg)(e).pathname||"/",r=(0,Oo.qg)(this._config.redirectSignIn).pathname||"/",t&&n===r?(i="https://"+this._config.domain+"/oauth2/token",jo("codeFlow",{},"Retrieving tokens from "+i),o=P(this._config)?this._cognitoClientId:this._config.clientID,s=P(this._config)?this._config.redirectSignIn:this._config.redirectUri,v=window.sessionStorage.getItem("ouath_pkce_key"),window.sessionStorage.removeItem("ouath_pkce_key"),u=Mo({grant_type:"authorization_code",code:t,client_id:o,redirect_uri:s},(a=v)?{code_verifier:a}:{}),Bo.debug("Calling token endpoint: "+i+" with",u),c=Object.entries(u).map(function(e){var t=No(e,2),n=t[0],r=t[1];return encodeURIComponent(n)+"="+encodeURIComponent(r)}).join("&"),[4,fetch(i,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:c})]):[2];case 1:return[4,g.sent().json()];case 2:if(l=g.sent(),f=l.access_token,d=l.refresh_token,h=l.id_token,p=l.error)throw new Error(p);return[2,{accessToken:f,refreshToken:d,idToken:h}]}var v})})},e.prototype._handleImplicitFlow=function(e){return Lo(this,void 0,void 0,function(){var t,n,r;return Ro(this,function(i){return t=((0,Oo.qg)(e).hash||"#").substr(1).split("&").map(function(e){return e.split("=")}).reduce(function(e,t){var n,r=No(t,2),i=r[0],o=r[1];return Mo(Mo({},e),((n={})[i]=o,n))},{id_token:void 0,access_token:void 0}),n=t.id_token,r=t.access_token,jo("implicitFlow",{},"Got tokens from "+e),Bo.debug("Retrieving implicit tokens from "+e+" with"),[2,{accessToken:r,idToken:n,refreshToken:null}]})})},e.prototype.handleAuthResponse=function(e){return Lo(this,void 0,void 0,function(){var t,n,r,i,o,s,a;return Ro(this,function(u){switch(u.label){case 0:if(u.trys.push([0,5,,6]),t=e?Mo(Mo({},((0,Oo.qg)(e).hash||"#").substr(1).split("&").map(function(e){return e.split("=")}).reduce(function(e,t){var n=No(t,2),r=n[0],i=n[1];return e[r]=i,e},{})),((0,Oo.qg)(e).query||"").split("&").map(function(e){return e.split("=")}).reduce(function(e,t){var n=No(t,2),r=n[0],i=n[1];return e[r]=i,e},{})):{},n=t.error,r=t.error_description,n)throw new Error(r);return i=this._validateState(t),Bo.debug("Starting "+this._config.responseType+" flow with "+e),"code"!==this._config.responseType?[3,2]:(o=[{}],[4,this._handleCodeFlow(e)]);case 1:return[2,Mo.apply(void 0,[Mo.apply(void 0,o.concat([u.sent()])),{state:i}])];case 2:return s=[{}],[4,this._handleImplicitFlow(e)];case 3:return[2,Mo.apply(void 0,[Mo.apply(void 0,s.concat([u.sent()])),{state:i}])];case 4:return[3,6];case 5:throw a=u.sent(),Bo.error("Error handling auth response.",a),a;case 6:return[2]}})})},e.prototype._validateState=function(e){if(e){var t,n=(t=window.sessionStorage.getItem("oauth_state"),window.sessionStorage.removeItem("oauth_state"),t),r=e.state;if(n&&n!==r)throw new Error("Invalid state in OAuth flow");return r}},e.prototype.signOut=function(){return Lo(this,void 0,void 0,function(){var e,t,n;return Ro(this,function(r){return e="https://"+this._config.domain+"/logout?",t=P(this._config)?this._cognitoClientId:this._config.oauth.clientID,n=P(this._config)?this._config.redirectSignOut:this._config.returnTo,e+=Object.entries({client_id:t,logout_uri:encodeURIComponent(n)}).map(function(e){var t=No(e,2);return t[0]+"="+t[1]}).join("&"),jo("oAuthSignOut",{oAuth:"signOut"},"Signing out from "+e),Bo.debug("Signing out from "+e),[2,this._urlOpener(e,n)]})})},e.prototype._generateState=function(e){for(var t="",n=e;n>0;--n)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.round(61*Math.random())];return t},e.prototype._generateChallenge=function(e){return this._base64URL(ki()(e))},e.prototype._base64URL=function(e){return e.toString(no()).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},e.prototype._generateRandom=function(e){var t=new Uint8Array(e);if("undefined"!=typeof window&&window.crypto)window.crypto.getRandomValues(t);else for(var n=0;n<e;n+=1)t[n]=66*Math.random()|0;return this._bufferToString(t)},e.prototype._bufferToString=function(e){for(var t=[],n=0;n<e.byteLength;n+=1){var r=e[n]%62;t.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"[r])}return t.join("")},e}();const zo=Fo;var Ko;!function(e){e.DEFAULT_MSG="Authentication Error",e.EMPTY_EMAIL="Email cannot be empty",e.EMPTY_PHONE="Phone number cannot be empty",e.EMPTY_USERNAME="Username cannot be empty",e.INVALID_USERNAME="The username should either be a string or one of the sign in types",e.EMPTY_PASSWORD="Password cannot be empty",e.EMPTY_CODE="Confirmation code cannot be empty",e.SIGN_UP_ERROR="Error creating account",e.NO_MFA="No valid MFA method provided",e.INVALID_MFA="Invalid MFA type",e.EMPTY_CHALLENGE="Challenge response cannot be empty",e.NO_USER_SESSION="Failed to get the session because the user is empty",e.NETWORK_ERROR="Network Error",e.DEVICE_CONFIG="Device tracking has not been configured in this User Pool",e.AUTOSIGNIN_ERROR="Please use your credentials to sign in"}(Ko||(Ko={}));var qo=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ho=new o("AuthError"),Vo=function(e){function t(n){var r=this,i=Go[n],o=i.message,s=i.log;return(r=e.call(this,o)||this).constructor=t,Object.setPrototypeOf(r,t.prototype),r.name="AuthError",r.log=s||o,Ho.error(r.log),r}return qo(t,e),t}(Error),Wo=function(e){function t(n){var r=e.call(this,n)||this;return r.constructor=t,Object.setPrototypeOf(r,t.prototype),r.name="NoUserPoolError",r}return qo(t,e),t}(Vo),Go={noConfig:{message:Ko.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly.\n            This error is typically caused by one of the following scenarios:\n\n            1. Make sure you're passing the awsconfig object to Amplify.configure() in your app's entry point\n                See https://aws-amplify.github.io/docs/js/authentication#configure-your-app for more information\n            \n            2. There might be multiple conflicting versions of amplify packages in your node_modules.\n\t\t\t\tRefer to our docs site for help upgrading Amplify packages (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js)\n        "},missingAuthConfig:{message:Ko.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly. \n            The configuration object is missing required auth properties.\n            This error is typically caused by one of the following scenarios:\n\n            1. Did you run `amplify push` after adding auth via `amplify add auth`?\n                See https://aws-amplify.github.io/docs/js/authentication#amplify-project-setup for more information\n\n            2. This could also be caused by multiple conflicting versions of amplify packages, see (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js) for help upgrading Amplify packages.\n        "},emptyUsername:{message:Ko.EMPTY_USERNAME},invalidUsername:{message:Ko.INVALID_USERNAME},emptyPassword:{message:Ko.EMPTY_PASSWORD},emptyCode:{message:Ko.EMPTY_CODE},signUpError:{message:Ko.SIGN_UP_ERROR,log:"The first parameter should either be non-null string or object"},noMFA:{message:Ko.NO_MFA},invalidMFA:{message:Ko.INVALID_MFA},emptyChallengeResponse:{message:Ko.EMPTY_CHALLENGE},noUserSession:{message:Ko.NO_USER_SESSION},deviceConfig:{message:Ko.DEVICE_CONFIG},networkError:{message:Ko.NETWORK_ERROR},autoSignInError:{message:Ko.AUTOSIGNIN_ERROR},default:{message:Ko.DEFAULT_MSG}},$o=function(){return $o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},$o.apply(this,arguments)},Jo=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})},Yo=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},Zo=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},Xo=new o("AuthClass"),Qo="aws.cognito.signin.user.admin",es="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",ts=function(e,t,n){U.dispatch("auth",{event:e,data:t,message:n},"Auth",es)},ns=function(){function e(e){var t=this;this.userPool=null,this.user=null,this.oAuthFlowInProgress=!1,this.autoSignInInitiated=!1,this.Credentials=li,this.wrapRefreshSessionCallback=function(e){return function(t,n){return n?ts("tokenRefresh",void 0,"New token retrieved"):ts("tokenRefresh_failure",t,"Failed to retrieve new token"),e(t,n)}},this.configure(e),this.currentCredentials=this.currentCredentials.bind(this),this.currentUserCredentials=this.currentUserCredentials.bind(this),U.listen("auth",function(e){switch(e.payload.event){case"signIn":t._storage.setItem("amplify-signin-with-hostedUI","false");break;case"signOut":t._storage.removeItem("amplify-signin-with-hostedUI");break;case"cognitoHostedUI":t._storage.setItem("amplify-signin-with-hostedUI","true")}})}return e.prototype.getModuleName=function(){return"Auth"},e.prototype.configure=function(e){var t=this;if(!e)return this._config||{};Xo.debug("configure Auth");var n=Object.assign({},this._config,pi.parseMobilehubConfig(e).Auth,e);this._config=n;var r=this._config,i=r.userPoolId,o=r.userPoolWebClientId,s=r.cookieStorage,a=r.oauth,u=r.region,c=r.identityPoolId,l=r.mandatorySignIn,f=r.refreshHandlers,d=r.identityPoolRegion,h=r.clientMetadata,p=r.endpoint;if(this._config.storage){if(!this._isValidAuthStorage(this._config.storage))throw Xo.error("The storage in the Auth config is not valid!"),new Error("Empty storage object");this._storage=this._config.storage}else this._storage=s?new To(s):e.ssr?new _i:(new R).getStorage();if(this._storageSync=Promise.resolve(),"function"==typeof this._storage.sync&&(this._storageSync=this._storage.sync()),i){var g={UserPoolId:i,ClientId:o,endpoint:p};g.Storage=this._storage,this.userPool=new ko(g,this.wrapRefreshSessionCallback)}this.Credentials.configure({mandatorySignIn:l,region:d||u,userPoolId:i,identityPoolId:c,refreshHandlers:f,storage:this._storage});var v=a?P(this._config.oauth)?a:a.awsCognito:void 0;if(v){var m=Object.assign({cognitoClientId:o,UserPoolId:i,domain:v.domain,scopes:v.scope,redirectSignIn:v.redirectSignIn,redirectSignOut:v.redirectSignOut,responseType:v.responseType,Storage:this._storage,urlOpener:v.urlOpener,clientMetadata:h},v.options);this._oAuthHandler=new zo({scopes:m.scopes,config:m,cognitoClientId:m.cognitoClientId});var b={};!function(){if(y().isBrowser&&window.location)!function(e){var n=e.url;b[n]||(b[n]=!0,t._handleAuthResponse(n))}({url:window.location.href});else if(!y().isNode)throw new Error("Not supported")}()}return ts("configured",null,"The Auth category has been configured successfully"),this.autoSignInInitiated||"function"!=typeof this._storage.getItem||(this.isTrueStorageValue("amplify-polling-started")&&(ts("autoSignIn_failure",null,_.AutoSignInError),this._storage.removeItem("amplify-auto-sign-in")),this._storage.removeItem("amplify-polling-started")),this._config},e.prototype.signUp=function(e){for(var t,n,r,i=this,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];if(!this.userPool)return this.rejectNoUserPool();var a,u=null,c=null,l=[],f=null,d={enabled:!1},h={},p={};if(e&&"string"==typeof e){u=e,c=o?o[0]:null;var g=o?o[1]:null,v=o?o[2]:null;g&&l.push(new ao({Name:"email",Value:g})),v&&l.push(new ao({Name:"phone_number",Value:v}))}else{if(!e||"object"!=typeof e)return this.rejectAuthError(_.SignUpError);u=e.username,c=e.password,e&&e.clientMetadata?a=e.clientMetadata:this._config.clientMetadata&&(a=this._config.clientMetadata);var y=e.attributes;y&&Object.keys(y).map(function(e){l.push(new ao({Name:e,Value:y[e]}))});var m=e.validationData;m&&(f=[],Object.keys(m).map(function(e){f.push(new ao({Name:e,Value:m[e]}))})),(d=null!==(t=e.autoSignIn)&&void 0!==t?t:{enabled:!1}).enabled&&(this._storage.setItem("amplify-auto-sign-in","true"),h=null!==(n=d.validationData)&&void 0!==n?n:{},p=null!==(r=d.clientMetaData)&&void 0!==r?r:{})}return u?c?(Xo.debug("signUp attrs:",l),Xo.debug("signUp validation data:",f),new Promise(function(e,t){i.userPool.signUp(u,c,l,f,function(n,r){n?(ts("signUp_failure",n,u+" failed to signup"),t(n)):(ts("signUp",r,u+" has signed up successfully"),d.enabled&&i.handleAutoSignIn(u,c,h,p,r),e(r))},a)})):this.rejectAuthError(_.EmptyPassword):this.rejectAuthError(_.EmptyUsername)},e.prototype.handleAutoSignIn=function(e,t,n,r,i){this.autoSignInInitiated=!0;var o=new Ei({Username:e,Password:t,ValidationData:n,ClientMetadata:r});i.userConfirmed?this.signInAfterUserConfirmed(o):"link"===this._config.signUpVerificationMethod?this.handleLinkAutoSignIn(o):this.handleCodeAutoSignIn(o)},e.prototype.handleCodeAutoSignIn=function(e){var t=this,n=function(r){"confirmSignUp"===r.payload.event&&t.signInAfterUserConfirmed(e,n)};U.listen("auth",n)},e.prototype.handleLinkAutoSignIn=function(e){var t=this;this._storage.setItem("amplify-polling-started","true");var n=Date.now(),r=setInterval(function(){Date.now()-n>18e4?(clearInterval(r),ts("autoSignIn_failure",null,"Please confirm your account and use your credentials to sign in."),t._storage.removeItem("amplify-auto-sign-in")):t.signInAfterUserConfirmed(e,null,r)},5e3)},e.prototype.signInAfterUserConfirmed=function(e,t,n){return Jo(this,void 0,void 0,function(){var r,i,o=this;return Yo(this,function(s){switch(s.label){case 0:r=this.createCognitoUser(e.getUsername()),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,r.authenticateUser(e,this.authCallbacks(r,function(r){ts("autoSignIn",r,e.getUsername()+" has signed in successfully"),t&&U.remove("auth",t),n&&(clearInterval(n),o._storage.removeItem("amplify-polling-started")),o._storage.removeItem("amplify-auto-sign-in")},function(e){Xo.error(e),o._storage.removeItem("amplify-auto-sign-in")}))];case 2:return s.sent(),[3,4];case 3:return i=s.sent(),Xo.error(i),[3,4];case 4:return[2]}})})},e.prototype.confirmSignUp=function(e,t,n){var r=this;if(!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(_.EmptyUsername);if(!t)return this.rejectAuthError(_.EmptyCode);var i,o=this.createCognitoUser(e),s=!n||"boolean"!=typeof n.forceAliasCreation||n.forceAliasCreation;return n&&n.clientMetadata?i=n.clientMetadata:this._config.clientMetadata&&(i=this._config.clientMetadata),new Promise(function(n,a){o.confirmRegistration(t,s,function(t,i){t?a(t):(ts("confirmSignUp",i,e+" has been confirmed successfully"),r.isTrueStorageValue("amplify-auto-sign-in")&&!r.autoSignInInitiated&&(ts("autoSignIn_failure",null,_.AutoSignInError),r._storage.removeItem("amplify-auto-sign-in")),n(i))},i)})},e.prototype.isTrueStorageValue=function(e){var t=this._storage.getItem(e);return!!t&&"true"===t},e.prototype.resendSignUp=function(e,t){if(void 0===t&&(t=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(_.EmptyUsername);var n=this.createCognitoUser(e);return new Promise(function(e,r){n.resendConfirmationCode(function(t,n){t?r(t):e(n)},t)})},e.prototype.signIn=function(e,t,n){if(void 0===n&&(n=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();var r=null,i=null,o={};if("string"==typeof e)r=e,i=t;else{if(!e.username)return this.rejectAuthError(_.InvalidUsername);void 0!==t&&Xo.warn("The password should be defined under the first parameter object!"),r=e.username,i=e.password,o=e.validationData}if(!r)return this.rejectAuthError(_.EmptyUsername);var s=new Ei({Username:r,Password:i,ValidationData:o,ClientMetadata:n});return i?this.signInWithPassword(s):this.signInWithoutPassword(s)},e.prototype.authCallbacks=function(e,t,n){var r=this,i=this;return{onSuccess:function(o){return Jo(r,void 0,void 0,function(){var r,s,a,u;return Yo(this,function(c){switch(c.label){case 0:Xo.debug(o),delete e.challengeName,delete e.challengeParam,c.label=1;case 1:return c.trys.push([1,4,5,9]),[4,this.Credentials.clear()];case 2:return c.sent(),[4,this.Credentials.set(o,"session")];case 3:return r=c.sent(),Xo.debug("succeed to get cognito credentials",r),[3,9];case 4:return s=c.sent(),Xo.debug("cannot get cognito credentials",s),[3,9];case 5:return c.trys.push([5,7,,8]),[4,this.currentUserPoolUser()];case 6:return a=c.sent(),i.user=a,ts("signIn",a,"A user "+e.getUsername()+" has been signed in"),t(a),[3,8];case 7:return u=c.sent(),Xo.error("Failed to get the signed in user",u),n(u),[3,8];case 8:return[7];case 9:return[2]}})})},onFailure:function(t){Xo.debug("signIn failure",t),ts("signIn_failure",t,e.getUsername()+" failed to signin"),n(t)},customChallenge:function(n){Xo.debug("signIn custom challenge answer required"),e.challengeName="CUSTOM_CHALLENGE",e.challengeParam=n,t(e)},mfaRequired:function(n,r){Xo.debug("signIn MFA required"),e.challengeName=n,e.challengeParam=r,t(e)},mfaSetup:function(n,r){Xo.debug("signIn mfa setup",n),e.challengeName=n,e.challengeParam=r,t(e)},newPasswordRequired:function(n,r){Xo.debug("signIn new password"),e.challengeName="NEW_PASSWORD_REQUIRED",e.challengeParam={userAttributes:n,requiredAttributes:r},t(e)},totpRequired:function(n,r){Xo.debug("signIn totpRequired"),e.challengeName=n,e.challengeParam=r,t(e)},selectMFAType:function(n,r){Xo.debug("signIn selectMFAType",n),e.challengeName=n,e.challengeParam=r,t(e)}}},e.prototype.signInWithPassword=function(e){var t=this;if(this.pendingSignIn)throw new Error("Pending sign-in attempt already in progress");var n=this.createCognitoUser(e.getUsername());return this.pendingSignIn=new Promise(function(r,i){n.authenticateUser(e,t.authCallbacks(n,function(e){t.pendingSignIn=null,r(e)},function(e){t.pendingSignIn=null,i(e)}))}),this.pendingSignIn},e.prototype.signInWithoutPassword=function(e){var t=this,n=this.createCognitoUser(e.getUsername());return n.setAuthenticationFlowType("CUSTOM_AUTH"),new Promise(function(r,i){n.initiateAuth(e,t.authCallbacks(n,r,i))})},e.prototype.getMFAOptions=function(e){return new Promise(function(t,n){e.getMFAOptions(function(e,r){if(e)return Xo.debug("get MFA Options failed",e),void n(e);Xo.debug("get MFA options success",r),t(r)})})},e.prototype.getPreferredMFA=function(e,t){var n=this,r=this;return new Promise(function(i,o){var s=n._config.clientMetadata,a=!!t&&t.bypassCache;e.getUserData(function(t,s){return Jo(n,void 0,void 0,function(){var n,a;return Yo(this,function(u){switch(u.label){case 0:if(!t)return[3,5];if(Xo.debug("getting preferred mfa failed",t),!this.isSessionInvalid(t))return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return u.sent(),[3,4];case 3:return n=u.sent(),o(new Error("Session is invalid due to: "+t.message+" and failed to clean up invalid session: "+n.message)),[2];case 4:return o(t),[2];case 5:return(a=r._getMfaTypeFromUserData(s))?(i(a),[2]):(o("invalid MFA Type"),[2])}})})},{bypassCache:a,clientMetadata:s})})},e.prototype._getMfaTypeFromUserData=function(e){var t=null,n=e.PreferredMfaSetting;if(n)t=n;else{var r=e.UserMFASettingList;r?0===r.length?t="NOMFA":Xo.debug("invalid case for getPreferredMFA",e):t=e.MFAOptions?"SMS_MFA":"NOMFA"}return t},e.prototype._getUserData=function(e,t){var n=this;return new Promise(function(r,i){e.getUserData(function(t,o){return Jo(n,void 0,void 0,function(){var n;return Yo(this,function(s){switch(s.label){case 0:if(!t)return[3,5];if(Xo.debug("getting user data failed",t),!this.isSessionInvalid(t))return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return s.sent(),[3,4];case 3:return n=s.sent(),i(new Error("Session is invalid due to: "+t.message+" and failed to clean up invalid session: "+n.message)),[2];case 4:return i(t),[2];case 5:r(o),s.label=6;case 6:return[2]}})})},t)})},e.prototype.setPreferredMFA=function(e,t){return Jo(this,void 0,void 0,function(){var n,r,i,o,s,a,u=this;return Yo(this,function(c){switch(c.label){case 0:return n=this._config.clientMetadata,[4,this._getUserData(e,{bypassCache:!0,clientMetadata:n})];case 1:switch(r=c.sent(),i=null,o=null,t){case"TOTP":case"SOFTWARE_TOKEN_MFA":return[3,2];case"SMS":case"SMS_MFA":return[3,3];case"NOMFA":return[3,4]}return[3,6];case 2:return o={PreferredMfa:!0,Enabled:!0},[3,7];case 3:return i={PreferredMfa:!0,Enabled:!0},[3,7];case 4:return s=r.UserMFASettingList,[4,this._getMfaTypeFromUserData(r)];case 5:if("NOMFA"===(a=c.sent()))return[2,Promise.resolve("No change for mfa type")];if("SMS_MFA"===a)i={PreferredMfa:!1,Enabled:!1};else{if("SOFTWARE_TOKEN_MFA"!==a)return[2,this.rejectAuthError(_.InvalidMFA)];o={PreferredMfa:!1,Enabled:!1}}return s&&0!==s.length&&s.forEach(function(e){"SMS_MFA"===e?i={PreferredMfa:!1,Enabled:!1}:"SOFTWARE_TOKEN_MFA"===e&&(o={PreferredMfa:!1,Enabled:!1})}),[3,7];case 6:return Xo.debug("no validmfa method provided"),[2,this.rejectAuthError(_.NoMFA)];case 7:return[2,new Promise(function(t,r){e.setUserMfaPreference(i,o,function(i,o){if(i)return Xo.debug("Set user mfa preference error",i),r(i);Xo.debug("Set user mfa success",o),Xo.debug("Caching the latest user data into local"),e.getUserData(function(n,i){return Jo(u,void 0,void 0,function(){var i;return Yo(this,function(s){switch(s.label){case 0:if(!n)return[3,5];if(Xo.debug("getting user data failed",n),!this.isSessionInvalid(n))return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return s.sent(),[3,4];case 3:return i=s.sent(),r(new Error("Session is invalid due to: "+n.message+" and failed to clean up invalid session: "+i.message)),[2];case 4:return[2,r(n)];case 5:return[2,t(o)]}})})},{bypassCache:!0,clientMetadata:n})})})]}})})},e.prototype.disableSMS=function(e){return new Promise(function(t,n){e.disableMFA(function(e,r){if(e)return Xo.debug("disable mfa failed",e),void n(e);Xo.debug("disable mfa succeed",r),t(r)})})},e.prototype.enableSMS=function(e){return new Promise(function(t,n){e.enableMFA(function(e,r){if(e)return Xo.debug("enable mfa failed",e),void n(e);Xo.debug("enable mfa succeed",r),t(r)})})},e.prototype.setupTOTP=function(e){return new Promise(function(t,n){e.associateSoftwareToken({onFailure:function(e){Xo.debug("associateSoftwareToken failed",e),n(e)},associateSecretCode:function(e){Xo.debug("associateSoftwareToken sucess",e),t(e)}})})},e.prototype.verifyTotpToken=function(e,t){return Xo.debug("verification totp token",e,t),new Promise(function(n,r){e.verifySoftwareToken(t,"My TOTP device",{onFailure:function(e){Xo.debug("verifyTotpToken failed",e),r(e)},onSuccess:function(t){ts("signIn",e,"A user "+e.getUsername()+" has been signed in"),Xo.debug("verifyTotpToken success",t),n(t)}})})},e.prototype.confirmSignIn=function(e,t,n,r){var i=this;if(void 0===r&&(r=this._config.clientMetadata),!t)return this.rejectAuthError(_.EmptyCode);var o=this;return new Promise(function(s,a){e.sendMFACode(t,{onSuccess:function(t){return Jo(i,void 0,void 0,function(){var n,r;return Yo(this,function(i){switch(i.label){case 0:Xo.debug(t),i.label=1;case 1:return i.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return i.sent(),[4,this.Credentials.set(t,"session")];case 3:return n=i.sent(),Xo.debug("succeed to get cognito credentials",n),[3,6];case 4:return r=i.sent(),Xo.debug("cannot get cognito credentials",r),[3,6];case 5:return o.user=e,ts("signIn",e,"A user "+e.getUsername()+" has been signed in"),s(e),[7];case 6:return[2]}})})},onFailure:function(e){Xo.debug("confirm signIn failure",e),a(e)}},n,r)})},e.prototype.completeNewPassword=function(e,t,n,r){var i=this;if(void 0===n&&(n={}),void 0===r&&(r=this._config.clientMetadata),!t)return this.rejectAuthError(_.EmptyPassword);var o=this;return new Promise(function(s,a){e.completeNewPasswordChallenge(t,n,{onSuccess:function(t){return Jo(i,void 0,void 0,function(){var n,r;return Yo(this,function(i){switch(i.label){case 0:Xo.debug(t),i.label=1;case 1:return i.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return i.sent(),[4,this.Credentials.set(t,"session")];case 3:return n=i.sent(),Xo.debug("succeed to get cognito credentials",n),[3,6];case 4:return r=i.sent(),Xo.debug("cannot get cognito credentials",r),[3,6];case 5:return o.user=e,ts("signIn",e,"A user "+e.getUsername()+" has been signed in"),s(e),[7];case 6:return[2]}})})},onFailure:function(e){Xo.debug("completeNewPassword failure",e),ts("completeNewPassword_failure",e,i.user+" failed to complete the new password flow"),a(e)},mfaRequired:function(t,n){Xo.debug("signIn MFA required"),e.challengeName=t,e.challengeParam=n,s(e)},mfaSetup:function(t,n){Xo.debug("signIn mfa setup",t),e.challengeName=t,e.challengeParam=n,s(e)},totpRequired:function(t,n){Xo.debug("signIn mfa setup",t),e.challengeName=t,e.challengeParam=n,s(e)}},r)})},e.prototype.sendCustomChallengeAnswer=function(e,t,n){var r=this;return void 0===n&&(n=this._config.clientMetadata),this.userPool?t?new Promise(function(i,o){e.sendCustomChallengeAnswer(t,r.authCallbacks(e,i,o),n)}):this.rejectAuthError(_.EmptyChallengeResponse):this.rejectNoUserPool()},e.prototype.deleteUserAttributes=function(e,t){var n=this;return new Promise(function(r,i){n.userSession(e).then(function(n){e.deleteAttributes(t,function(e,t){return e?i(e):r(t)})})})},e.prototype.deleteUser=function(){return Jo(this,void 0,void 0,function(){var e,t,n=this;return Yo(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this._storageSync];case 1:return r.sent(),[3,3];case 2:throw e=r.sent(),Xo.debug("Failed to sync cache info into memory",e),new Error(e);case 3:return t=this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI"),[2,new Promise(function(e,r){return Jo(n,void 0,void 0,function(){var n,i=this;return Yo(this,function(o){if(this.userPool){if(!(n=this.userPool.getCurrentUser()))return Xo.debug("Failed to get user from user pool"),[2,r(new Error("No current user."))];n.getSession(function(o,s){return Jo(i,void 0,void 0,function(){var i,s=this;return Yo(this,function(a){switch(a.label){case 0:if(!o)return[3,5];if(Xo.debug("Failed to get the user session",o),!this.isSessionInvalid(o))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(n)];case 2:return a.sent(),[3,4];case 3:return i=a.sent(),r(new Error("Session is invalid due to: "+o.message+" and failed to clean up invalid session: "+i.message)),[2];case 4:return[2,r(o)];case 5:n.deleteUser(function(i,o){if(i)r(i);else{ts("userDeleted",o,"The authenticated user has been deleted."),n.signOut(),s.user=null;try{s.cleanCachedItems()}catch(e){Xo.debug("failed to clear cached items")}t?s.oAuthSignOutRedirect(e,r):(ts("signOut",s.user,"A user has been signed out"),e(o))}}),a.label=6;case 6:return[2]}})})})}else Xo.debug("no Congito User pool"),r(new Error("Cognito User pool does not exist"));return[2]})})})]}})})},e.prototype.updateUserAttributes=function(e,t,n){void 0===n&&(n=this._config.clientMetadata);var r=[],i=this;return new Promise(function(o,s){i.userSession(e).then(function(i){for(var a in t)if("sub"!==a&&a.indexOf("_verified")<0){var u={Name:a,Value:t[a]};r.push(u)}e.updateAttributes(r,function(e,t){return e?s(e):o(t)},n)})})},e.prototype.userAttributes=function(e){var t=this;return new Promise(function(n,r){t.userSession(e).then(function(t){e.getUserAttributes(function(e,t){e?r(e):n(t)})})})},e.prototype.verifiedContact=function(e){var t=this;return this.userAttributes(e).then(function(e){var n=t.attributesToObject(e),r={},i={};return n.email&&(n.email_verified?i.email=n.email:r.email=n.email),n.phone_number&&(n.phone_number_verified?i.phone_number=n.phone_number:r.phone_number=n.phone_number),{verified:i,unverified:r}})},e.prototype.isErrorWithMessage=function(e){return"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"message")},e.prototype.isTokenRevokedError=function(e){return this.isErrorWithMessage(e)&&"Access Token has been revoked"===e.message},e.prototype.isRefreshTokenRevokedError=function(e){return this.isErrorWithMessage(e)&&"Refresh Token has been revoked"===e.message},e.prototype.isUserDisabledError=function(e){return this.isErrorWithMessage(e)&&"User is disabled."===e.message},e.prototype.isUserDoesNotExistError=function(e){return this.isErrorWithMessage(e)&&"User does not exist."===e.message},e.prototype.isRefreshTokenExpiredError=function(e){return this.isErrorWithMessage(e)&&"Refresh Token has expired"===e.message},e.prototype.isSignedInHostedUI=function(){return this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI")},e.prototype.isSessionInvalid=function(e){return this.isUserDisabledError(e)||this.isUserDoesNotExistError(e)||this.isTokenRevokedError(e)||this.isRefreshTokenRevokedError(e)||this.isRefreshTokenExpiredError(e)},e.prototype.cleanUpInvalidSession=function(e){return Jo(this,void 0,void 0,function(){var t=this;return Yo(this,function(n){switch(n.label){case 0:e.signOut(),this.user=null,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.cleanCachedItems()];case 2:return n.sent(),[3,4];case 3:return n.sent(),Xo.debug("failed to clear cached items"),[3,4];case 4:return this.isSignedInHostedUI()?[2,new Promise(function(e,n){t.oAuthSignOutRedirect(e,n)})]:(ts("signOut",this.user,"A user has been signed out"),[2])}})})},e.prototype.currentUserPoolUser=function(e){var t=this;return this.userPool?new Promise(function(n,r){t._storageSync.then(function(){return Jo(t,void 0,void 0,function(){var t,i,o=this;return Yo(this,function(s){switch(s.label){case 0:return this.isOAuthInProgress()?(Xo.debug("OAuth signIn in progress, waiting for resolution..."),[4,new Promise(function(e){var t=setTimeout(function(){Xo.debug("OAuth signIn in progress timeout"),U.remove("auth",n),e()},1e4);function n(r){var i=r.payload.event;"cognitoHostedUI"!==i&&"cognitoHostedUI_failure"!==i||(Xo.debug("OAuth signIn resolved: "+i),clearTimeout(t),U.remove("auth",n),e())}U.listen("auth",n)})]):[3,2];case 1:s.sent(),s.label=2;case 2:return(t=this.userPool.getCurrentUser())?(i=this._config.clientMetadata,t.getSession(function(i,s){return Jo(o,void 0,void 0,function(){var o,a,u,c,l=this;return Yo(this,function(f){switch(f.label){case 0:if(!i)return[3,5];if(Xo.debug("Failed to get the user session",i),!this.isSessionInvalid(i))return[3,4];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return f.sent(),[3,4];case 3:return o=f.sent(),r(new Error("Session is invalid due to: "+i.message+" and failed to clean up invalid session: "+o.message)),[2];case 4:return r(i),[2];case 5:return(a=!!e&&e.bypassCache)?[4,this.Credentials.clear()]:[3,7];case 6:f.sent(),f.label=7;case 7:return u=this._config.clientMetadata,(void 0===(c=s.getAccessToken().decodePayload().scope)?"":c).split(" ").includes(Qo)?(t.getUserData(function(e,i){return Jo(l,void 0,void 0,function(){var o,s,a,u,c,l,f;return Yo(this,function(d){switch(d.label){case 0:if(!e)return[3,7];if(Xo.debug("getting user data failed",e),!this.isSessionInvalid(e))return[3,5];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return d.sent(),[3,4];case 3:return o=d.sent(),r(new Error("Session is invalid due to: "+e.message+" and failed to clean up invalid session: "+o.message)),[2];case 4:return r(e),[3,6];case 5:n(t),d.label=6;case 6:return[2];case 7:for(s=i.PreferredMfaSetting||"NOMFA",a=[],u=0;u<i.UserAttributes.length;u++)c={Name:i.UserAttributes[u].Name,Value:i.UserAttributes[u].Value},l=new ao(c),a.push(l);return f=this.attributesToObject(a),Object.assign(t,{attributes:f,preferredMFA:s}),[2,n(t)]}})})},{bypassCache:a,clientMetadata:u}),[2]):(Xo.debug("Unable to get the user data because the "+Qo+" is not in the scopes of the access token"),[2,n(t)])}})})},{clientMetadata:i}),[2]):(Xo.debug("Failed to get user from user pool"),r("No current user"),[2])}})})}).catch(function(e){return Xo.debug("Failed to sync cache info into memory",e),r(e)})}):this.rejectNoUserPool()},e.prototype.isOAuthInProgress=function(){return this.oAuthFlowInProgress},e.prototype.currentAuthenticatedUser=function(e){return Jo(this,void 0,void 0,function(){var t,n,r,i,o;return Yo(this,function(s){switch(s.label){case 0:Xo.debug("getting current authenticated user"),t=null,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this._storageSync];case 2:return s.sent(),[3,4];case 3:throw n=s.sent(),Xo.debug("Failed to sync cache info into memory",n),n;case 4:try{(r=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")))&&(t=$o($o({},r.user),{token:r.token}))}catch(e){Xo.debug("cannot load federated user from auth storage")}return t?(this.user=t,Xo.debug("get current authenticated federated user",this.user),[2,this.user]):[3,5];case 5:Xo.debug("get current authenticated userpool user"),i=null,s.label=6;case 6:return s.trys.push([6,8,,9]),[4,this.currentUserPoolUser(e)];case 7:return i=s.sent(),[3,9];case 8:return"No userPool"===(o=s.sent())&&Xo.error("Cannot get the current user because the user pool is missing. Please make sure the Auth module is configured with a valid Cognito User Pool ID"),Xo.debug("The user is not authenticated by the error",o),[2,Promise.reject("The user is not authenticated")];case 9:return this.user=i,[2,this.user]}})})},e.prototype.currentSession=function(){var e=this;return Xo.debug("Getting current session"),this.userPool?new Promise(function(t,n){e.currentUserPoolUser().then(function(r){e.userSession(r).then(function(e){t(e)}).catch(function(e){Xo.debug("Failed to get the current session",e),n(e)})}).catch(function(e){Xo.debug("Failed to get the current user",e),n(e)})}):Promise.reject(new Error("No User Pool in the configuration."))},e.prototype.userSession=function(e){var t=this;if(!e)return Xo.debug("the user is null"),this.rejectAuthError(_.NoUserSession);var n=this._config.clientMetadata;return new Promise(function(r,i){Xo.debug("Getting the session from this user:",e),e.getSession(function(n,o){return Jo(t,void 0,void 0,function(){var t;return Yo(this,function(s){switch(s.label){case 0:if(!n)return[3,5];if(Xo.debug("Failed to get the session from user",e),!this.isSessionInvalid(n))return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return s.sent(),[3,4];case 3:return t=s.sent(),i(new Error("Session is invalid due to: "+n.message+" and failed to clean up invalid session: "+t.message)),[2];case 4:return i(n),[2];case 5:return Xo.debug("Succeed to get the user session",o),r(o),[2]}})})},{clientMetadata:n})})},e.prototype.currentUserCredentials=function(){return Jo(this,void 0,void 0,function(){var e,t,n=this;return Yo(this,function(r){switch(r.label){case 0:Xo.debug("Getting current user credentials"),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._storageSync];case 2:return r.sent(),[3,4];case 3:throw e=r.sent(),Xo.debug("Failed to sync cache info into memory",e),e;case 4:t=null;try{t=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo"))}catch(e){Xo.debug("failed to get or parse item aws-amplify-federatedInfo",e)}return t?[2,this.Credentials.refreshFederatedToken(t)]:[2,this.currentSession().then(function(e){return Xo.debug("getting session success",e),n.Credentials.set(e,"session")}).catch(function(){return Xo.debug("getting guest credentials"),n.Credentials.set(null,"guest")})]}})})},e.prototype.currentCredentials=function(){return Xo.debug("getting current credentials"),this.Credentials.get()},e.prototype.verifyUserAttribute=function(e,t,n){return void 0===n&&(n=this._config.clientMetadata),new Promise(function(r,i){e.getAttributeVerificationCode(t,{onSuccess:function(e){return r(e)},onFailure:function(e){return i(e)}},n)})},e.prototype.verifyUserAttributeSubmit=function(e,t,n){return n?new Promise(function(r,i){e.verifyAttribute(t,n,{onSuccess:function(e){r(e)},onFailure:function(e){i(e)}})}):this.rejectAuthError(_.EmptyCode)},e.prototype.verifyCurrentUserAttribute=function(e){var t=this;return t.currentUserPoolUser().then(function(n){return t.verifyUserAttribute(n,e)})},e.prototype.verifyCurrentUserAttributeSubmit=function(e,t){var n=this;return n.currentUserPoolUser().then(function(r){return n.verifyUserAttributeSubmit(r,e,t)})},e.prototype.cognitoIdentitySignOut=function(e,t){return Jo(this,void 0,void 0,function(){var n,r,i=this;return Yo(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this._storageSync];case 1:return o.sent(),[3,3];case 2:throw n=o.sent(),Xo.debug("Failed to sync cache info into memory",n),n;case 3:return r=this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI"),[2,new Promise(function(n,o){if(e&&e.global){Xo.debug("user global sign out",t);var s=i._config.clientMetadata;t.getSession(function(e,s){return Jo(i,void 0,void 0,function(){var i,s=this;return Yo(this,function(a){switch(a.label){case 0:if(!e)return[3,5];if(Xo.debug("failed to get the user session",e),!this.isSessionInvalid(e))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return a.sent(),[3,4];case 3:return i=a.sent(),o(new Error("Session is invalid due to: "+e.message+" and failed to clean up invalid session: "+i.message)),[2];case 4:return[2,o(e)];case 5:return t.globalSignOut({onSuccess:function(e){if(Xo.debug("global sign out success"),!r)return n();s.oAuthSignOutRedirect(n,o)},onFailure:function(e){return Xo.debug("global sign out failed",e),o(e)}}),[2]}})})},{clientMetadata:s})}else Xo.debug("user sign out",t),t.signOut(function(){if(!r)return n();i.oAuthSignOutRedirect(n,o)})})]}})})},e.prototype.oAuthSignOutRedirect=function(e,t){y().isBrowser?this.oAuthSignOutRedirectOrReject(t):this.oAuthSignOutAndResolve(e)},e.prototype.oAuthSignOutAndResolve=function(e){this._oAuthHandler.signOut(),e()},e.prototype.oAuthSignOutRedirectOrReject=function(e){this._oAuthHandler.signOut(),setTimeout(function(){return e(Error("Signout timeout fail"))},3e3)},e.prototype.signOut=function(e){return Jo(this,void 0,void 0,function(){var t;return Yo(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.cleanCachedItems()];case 1:return n.sent(),[3,3];case 2:return n.sent(),Xo.debug("failed to clear cached items"),[3,3];case 3:return this.userPool?(t=this.userPool.getCurrentUser())?[4,this.cognitoIdentitySignOut(e,t)]:[3,5]:[3,7];case 4:return n.sent(),[3,6];case 5:Xo.debug("no current Cognito user"),n.label=6;case 6:return[3,8];case 7:Xo.debug("no Cognito User pool"),n.label=8;case 8:return ts("signOut",this.user,"A user has been signed out"),this.user=null,[2]}})})},e.prototype.cleanCachedItems=function(){return Jo(this,void 0,void 0,function(){return Yo(this,function(e){switch(e.label){case 0:return[4,this.Credentials.clear()];case 1:return e.sent(),[2]}})})},e.prototype.changePassword=function(e,t,n,r){var i=this;return void 0===r&&(r=this._config.clientMetadata),new Promise(function(o,s){i.userSession(e).then(function(i){e.changePassword(t,n,function(e,t){return e?(Xo.debug("change password failure",e),s(e)):o(t)},r)})})},e.prototype.forgotPassword=function(e,t){if(void 0===t&&(t=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(_.EmptyUsername);var n=this.createCognitoUser(e);return new Promise(function(r,i){n.forgotPassword({onSuccess:function(){r()},onFailure:function(t){Xo.debug("forgot password failure",t),ts("forgotPassword_failure",t,e+" forgotPassword failed"),i(t)},inputVerificationCode:function(t){ts("forgotPassword",n,e+" has initiated forgot password flow"),r(t)}},t)})},e.prototype.forgotPasswordSubmit=function(e,t,n,r){if(void 0===r&&(r=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(_.EmptyUsername);if(!t)return this.rejectAuthError(_.EmptyCode);if(!n)return this.rejectAuthError(_.EmptyPassword);var i=this.createCognitoUser(e);return new Promise(function(o,s){i.confirmPassword(t,n,{onSuccess:function(t){ts("forgotPasswordSubmit",i,e+" forgotPasswordSubmit successful"),o(t)},onFailure:function(t){ts("forgotPasswordSubmit_failure",t,e+" forgotPasswordSubmit failed"),s(t)}},r)})},e.prototype.currentUserInfo=function(){return Jo(this,void 0,void 0,function(){var e,t,n,r,i,o,s;return Yo(this,function(a){switch(a.label){case 0:return(e=this.Credentials.getCredSource())&&"aws"!==e&&"userPool"!==e?[3,9]:[4,this.currentUserPoolUser().catch(function(e){return Xo.error(e)})];case 1:if(!(s=a.sent()))return[2,null];a.label=2;case 2:return a.trys.push([2,8,,9]),[4,this.userAttributes(s)];case 3:t=a.sent(),n=this.attributesToObject(t),r=null,a.label=4;case 4:return a.trys.push([4,6,,7]),[4,this.currentCredentials()];case 5:return r=a.sent(),[3,7];case 6:return i=a.sent(),Xo.debug("Failed to retrieve credentials while getting current user info",i),[3,7];case 7:return[2,{id:r?r.identityId:void 0,username:s.getUsername(),attributes:n}];case 8:return o=a.sent(),Xo.error("currentUserInfo error",o),[2,{}];case 9:return"federated"===e?[2,(s=this.user)||{}]:[2]}})})},e.prototype.federatedSignIn=function(e,t,n){return Jo(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,f,d,h;return Yo(this,function(p){switch(p.label){case 0:if(!this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation requires either a User Pool or Identity Pool in config");if(void 0===e&&this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation with Identity Pools requires tokens passed as arguments");return A(e)||(g=e)&&["customProvider"].find(function(e){return g.hasOwnProperty(e)})||function(e){return e&&!!["customState"].find(function(t){return e.hasOwnProperty(t)})}(e)||void 0===e?(r=e||{provider:w.Cognito},a=A(r)?r.provider:r.customProvider,A(r),i=r.customState,this._config.userPoolId&&(o=P(this._config.oauth)?this._config.userPoolWebClientId:this._config.oauth.clientID,s=P(this._config.oauth)?this._config.oauth.redirectSignIn:this._config.oauth.redirectUri,this._oAuthHandler.oauthSignIn(this._config.oauth.responseType,this._config.oauth.domain,s,o,a,i)),[3,4]):[3,1];case 1:a=e;try{(u=JSON.stringify(JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")).user))&&Xo.warn("There is already a signed in user: "+u+" in your app.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tYou should not call Auth.federatedSignIn method again as it may cause unexpected behavior.")}catch(e){}return c=t.token,l=t.identity_id,f=t.expires_at,[4,this.Credentials.set({provider:a,token:c,identity_id:l,user:n,expires_at:f},"federation")];case 2:return d=p.sent(),[4,this.currentAuthenticatedUser()];case 3:return h=p.sent(),ts("signIn",h,"A user "+h.username+" has been signed in"),Xo.debug("federated sign in credentials",d),[2,d];case 4:return[2]}var g})})},e.prototype._handleAuthResponse=function(e){return Jo(this,void 0,void 0,function(){var t,n,r,i,o,s,a,u,c,l,f,d,h,p;return Yo(this,function(g){switch(g.label){case 0:if(this.oAuthFlowInProgress)return Xo.debug("Skipping URL "+e+" current flow in progress"),[2];g.label=1;case 1:if(g.trys.push([1,,8,9]),this.oAuthFlowInProgress=!0,!this._config.userPoolId)throw new Error("OAuth responses require a User Pool defined in config");if(ts("parsingCallbackUrl",{url:e},"The callback url is being parsed"),t=e||(y().isBrowser?window.location.href:""),n=!!((0,Oo.qg)(t).query||"").split("&").map(function(e){return e.split("=")}).find(function(e){var t=Zo(e,1)[0];return"code"===t||"error"===t}),r=!!((0,Oo.qg)(t).hash||"#").substr(1).split("&").map(function(e){return e.split("=")}).find(function(e){var t=Zo(e,1)[0];return"access_token"===t||"error"===t}),!n&&!r)return[3,7];this._storage.setItem("amplify-redirected-from-hosted-ui","true"),g.label=2;case 2:return g.trys.push([2,6,,7]),[4,this._oAuthHandler.handleAuthResponse(t)];case 3:return i=g.sent(),o=i.accessToken,s=i.idToken,a=i.refreshToken,u=i.state,c=new ro({IdToken:new Qi({IdToken:s}),RefreshToken:new eo({RefreshToken:a}),AccessToken:new Zi({AccessToken:o})}),l=void 0,this._config.identityPoolId?[4,this.Credentials.set(c,"session")]:[3,5];case 4:l=g.sent(),Xo.debug("AWS credentials",l),g.label=5;case 5:return f=/-/.test(u),(d=this.createCognitoUser(c.getIdToken().decodePayload()["cognito:username"])).setSignInUserSession(c),window&&void 0!==window.history&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),ts("signIn",d,"A user "+d.getUsername()+" has been signed in"),ts("cognitoHostedUI",d,"A user "+d.getUsername()+" has been signed in via Cognito Hosted UI"),f&&(h=u.split("-").splice(1).join("-"),ts("customOAuthState",h.match(/.{2}/g).map(function(e){return String.fromCharCode(parseInt(e,16))}).join(""),"State for user "+d.getUsername())),[2,l];case 6:return p=g.sent(),Xo.debug("Error in cognito hosted auth response",p),window&&void 0!==window.history&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),ts("signIn_failure",p,"The OAuth response flow failed"),ts("cognitoHostedUI_failure",p,"A failure occurred when returning to the Cognito Hosted UI"),ts("customState_failure",p,"A failure occurred when returning state"),[3,7];case 7:return[3,9];case 8:return this.oAuthFlowInProgress=!1,[7];case 9:return[2]}})})},e.prototype.essentialCredentials=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},e.prototype.attributesToObject=function(e){var t=this,n={};return e&&e.map(function(e){"email_verified"===e.Name||"phone_number_verified"===e.Name?n[e.Name]=t.isTruthyString(e.Value)||!0===e.Value:n[e.Name]=e.Value}),n},e.prototype.isTruthyString=function(e){return"function"==typeof e.toLowerCase&&"true"===e.toLowerCase()},e.prototype.createCognitoUser=function(e){var t={Username:e,Pool:this.userPool};t.Storage=this._storage;var n=this._config.authenticationFlowType,r=new ho(t);return n&&r.setAuthenticationFlowType(n),r},e.prototype._isValidAuthStorage=function(e){return!!e&&"function"==typeof e.getItem&&"function"==typeof e.setItem&&"function"==typeof e.removeItem&&"function"==typeof e.clear},e.prototype.noUserPoolErrorHandler=function(e){return!e||e.userPoolId&&e.identityPoolId?_.NoConfig:_.MissingAuthConfig},e.prototype.rejectAuthError=function(e){return Promise.reject(new Vo(e))},e.prototype.rejectNoUserPool=function(){var e=this.noUserPoolErrorHandler(this._config);return Promise.reject(new Wo(e))},e.prototype.rememberDevice=function(){return Jo(this,void 0,void 0,function(){var e,t;return Yo(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=n.sent(),[3,3];case 2:return t=n.sent(),Xo.debug("The user is not authenticated by the error",t),[2,Promise.reject("The user is not authenticated")];case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise(function(t,n){e.setDeviceStatusRemembered({onSuccess:function(e){t(e)},onFailure:function(e){"InvalidParameterException"===e.code?n(new Vo(_.DeviceConfig)):"NetworkError"===e.code?n(new Vo(_.NetworkError)):n(e)}})})]}})})},e.prototype.forgetDevice=function(){return Jo(this,void 0,void 0,function(){var e,t;return Yo(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=n.sent(),[3,3];case 2:return t=n.sent(),Xo.debug("The user is not authenticated by the error",t),[2,Promise.reject("The user is not authenticated")];case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise(function(t,n){e.forgetDevice({onSuccess:function(e){t(e)},onFailure:function(e){"InvalidParameterException"===e.code?n(new Vo(_.DeviceConfig)):"NetworkError"===e.code?n(new Vo(_.NetworkError)):n(e)}})})]}})})},e.prototype.fetchDevices=function(){return Jo(this,void 0,void 0,function(){var e,t;return Yo(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=n.sent(),[3,3];case 2:throw t=n.sent(),Xo.debug("The user is not authenticated by the error",t),new Error("The user is not authenticated");case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise(function(t,n){var r={onSuccess:function(e){var n=e.Devices.map(function(e){var t=e.DeviceAttributes.find(function(e){return"device_name"===e.Name})||{};return{id:e.DeviceKey,name:t.Value}});t(n)},onFailure:function(e){"InvalidParameterException"===e.code?n(new Vo(_.DeviceConfig)):"NetworkError"===e.code?n(new Vo(_.NetworkError)):n(e)}};e.listDevices(60,null,r)})]}})})},e}(),rs=new ns(null);a.register(rs);var is={keyPrefix:"aws-amplify-cache",capacityInBytes:1048576,itemMaxSize:21e4,defaultTTL:2592e5,defaultPriority:5,warningThreshold:.8,storage:(new R).getStorage()};function os(e){var t=0;t=e.length;for(var n=e.length;n>=0;n-=1){var r=e.charCodeAt(n);r>127&&r<=2047?t+=1:r>2047&&r<=65535&&(t+=2),r>=56320&&r<=57343&&(n-=1)}return t}function ss(){return(new Date).getTime()}function as(e){return Number.isInteger?Number.isInteger(e):function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}(e)}var us={},cs=(function(){function e(){}e.clear=function(){us={}},e.getItem=function(e){return us[e]||null},e.setItem=function(e,t){us[e]=t},e.removeItem=function(e){delete us[e]}}(),new o("StorageCache")),ls=function(){function e(e){this.config=Object.assign({},e),this.cacheCurSizeKey=this.config.keyPrefix+"CurSize",this.checkConfig()}return e.prototype.getModuleName=function(){return"Cache"},e.prototype.checkConfig=function(){as(this.config.capacityInBytes)||(cs.error("Invalid parameter: capacityInBytes. It should be an Integer. Setting back to default."),this.config.capacityInBytes=is.capacityInBytes),as(this.config.itemMaxSize)||(cs.error("Invalid parameter: itemMaxSize. It should be an Integer. Setting back to default."),this.config.itemMaxSize=is.itemMaxSize),as(this.config.defaultTTL)||(cs.error("Invalid parameter: defaultTTL. It should be an Integer. Setting back to default."),this.config.defaultTTL=is.defaultTTL),as(this.config.defaultPriority)||(cs.error("Invalid parameter: defaultPriority. It should be an Integer. Setting back to default."),this.config.defaultPriority=is.defaultPriority),this.config.itemMaxSize>this.config.capacityInBytes&&(cs.error("Invalid parameter: itemMaxSize. It should be smaller than capacityInBytes. Setting back to default."),this.config.itemMaxSize=is.itemMaxSize),(this.config.defaultPriority>5||this.config.defaultPriority<1)&&(cs.error("Invalid parameter: defaultPriority. It should be between 1 and 5. Setting back to default."),this.config.defaultPriority=is.defaultPriority),(Number(this.config.warningThreshold)>1||Number(this.config.warningThreshold)<0)&&(cs.error("Invalid parameter: warningThreshold. It should be between 0 and 1. Setting back to default."),this.config.warningThreshold=is.warningThreshold),this.config.capacityInBytes>5242880&&(cs.error("Cache Capacity should be less than 5MB. Setting back to default. Setting back to default."),this.config.capacityInBytes=is.capacityInBytes)},e.prototype.fillCacheItem=function(e,t,n){var r={key:e,data:t,timestamp:ss(),visitedTime:ss(),priority:n.priority,expires:n.expires,type:typeof t,byteSize:0};return r.byteSize=os(JSON.stringify(r)),r.byteSize=os(JSON.stringify(r)),r},e.prototype.configure=function(e){return e?(e.keyPrefix&&cs.warn("Don't try to configure keyPrefix!"),this.config=Object.assign({},this.config,e,e.Cache),this.checkConfig(),this.config):this.config},e}(),fs=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ds=new o("Cache"),hs=function(e){function t(t){var n=this,r=t?Object.assign({},is,t):is;return(n=e.call(this,r)||this).config.storage=r.storage,n.getItem=n.getItem.bind(n),n.setItem=n.setItem.bind(n),n.removeItem=n.removeItem.bind(n),n}return fs(t,e),t.prototype._decreaseCurSizeInBytes=function(e){var t=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(t-e).toString())},t.prototype._increaseCurSizeInBytes=function(e){var t=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(t+e).toString())},t.prototype._refreshItem=function(e,t){return e.visitedTime=ss(),this.config.storage.setItem(t,JSON.stringify(e)),e},t.prototype._isExpired=function(e){var t=this.config.storage.getItem(e),n=JSON.parse(t);return ss()>=n.expires},t.prototype._removeItem=function(e,t){var n=t||JSON.parse(this.config.storage.getItem(e)).byteSize;this._decreaseCurSizeInBytes(n),this.config.storage.removeItem(e)},t.prototype._setItem=function(e,t){this._increaseCurSizeInBytes(t.byteSize);try{this.config.storage.setItem(e,JSON.stringify(t))}catch(e){this._decreaseCurSizeInBytes(t.byteSize),ds.error("Failed to set item "+e)}},t.prototype._sizeToPop=function(e){var t=this.getCacheCurSize()+e-this.config.capacityInBytes,n=(1-this.config.warningThreshold)*this.config.capacityInBytes;return t>n?t:n},t.prototype._isCacheFull=function(e){return e+this.getCacheCurSize()>this.config.capacityInBytes},t.prototype._findValidKeys=function(){for(var e=[],t=[],n=0;n<this.config.storage.length;n+=1)t.push(this.config.storage.key(n));for(n=0;n<t.length;n+=1){var r=t[n];0===r.indexOf(this.config.keyPrefix)&&r!==this.cacheCurSizeKey&&(this._isExpired(r)?this._removeItem(r):e.push(r))}return e},t.prototype._popOutItems=function(e,t){for(var n=[],r=t,i=0;i<e.length;i+=1){var o=this.config.storage.getItem(e[i]);if(null!=o){var s=JSON.parse(o);n.push(s)}}for(n.sort(function(e,t){return e.priority>t.priority?-1:e.priority<t.priority?1:e.visitedTime<t.visitedTime?-1:1}),i=0;i<n.length;i+=1)if(this._removeItem(n[i].key,n[i].byteSize),(r-=n[i].byteSize)<=0)return},t.prototype.setItem=function(e,t,n){ds.log("Set item: key is "+e+", value is "+t+" with options: "+n);var r=this.config.keyPrefix+e;if(r!==this.config.keyPrefix&&r!==this.cacheCurSizeKey)if(void 0!==t){var i={priority:n&&void 0!==n.priority?n.priority:this.config.defaultPriority,expires:n&&void 0!==n.expires?n.expires:this.config.defaultTTL+ss()};if(i.priority<1||i.priority>5)ds.warn("Invalid parameter: priority due to out or range. It should be within 1 and 5.");else{var o=this.fillCacheItem(r,t,i);if(o.byteSize>this.config.itemMaxSize)ds.warn("Item with key: "+e+" you are trying to put into is too big!");else try{var s=this.config.storage.getItem(r);if(s&&this._removeItem(r,JSON.parse(s).byteSize),this._isCacheFull(o.byteSize)){var a=this._findValidKeys();if(this._isCacheFull(o.byteSize)){var u=this._sizeToPop(o.byteSize);this._popOutItems(a,u)}}this._setItem(r,o)}catch(e){ds.warn("setItem failed! "+e)}}}else ds.warn("The value of item should not be undefined!");else ds.warn("Invalid key: should not be empty or 'CurSize'")},t.prototype.getItem=function(e,t){ds.log("Get item: key is "+e+" with options "+t);var n=null,r=this.config.keyPrefix+e;if(r===this.config.keyPrefix||r===this.cacheCurSizeKey)return ds.warn("Invalid key: should not be empty or 'CurSize'"),null;try{if(null!=(n=this.config.storage.getItem(r))){if(!this._isExpired(r)){var i=JSON.parse(n);return(i=this._refreshItem(i,r)).data}this._removeItem(r,JSON.parse(n).byteSize),n=null}if(t&&void 0!==t.callback){var o=t.callback();return null!==o&&this.setItem(e,o,t),o}return null}catch(e){return ds.warn("getItem failed! "+e),null}},t.prototype.removeItem=function(e){ds.log("Remove item: key is "+e);var t=this.config.keyPrefix+e;if(t!==this.config.keyPrefix&&t!==this.cacheCurSizeKey)try{var n=this.config.storage.getItem(t);n&&this._removeItem(t,JSON.parse(n).byteSize)}catch(e){ds.warn("removeItem failed! "+e)}},t.prototype.clear=function(){ds.log("Clear Cache");for(var e=[],t=0;t<this.config.storage.length;t+=1){var n=this.config.storage.key(t);0===n.indexOf(this.config.keyPrefix)&&e.push(n)}try{for(t=0;t<e.length;t+=1)this.config.storage.removeItem(e[t])}catch(e){ds.warn("clear failed! "+e)}},t.prototype.getAllKeys=function(){for(var e=[],t=0;t<this.config.storage.length;t+=1){var n=this.config.storage.key(t);0===n.indexOf(this.config.keyPrefix)&&n!==this.cacheCurSizeKey&&e.push(n.substring(this.config.keyPrefix.length))}return e},t.prototype.getCacheCurSize=function(){var e=this.config.storage.getItem(this.cacheCurSizeKey);return e||(this.config.storage.setItem(this.cacheCurSizeKey,"0"),e="0"),Number(e)},t.prototype.createInstance=function(e){return e.keyPrefix&&e.keyPrefix!==is.keyPrefix||(ds.error("invalid keyPrefix, setting keyPrefix with timeStamp"),e.keyPrefix=ss.toString()),new t(e)},t}(ls),ps=new hs;a.register(ps);var gs=function(e,t){return gs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},gs(e,t)};function vs(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}gs(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var ys,ms,bs,Ss,ws,_s,Es,Cs,As,Ps,xs,ks,Is,Ts,Os,Us,Ms,Ls,Rs,Ns,Ds,js,Bs,Fs,zs,Ks,qs,Hs,Vs,Ws,Gs,$s,Js,Ys,Zs,Xs,Qs,ea,ta,na,ra,ia,oa,sa,aa,ua,ca,la,fa,da,ha,pa,ga,va,ya,ma,ba,Sa,wa,_a,Ea,Ca,Aa,Pa,xa,ka,Ia,Ta,Oa,Ua,Ma,La,Ra,Na,Da,ja,Ba,Fa,za,Ka,qa,Ha,Va,Wa,Ga,$a,Ja,Ya,Za,Xa,Qa,eu,tu,nu,ru,iu,ou,su,au,uu,cu,lu,fu,du,hu,pu,gu,vu,yu,mu,bu,Su,wu,_u,Eu,Cu,Au,Pu,xu,ku,Iu,Tu,Ou,Uu,Mu,Lu,Ru,Nu,Du,ju,Bu,Fu,zu,Ku,qu,Hu,Vu,Wu,Gu,$u,Ju,Yu,Zu,Xu,Qu,ec,tc,nc,rc,ic,oc,sc,ac,uc,cc,lc,fc,dc,hc,pc,gc,vc,yc,mc,bc,Sc,wc,_c,Ec,Cc,Ac,Pc,xc,kc,Ic,Tc,Oc,Uc,Mc,Lc,Rc,Nc,Dc,jc,Bc,Fc,zc,Kc,qc,Hc,Vc,Wc,Gc,$c,Jc,Yc,Zc,Xc,Qc,el,tl,nl,rl,il,ol,sl,al,ul,cl,ll,fl,dl,hl,pl,gl,vl,yl,ml,bl,Sl,wl,_l,El,Cl,Al,Pl,xl,kl,Il,Tl,Ol,Ul,Ml,Ll,Rl,Nl,Dl,jl,Bl,Fl,zl,Kl,ql,Hl,Vl,Wl,Gl,$l,Jl,Yl,Zl,Xl,Ql,ef,tf,nf=function(){return nf=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},nf.apply(this,arguments)};function rf(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})}function of(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}function sf(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError,function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(ys||(ys={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(ms||(ms={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(bs||(bs={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Ss||(Ss={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(ws||(ws={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(_s||(_s={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Es||(Es={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Cs||(Cs={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(As||(As={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Ps||(Ps={})),function(e){e.filterSensitiveLog=function(e){return nf(nf({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:Yt})}}(xs||(xs={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(ks||(ks={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Is||(Is={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Ts||(Ts={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Os||(Os={})),function(e){e.filterSensitiveLog=function(e){return nf(nf(nf({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:Yt}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Yt})}}(Us||(Us={})),function(e){e.filterSensitiveLog=function(e){return nf(nf(nf(nf(nf({},e),e.SSECustomerKey&&{SSECustomerKey:Yt}),e.SSEKMSKeyId&&{SSEKMSKeyId:Yt}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Yt}),e.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:Yt})}}(Ms||(Ms={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Ls||(Ls={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Rs||(Rs={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Ns||(Ns={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Ds||(Ds={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(js||(js={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Bs||(Bs={})),function(e){e.filterSensitiveLog=function(e){return nf(nf(nf({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:Yt}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Yt})}}(Fs||(Fs={})),function(e){e.filterSensitiveLog=function(e){return nf(nf(nf(nf({},e),e.SSECustomerKey&&{SSECustomerKey:Yt}),e.SSEKMSKeyId&&{SSEKMSKeyId:Yt}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Yt})}}(zs||(zs={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Ks||(Ks={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(qs||(qs={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Hs||(Hs={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Vs||(Vs={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Ws||(Ws={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Gs||(Gs={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}($s||($s={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Js||(Js={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Ys||(Ys={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Zs||(Zs={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Xs||(Xs={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Qs||(Qs={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(ea||(ea={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(ta||(ta={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(na||(na={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(ra||(ra={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(ia||(ia={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(oa||(oa={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(sa||(sa={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(aa||(aa={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(ua||(ua={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(ca||(ca={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(la||(la={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(fa||(fa={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(da||(da={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(ha||(ha={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(pa||(pa={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(ga||(ga={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(va||(va={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(ya||(ya={})),(tf=ma||(ma={})).visit=function(e,t){return void 0!==e.Prefix?t.Prefix(e.Prefix):void 0!==e.Tag?t.Tag(e.Tag):void 0!==e.And?t.And(e.And):t._(e.$unknown[0],e.$unknown[1])},tf.filterSensitiveLog=function(e){var t;return void 0!==e.Prefix?{Prefix:e.Prefix}:void 0!==e.Tag?{Tag:va.filterSensitiveLog(e.Tag)}:void 0!==e.And?{And:ya.filterSensitiveLog(e.And)}:void 0!==e.$unknown?((t={})[e.$unknown[0]]="UNKNOWN",t):void 0},function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(ba||(ba={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Sa||(Sa={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(wa||(wa={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(_a||(_a={})),function(e){e.filterSensitiveLog=function(e){return nf(nf({},e),e.Filter&&{Filter:ma.filterSensitiveLog(e.Filter)})}}(Ea||(Ea={})),function(e){e.filterSensitiveLog=function(e){return nf(nf({},e),e.AnalyticsConfiguration&&{AnalyticsConfiguration:Ea.filterSensitiveLog(e.AnalyticsConfiguration)})}}(Ca||(Ca={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Aa||(Aa={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Pa||(Pa={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(xa||(xa={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(ka||(ka={})),function(e){e.filterSensitiveLog=function(e){return nf(nf({},e),e.KMSMasterKeyID&&{KMSMasterKeyID:Yt})}}(Ia||(Ia={})),function(e){e.filterSensitiveLog=function(e){return nf(nf({},e),e.ApplyServerSideEncryptionByDefault&&{ApplyServerSideEncryptionByDefault:Ia.filterSensitiveLog(e.ApplyServerSideEncryptionByDefault)})}}(Ta||(Ta={})),function(e){e.filterSensitiveLog=function(e){return nf(nf({},e),e.Rules&&{Rules:e.Rules.map(function(e){return Ta.filterSensitiveLog(e)})})}}(Oa||(Oa={})),function(e){e.filterSensitiveLog=function(e){return nf(nf({},e),e.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:Oa.filterSensitiveLog(e.ServerSideEncryptionConfiguration)})}}(Ua||(Ua={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Ma||(Ma={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(La||(La={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Ra||(Ra={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Na||(Na={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Da||(Da={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(ja||(ja={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Ba||(Ba={})),function(e){e.filterSensitiveLog=function(e){return nf(nf({},e),e.KeyId&&{KeyId:Yt})}}(Fa||(Fa={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(za||(za={})),function(e){e.filterSensitiveLog=function(e){return nf(nf({},e),e.SSEKMS&&{SSEKMS:Fa.filterSensitiveLog(e.SSEKMS)})}}(Ka||(Ka={})),function(e){e.filterSensitiveLog=function(e){return nf(nf({},e),e.Encryption&&{Encryption:Ka.filterSensitiveLog(e.Encryption)})}}(qa||(qa={})),function(e){e.filterSensitiveLog=function(e){return nf(nf({},e),e.S3BucketDestination&&{S3BucketDestination:qa.filterSensitiveLog(e.S3BucketDestination)})}}(Ha||(Ha={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Va||(Va={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Wa||(Wa={})),function(e){e.filterSensitiveLog=function(e){return nf(nf({},e),e.Destination&&{Destination:Ha.filterSensitiveLog(e.Destination)})}}(Ga||(Ga={})),function(e){e.filterSensitiveLog=function(e){return nf(nf({},e),e.InventoryConfiguration&&{InventoryConfiguration:Ga.filterSensitiveLog(e.InventoryConfiguration)})}}($a||($a={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Ja||(Ja={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Ya||(Ya={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Za||(Za={})),(ef=Xa||(Xa={})).visit=function(e,t){return void 0!==e.Prefix?t.Prefix(e.Prefix):void 0!==e.Tag?t.Tag(e.Tag):void 0!==e.And?t.And(e.And):t._(e.$unknown[0],e.$unknown[1])},ef.filterSensitiveLog=function(e){var t;return void 0!==e.Prefix?{Prefix:e.Prefix}:void 0!==e.Tag?{Tag:va.filterSensitiveLog(e.Tag)}:void 0!==e.And?{And:Za.filterSensitiveLog(e.And)}:void 0!==e.$unknown?((t={})[e.$unknown[0]]="UNKNOWN",t):void 0},function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Qa||(Qa={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(eu||(eu={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(tu||(tu={})),function(e){e.filterSensitiveLog=function(e){return nf(nf({},e),e.Filter&&{Filter:Xa.filterSensitiveLog(e.Filter)})}}(nu||(nu={})),function(e){e.filterSensitiveLog=function(e){return nf(nf({},e),e.Rules&&{Rules:e.Rules.map(function(e){return nu.filterSensitiveLog(e)})})}}(ru||(ru={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(iu||(iu={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(ou||(ou={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(su||(su={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(au||(au={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(uu||(uu={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(cu||(cu={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(lu||(lu={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(fu||(fu={})),(Ql=du||(du={})).visit=function(e,t){return void 0!==e.Prefix?t.Prefix(e.Prefix):void 0!==e.Tag?t.Tag(e.Tag):void 0!==e.And?t.And(e.And):t._(e.$unknown[0],e.$unknown[1])},Ql.filterSensitiveLog=function(e){var t;return void 0!==e.Prefix?{Prefix:e.Prefix}:void 0!==e.Tag?{Tag:va.filterSensitiveLog(e.Tag)}:void 0!==e.And?{And:fu.filterSensitiveLog(e.And)}:void 0!==e.$unknown?((t={})[e.$unknown[0]]="UNKNOWN",t):void 0},function(e){e.filterSensitiveLog=function(e){return nf(nf({},e),e.Filter&&{Filter:du.filterSensitiveLog(e.Filter)})}}(hu||(hu={})),function(e){e.filterSensitiveLog=function(e){return nf(nf({},e),e.MetricsConfiguration&&{MetricsConfiguration:hu.filterSensitiveLog(e.MetricsConfiguration)})}}(pu||(pu={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(gu||(gu={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(vu||(vu={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(yu||(yu={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(mu||(mu={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(bu||(bu={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Su||(Su={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(wu||(wu={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(_u||(_u={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Eu||(Eu={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Cu||(Cu={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Au||(Au={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Pu||(Pu={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(xu||(xu={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(ku||(ku={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Iu||(Iu={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Tu||(Tu={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Ou||(Ou={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Uu||(Uu={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Mu||(Mu={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Lu||(Lu={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Ru||(Ru={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Nu||(Nu={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Du||(Du={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(ju||(ju={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Bu||(Bu={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Fu||(Fu={})),(Xl=zu||(zu={})).visit=function(e,t){return void 0!==e.Prefix?t.Prefix(e.Prefix):void 0!==e.Tag?t.Tag(e.Tag):void 0!==e.And?t.And(e.And):t._(e.$unknown[0],e.$unknown[1])},Xl.filterSensitiveLog=function(e){var t;return void 0!==e.Prefix?{Prefix:e.Prefix}:void 0!==e.Tag?{Tag:va.filterSensitiveLog(e.Tag)}:void 0!==e.And?{And:Fu.filterSensitiveLog(e.And)}:void 0!==e.$unknown?((t={})[e.$unknown[0]]="UNKNOWN",t):void 0},function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Ku||(Ku={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(qu||(qu={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Hu||(Hu={})),function(e){e.filterSensitiveLog=function(e){return nf(nf({},e),e.Filter&&{Filter:zu.filterSensitiveLog(e.Filter)})}}(Vu||(Vu={})),function(e){e.filterSensitiveLog=function(e){return nf(nf({},e),e.Rules&&{Rules:e.Rules.map(function(e){return Vu.filterSensitiveLog(e)})})}}(Wu||(Wu={})),function(e){e.filterSensitiveLog=function(e){return nf(nf({},e),e.ReplicationConfiguration&&{ReplicationConfiguration:Wu.filterSensitiveLog(e.ReplicationConfiguration)})}}(Gu||(Gu={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}($u||($u={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Ju||(Ju={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Yu||(Yu={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Zu||(Zu={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Xu||(Xu={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Qu||(Qu={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(ec||(ec={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(tc||(tc={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(nc||(nc={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(rc||(rc={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(ic||(ic={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(oc||(oc={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(sc||(sc={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(ac||(ac={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(uc||(uc={})),function(e){e.filterSensitiveLog=function(e){return nf(nf({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:Yt})}}(cc||(cc={})),function(e){e.filterSensitiveLog=function(e){return nf(nf({},e),e.SSECustomerKey&&{SSECustomerKey:Yt})}}(lc||(lc={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(fc||(fc={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(dc||(dc={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(hc||(hc={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(pc||(pc={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(gc||(gc={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(vc||(vc={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(yc||(yc={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(mc||(mc={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(bc||(bc={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Sc||(Sc={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(wc||(wc={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(_c||(_c={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Ec||(Ec={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Cc||(Cc={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Ac||(Ac={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Pc||(Pc={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(xc||(xc={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(kc||(kc={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Ic||(Ic={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Tc||(Tc={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Oc||(Oc={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Uc||(Uc={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Mc||(Mc={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Lc||(Lc={})),function(e){e.filterSensitiveLog=function(e){return nf(nf({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:Yt})}}(Rc||(Rc={})),function(e){e.filterSensitiveLog=function(e){return nf(nf({},e),e.SSECustomerKey&&{SSECustomerKey:Yt})}}(Nc||(Nc={})),function(e){e.filterSensitiveLog=function(e){return nf(nf({},e),e.AnalyticsConfigurationList&&{AnalyticsConfigurationList:e.AnalyticsConfigurationList.map(function(e){return Ea.filterSensitiveLog(e)})})}}(Dc||(Dc={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(jc||(jc={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Bc||(Bc={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Fc||(Fc={})),function(e){e.filterSensitiveLog=function(e){return nf(nf({},e),e.InventoryConfigurationList&&{InventoryConfigurationList:e.InventoryConfigurationList.map(function(e){return Ga.filterSensitiveLog(e)})})}}(zc||(zc={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Kc||(Kc={})),function(e){e.filterSensitiveLog=function(e){return nf(nf({},e),e.MetricsConfigurationList&&{MetricsConfigurationList:e.MetricsConfigurationList.map(function(e){return hu.filterSensitiveLog(e)})})}}(qc||(qc={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Hc||(Hc={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Vc||(Vc={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Wc||(Wc={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Gc||(Gc={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}($c||($c={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Jc||(Jc={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Yc||(Yc={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Zc||(Zc={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Xc||(Xc={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Qc||(Qc={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(el||(el={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(tl||(tl={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(nl||(nl={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(rl||(rl={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(il||(il={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(ol||(ol={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(sl||(sl={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(al||(al={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(ul||(ul={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(cl||(cl={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(ll||(ll={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(fl||(fl={})),function(e){e.filterSensitiveLog=function(e){return nf(nf({},e),e.AnalyticsConfiguration&&{AnalyticsConfiguration:Ea.filterSensitiveLog(e.AnalyticsConfiguration)})}}(dl||(dl={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(hl||(hl={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(pl||(pl={})),function(e){e.filterSensitiveLog=function(e){return nf(nf({},e),e.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:Oa.filterSensitiveLog(e.ServerSideEncryptionConfiguration)})}}(gl||(gl={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(vl||(vl={})),function(e){e.filterSensitiveLog=function(e){return nf(nf({},e),e.InventoryConfiguration&&{InventoryConfiguration:Ga.filterSensitiveLog(e.InventoryConfiguration)})}}(yl||(yl={})),function(e){e.filterSensitiveLog=function(e){return nf(nf({},e),e.Rules&&{Rules:e.Rules.map(function(e){return nu.filterSensitiveLog(e)})})}}(ml||(ml={})),function(e){e.filterSensitiveLog=function(e){return nf(nf({},e),e.LifecycleConfiguration&&{LifecycleConfiguration:ml.filterSensitiveLog(e.LifecycleConfiguration)})}}(bl||(bl={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Sl||(Sl={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(wl||(wl={})),function(e){e.filterSensitiveLog=function(e){return nf(nf({},e),e.MetricsConfiguration&&{MetricsConfiguration:hu.filterSensitiveLog(e.MetricsConfiguration)})}}(_l||(_l={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(El||(El={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Cl||(Cl={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Al||(Al={})),function(e){e.filterSensitiveLog=function(e){return nf(nf({},e),e.ReplicationConfiguration&&{ReplicationConfiguration:Wu.filterSensitiveLog(e.ReplicationConfiguration)})}}(Pl||(Pl={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(xl||(xl={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(kl||(kl={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Il||(Il={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Tl||(Tl={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Ol||(Ol={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Ul||(Ul={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Ml||(Ml={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Ll||(Ll={})),function(e){e.filterSensitiveLog=function(e){return nf(nf(nf({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:Yt}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Yt})}}(Rl||(Rl={})),function(e){e.filterSensitiveLog=function(e){return nf(nf(nf(nf({},e),e.SSECustomerKey&&{SSECustomerKey:Yt}),e.SSEKMSKeyId&&{SSEKMSKeyId:Yt}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Yt})}}(Nl||(Nl={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Dl||(Dl={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(jl||(jl={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Bl||(Bl={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Fl||(Fl={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(zl||(zl={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Kl||(Kl={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(ql||(ql={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Hl||(Hl={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Vl||(Vl={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Wl||(Wl={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Gl||(Gl={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}($l||($l={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Jl||(Jl={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Yl||(Yl={})),function(e){e.filterSensitiveLog=function(e){return nf(nf({},e),e.KMSKeyId&&{KMSKeyId:Yt})}}(Zl||(Zl={}));var af=function(){function e(e,t){void 0===t&&(t=[]),this.name=e,this.children=t,this.attributes={}}return e.prototype.withName=function(e){return this.name=e,this},e.prototype.addAttribute=function(e,t){return this.attributes[e]=t,this},e.prototype.addChildNode=function(e){return this.children.push(e),this},e.prototype.removeAttribute=function(e){return delete this.attributes[e],this},e.prototype.toString=function(){var e,t,n=Boolean(this.children.length),r="<"+this.name,i=this.attributes;try{for(var o=(0,X.__values)(Object.keys(i)),s=o.next();!s.done;s=o.next()){var a=s.value,u=i[a];null!=u&&(r+=" "+a+'="'+sf(""+u)+'"')}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return r+(n?">"+this.children.map(function(e){return e.toString()}).join("")+"</"+this.name+">":"/>")},e}(),uf=function(){function e(e){this.value=e}return e.prototype.toString=function(){return(""+this.value).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},e}(),cf=n(2529),lf=function(e,t){return rf(void 0,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return of(this,function(l){switch(l.label){case 0:return r=[nf({},e)],c={},[4,Tf(e.body,t)];case 1:switch(n=nf.apply(void 0,r.concat([(c.body=l.sent(),c)])),o="UnknownError",o=Of(e,n.body)){case"NoSuchUpload":case"com.amazonaws.s3#NoSuchUpload":return[3,2]}return[3,4];case 2:return s=[{}],[4,Ef(n,t)];case 3:return i=nf.apply(void 0,[nf.apply(void 0,s.concat([l.sent()])),{name:o,$metadata:xf(e)}]),[3,5];case 4:a=n.body,o=a.code||a.Code||o,i=nf(nf({},a),{name:""+o,message:a.message||a.Message||o,$fault:"client",$metadata:xf(e)}),l.label=5;case 5:return u=i.message||i.Message||o,i.message=u,delete i.Message,[2,Promise.reject(Object.assign(new Error(u),i))]}})})},ff=function(e,t){return rf(void 0,void 0,void 0,function(){var n,r,i,o,s,a,u;return of(this,function(c){switch(c.label){case 0:return r=[nf({},e)],u={},[4,Tf(e.body,t)];case 1:return n=nf.apply(void 0,r.concat([(u.body=c.sent(),u)])),o="UnknownError",o=Of(e,n.body),s=n.body,o=s.code||s.Code||o,i=nf(nf({},s),{name:""+o,message:s.message||s.Message||o,$fault:"client",$metadata:xf(e)}),a=i.message||i.Message||o,i.message=a,delete i.Message,[2,Promise.reject(Object.assign(new Error(a),i))]}})})},df=function(e,t){return rf(void 0,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return of(this,function(l){switch(l.label){case 0:return r=[nf({},e)],c={},[4,Tf(e.body,t)];case 1:switch(n=nf.apply(void 0,r.concat([(c.body=l.sent(),c)])),o="UnknownError",o=Of(e,n.body)){case"ObjectNotInActiveTierError":case"com.amazonaws.s3#ObjectNotInActiveTierError":return[3,2]}return[3,4];case 2:return s=[{}],[4,Cf(n,t)];case 3:return i=nf.apply(void 0,[nf.apply(void 0,s.concat([l.sent()])),{name:o,$metadata:xf(e)}]),[3,5];case 4:a=n.body,o=a.code||a.Code||o,i=nf(nf({},a),{name:""+o,message:a.message||a.Message||o,$fault:"client",$metadata:xf(e)}),l.label=5;case 5:return u=i.message||i.Message||o,i.message=u,delete i.Message,[2,Promise.reject(Object.assign(new Error(u),i))]}})})},hf=function(e,t){return rf(void 0,void 0,void 0,function(){var n,r,i,o,s,a,u;return of(this,function(c){switch(c.label){case 0:return r=[nf({},e)],u={},[4,Tf(e.body,t)];case 1:return n=nf.apply(void 0,r.concat([(u.body=c.sent(),u)])),o="UnknownError",o=Of(e,n.body),s=n.body,o=s.code||s.Code||o,i=nf(nf({},s),{name:""+o,message:s.message||s.Message||o,$fault:"client",$metadata:xf(e)}),a=i.message||i.Message||o,i.message=a,delete i.Message,[2,Promise.reject(Object.assign(new Error(a),i))]}})})},pf=function(e,t){return rf(void 0,void 0,void 0,function(){var n,r,i,o,s,a,u;return of(this,function(c){switch(c.label){case 0:return r=[nf({},e)],u={},[4,Tf(e.body,t)];case 1:return n=nf.apply(void 0,r.concat([(u.body=c.sent(),u)])),o="UnknownError",o=Of(e,n.body),s=n.body,o=s.code||s.Code||o,i=nf(nf({},s),{name:""+o,message:s.message||s.Message||o,$fault:"client",$metadata:xf(e)}),a=i.message||i.Message||o,i.message=a,delete i.Message,[2,Promise.reject(Object.assign(new Error(a),i))]}})})},gf=function(e,t){return rf(void 0,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l;return of(this,function(f){switch(f.label){case 0:return r=[nf({},e)],l={},[4,Tf(e.body,t)];case 1:switch(n=nf.apply(void 0,r.concat([(l.body=f.sent(),l)])),o="UnknownError",o=Of(e,n.body)){case"InvalidObjectState":case"com.amazonaws.s3#InvalidObjectState":return[3,2];case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":return[3,4]}return[3,6];case 2:return s=[{}],[4,Sf(n,t)];case 3:return i=nf.apply(void 0,[nf.apply(void 0,s.concat([f.sent()])),{name:o,$metadata:xf(e)}]),[3,7];case 4:return a=[{}],[4,_f(n,t)];case 5:return i=nf.apply(void 0,[nf.apply(void 0,a.concat([f.sent()])),{name:o,$metadata:xf(e)}]),[3,7];case 6:u=n.body,o=u.code||u.Code||o,i=nf(nf({},u),{name:""+o,message:u.message||u.Message||o,$fault:"client",$metadata:xf(e)}),f.label=7;case 7:return c=i.message||i.Message||o,i.message=c,delete i.Message,[2,Promise.reject(Object.assign(new Error(c),i))]}})})},vf=function(e,t){return rf(void 0,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return of(this,function(l){switch(l.label){case 0:return r=[nf({},e)],c={},[4,Tf(e.body,t)];case 1:switch(n=nf.apply(void 0,r.concat([(c.body=l.sent(),c)])),o="UnknownError",o=Of(e,n.body)){case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":return[3,2]}return[3,4];case 2:return s=[{}],[4,wf(n,t)];case 3:return i=nf.apply(void 0,[nf.apply(void 0,s.concat([l.sent()])),{name:o,$metadata:xf(e)}]),[3,5];case 4:a=n.body,o=a.code||a.Code||o,i=nf(nf({},a),{name:""+o,message:a.message||a.Message||o,$fault:"client",$metadata:xf(e)}),l.label=5;case 5:return u=i.message||i.Message||o,i.message=u,delete i.Message,[2,Promise.reject(Object.assign(new Error(u),i))]}})})},yf=function(e,t){return rf(void 0,void 0,void 0,function(){var n,r,i,o,s,a,u;return of(this,function(c){switch(c.label){case 0:return r=[nf({},e)],u={},[4,Tf(e.body,t)];case 1:return n=nf.apply(void 0,r.concat([(u.body=c.sent(),u)])),o="UnknownError",o=Of(e,n.body),s=n.body,o=s.code||s.Code||o,i=nf(nf({},s),{name:""+o,message:s.message||s.Message||o,$fault:"client",$metadata:xf(e)}),a=i.message||i.Message||o,i.message=a,delete i.Message,[2,Promise.reject(Object.assign(new Error(a),i))]}})})},mf=function(e,t){return rf(void 0,void 0,void 0,function(){var n,r,i,o,s,a,u;return of(this,function(c){switch(c.label){case 0:return r=[nf({},e)],u={},[4,Tf(e.body,t)];case 1:return n=nf.apply(void 0,r.concat([(u.body=c.sent(),u)])),o="UnknownError",o=Of(e,n.body),s=n.body,o=s.code||s.Code||o,i=nf(nf({},s),{name:""+o,message:s.message||s.Message||o,$fault:"client",$metadata:xf(e)}),a=i.message||i.Message||o,i.message=a,delete i.Message,[2,Promise.reject(Object.assign(new Error(a),i))]}})})},bf=function(e,t){return rf(void 0,void 0,void 0,function(){var n,r,i,o,s,a,u;return of(this,function(c){switch(c.label){case 0:return r=[nf({},e)],u={},[4,Tf(e.body,t)];case 1:return n=nf.apply(void 0,r.concat([(u.body=c.sent(),u)])),o="UnknownError",o=Of(e,n.body),s=n.body,o=s.code||s.Code||o,i=nf(nf({},s),{name:""+o,message:s.message||s.Message||o,$fault:"client",$metadata:xf(e)}),a=i.message||i.Message||o,i.message=a,delete i.Message,[2,Promise.reject(Object.assign(new Error(a),i))]}})})},Sf=function(e,t){return rf(void 0,void 0,void 0,function(){var t,n;return of(this,function(r){return t={name:"InvalidObjectState",$fault:"client",$metadata:xf(e),AccessTier:void 0,StorageClass:void 0},void 0!==(n=e.body).AccessTier&&(t.AccessTier=n.AccessTier),void 0!==n.StorageClass&&(t.StorageClass=n.StorageClass),[2,t]})})},wf=function(e,t){return rf(void 0,void 0,void 0,function(){var t;return of(this,function(n){return t={name:"NoSuchBucket",$fault:"client",$metadata:xf(e)},e.body,[2,t]})})},_f=function(e,t){return rf(void 0,void 0,void 0,function(){var t;return of(this,function(n){return t={name:"NoSuchKey",$fault:"client",$metadata:xf(e)},e.body,[2,t]})})},Ef=function(e,t){return rf(void 0,void 0,void 0,function(){var t;return of(this,function(n){return t={name:"NoSuchUpload",$fault:"client",$metadata:xf(e)},e.body,[2,t]})})},Cf=function(e,t){return rf(void 0,void 0,void 0,function(){var t;return of(this,function(n){return t={name:"ObjectNotInActiveTierError",$fault:"client",$metadata:xf(e)},e.body,[2,t]})})},Af=function(e,t){return e.filter(function(e){return null!=e}).map(function(e){if(null===e)return null;var t=function(e){var t=new af("CompletedPart");if(void 0!==e.ETag&&null!==e.ETag){var n=new af("ETag").addChildNode(new uf(e.ETag)).withName("ETag");t.addChildNode(n)}return void 0!==e.PartNumber&&null!==e.PartNumber&&(n=new af("PartNumber").addChildNode(new uf(String(e.PartNumber))).withName("PartNumber"),t.addChildNode(n)),t}(e);return t.withName("member")})},Pf=function(e,t){var n={DisplayName:void 0,ID:void 0};return void 0!==e.DisplayName&&(n.DisplayName=e.DisplayName),void 0!==e.ID&&(n.ID=e.ID),n},xf=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},kf=function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},If=function(e){return!(null==e||""===e||Object.getOwnPropertyNames(e).includes("length")&&0==e.length||Object.getOwnPropertyNames(e).includes("size")&&0==e.size)},Tf=function(e,t){return function(e,t){return kf(e,t).then(function(e){return t.utf8Encoder(e)})}(e,t).then(function(e){if(e.length){var t=(0,cf.parse)(e,{attributeNamePrefix:"",ignoreAttributes:!1,parseNodeValue:!1,tagValueProcessor:function(e,t){return e.replace(/&amp;/g,"&").replace(/&apos;/g,"'").replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<")}}),n="#text",r=Object.keys(t)[0],i=t[r];return i[n]&&(i[r]=i[n],delete i[n]),Vt(i)}return{}})},Of=function(e,t){return void 0!==t.Code?t.Code:404==e.statusCode?"NotFound":""},Uf=function(e){return"string"==typeof e&&0===e.indexOf("arn:")&&e.split(":").length>=6},Mf=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,Lf=/(\d+\.){3}\d+/,Rf=/\.\./,Nf=/\./,Df=/^(.+\.)?s3[.-]([a-z0-9-]+)\./,jf=/^s3(-external-1)?\.amazonaws\.com$/,Bf="amazonaws.com",Ff=function(e){return Kf(e)?e.replace(/fips-|-fips/,""):e},zf=function(e){var t=e.match(Df);return[t[2],e.replace(new RegExp("^"+t[0]),"")]},Kf=function(e){return e.startsWith("fips-")||e.endsWith("-fips")},qf=function(e,t){return e===t||Ff(e)===t||e===Ff(t)},Hf=function(e,t){if(void 0===t&&(t={tlsCompatible:!0}),e.length>=64||!/^[a-z0-9][a-z0-9.-]+[a-z0-9]$/.test(e)||/(\d+\.){3}\d+/.test(e)||/[.-]{2}/.test(e)||(null==t?void 0:t.tlsCompatible)&&Nf.test(e))throw new Error("Invalid DNS label "+e)},Vf=function(e){var t=e.isCustomEndpoint,n=(e.baseHostname,e.dualstackEndpoint),r=e.accelerateEndpoint;if(t){if(n)throw new Error("Dualstack endpoint is not supported with custom endpoint");if(r)throw new Error("Accelerate endpoint is not supported with custom endpoint")}return function(e){return"string"==typeof e.bucketName}(e)?Gf((0,X.__assign)((0,X.__assign)({},e),{isCustomEndpoint:t})):Wf((0,X.__assign)((0,X.__assign)({},e),{isCustomEndpoint:t}))},Wf=function(e){var t,n=e.isCustomEndpoint,r=e.baseHostname,i=(0,X.__read)(n?[e.clientRegion,r]:(t=r,jf.test(t)?[t.replace("."+Bf,""),Bf]:zf(t)),2),o=i[0],s=i[1],a=e.pathStyleEndpoint,u=e.dualstackEndpoint,c=void 0!==u&&u,l=e.accelerateEndpoint,f=void 0!==l&&l,d=e.tlsCompatible,h=void 0===d||d,p=e.useArnRegion,g=e.bucketName,v=e.clientPartition,y=void 0===v?"aws":v,m=e.clientSigningRegion,b=void 0===m?o:m;!function(e){if(e.pathStyleEndpoint)throw new Error("Path-style S3 endpoint is not supported when bucket is an ARN");if(e.accelerateEndpoint)throw new Error("Accelerate endpoint is not supported when bucket is an ARN");if(!e.tlsCompatible)throw new Error("HTTPS is required when bucket is an ARN")}({pathStyleEndpoint:a,accelerateEndpoint:f,tlsCompatible:h});var S=g.service,w=g.partition,_=g.accountId,E=g.region,C=g.resource;!function(e){if("s3"!==e&&"s3-outposts"!==e)throw new Error("Expect 's3' or 's3-outposts' in ARN service component")}(S),function(e,t){if(e!==t.clientPartition)throw new Error('Partition in ARN is incompatible, got "'+e+'" but expected "'+t.clientPartition+'"')}(w,{clientPartition:y}),function(e){if(!/[0-9]{12}/.exec(e))throw new Error("Access point ARN accountID does not match regex '[0-9]{12}'")}(_),function(e,t){if(""===e)throw new Error("ARN region is empty");if(!t.useArnRegion&&!qf(e,t.clientRegion)&&!qf(e,t.clientSigningRegion))throw new Error("Region in ARN is incompatible, got "+e+" but expected "+t.clientRegion);if(t.useArnRegion&&Kf(e))throw new Error("Endpoint does not support FIPS region")}(E,{useArnRegion:p,clientRegion:o,clientSigningRegion:b});var A=function(e){var t=e.includes(":")?":":"/",n=(0,X.__read)(e.split(t)),r=n[0],i=n.slice(1);if("accesspoint"===r){if(1!==i.length||""===i[0])throw new Error("Access Point ARN should have one resource accesspoint"+t+"{accesspointname}");return{accesspointName:i[0]}}if("outpost"===r){if(!i[0]||"accesspoint"!==i[1]||!i[2]||3!==i.length)throw new Error("Outpost ARN should have resource outpost"+t+"{outpostId}"+t+"accesspoint"+t+"{accesspointName}");var o=(0,X.__read)(i,3),s=o[0];return o[1],{outpostId:s,accesspointName:o[2]}}throw new Error("ARN resource should begin with 'accesspoint"+t+"' or 'outpost"+t+"'")}(C),P=A.accesspointName,x=A.outpostId;Hf(P+"-"+_,{tlsCompatible:h});var k=p?E:o,I=p?E:b;return x?(function(e){if("s3-outposts"!==e)throw new Error("Expect 's3-posts' in Outpost ARN service component")}(S),Hf(x,{tlsCompatible:h}),function(e){if(e)throw new Error("Dualstack endpoint is not supported with Outpost")}(c),function(e){if(Kf(null!=e?e:""))throw new Error("FIPS region is not supported with Outpost, got "+e)}(k),{bucketEndpoint:!0,hostname:P+"-"+_+"."+x+(n?"":".s3-outposts."+k)+"."+s,signingRegion:I,signingService:"s3-outposts"}):(function(e){if("s3"!==e)throw new Error("Expect 's3' in Accesspoint ARN service component")}(S),{bucketEndpoint:!0,hostname:P+"-"+_+(n?"":".s3-accesspoint"+(c?".dualstack":"")+"."+k)+"."+s,signingRegion:I})},Gf=function(e){var t,n=e.accelerateEndpoint,r=void 0!==n&&n,i=e.clientRegion,o=e.baseHostname,s=e.bucketName,a=e.dualstackEndpoint,u=void 0!==a&&a,c=e.pathStyleEndpoint,l=void 0!==c&&c,f=e.tlsCompatible,d=void 0===f||f,h=e.isCustomEndpoint,p=void 0!==h&&h,g=(0,X.__read)(p?[i,o]:(t=o,jf.test(t)?["us-east-1",Bf]:zf(t)),2),v=g[0],y=g[1];return l||!function(e){return Mf.test(e)&&!Lf.test(e)&&!Rf.test(e)}(s)||d&&Nf.test(s)?{bucketEndpoint:!1,hostname:u?"s3.dualstack."+v+"."+y:o}:(r?o="s3-accelerate"+(u?".dualstack":"")+"."+y:u&&(o="s3.dualstack."+v+"."+y),{bucketEndpoint:!0,hostname:s+"."+o})},$f={tags:["BUCKET_ENDPOINT"],name:"bucketEndpointMiddleware",relation:"before",toMiddleware:"hostHeaderMiddleware",override:!0},Jf=function(e){return{applyToStack:function(t){t.addRelativeTo(function(e){return function(t,n){return function(r){return(0,X.__awaiter)(void 0,void 0,void 0,function(){var i,o,s,a,u,c,l,f,d,h,p,g,v,y,m,b,S,w;return(0,X.__generator)(this,function(_){switch(_.label){case 0:return i=r.input.Bucket,o=e.bucketEndpoint,s=r.request,ut.isInstance(s)?e.bucketEndpoint?(s.hostname=i,[3,7]):[3,1]:[3,8];case 1:return Uf(i)?(a=function(e){var t=e.split(":");if(t.length<6||"arn"!==t[0])throw new Error("Malformed ARN");var n=(0,X.__read)(t);return{partition:n[1],service:n[2],region:n[3],accountId:n[4],resource:n.slice(5).join(":")}}(i),u=Ff,[4,e.region()]):[3,5];case 2:return y=u.apply(void 0,[_.sent()]),[4,e.regionInfoProvider(y)];case 3:return c=_.sent()||{},l=c.partition,f=c.signingRegion,d=void 0===f?y:f,[4,e.useArnRegion()];case 4:return h=_.sent(),p=Vf({bucketName:a,baseHostname:s.hostname,accelerateEndpoint:e.useAccelerateEndpoint,dualstackEndpoint:e.useDualstackEndpoint,pathStyleEndpoint:e.forcePathStyle,tlsCompatible:"https:"===s.protocol,useArnRegion:h,clientPartition:l,clientSigningRegion:d,clientRegion:y,isCustomEndpoint:e.isCustomEndpoint}),S=p.hostname,w=p.bucketEndpoint,g=p.signingRegion,v=p.signingService,g&&g!==d&&(n.signing_region=g),v&&"s3"!==v&&(n.signing_service=v),s.hostname=S,o=w,[3,7];case 5:return m=Ff,[4,e.region()];case 6:y=m.apply(void 0,[_.sent()]),b=Vf({bucketName:i,clientRegion:y,baseHostname:s.hostname,accelerateEndpoint:e.useAccelerateEndpoint,dualstackEndpoint:e.useDualstackEndpoint,pathStyleEndpoint:e.forcePathStyle,tlsCompatible:"https:"===s.protocol,isCustomEndpoint:e.isCustomEndpoint}),S=b.hostname,w=b.bucketEndpoint,s.hostname=S,o=w,_.label=7;case 7:o&&(s.path=s.path.replace(/^(\/)?[^\/]+/,""),""===s.path&&(s.path="/")),_.label=8;case 8:return[2,t((0,X.__assign)((0,X.__assign)({},r),{request:s}))]}})})}}}(e),$f)}}},Yf={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},Zf={step:"build",tags:["USE_REGIONAL_ENDPOINT","S3"],name:"useRegionalEndpointMiddleware",override:!0},Xf=function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},Qf={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},ed=function(e){return{applyToStack:function(t){t.addRelativeTo(function(e){return function(t){return function(n){return(0,X.__awaiter)(void 0,void 0,void 0,function(){var r,i,o,s,a,u,c;return(0,X.__generator)(this,function(l){switch(l.label){case 0:return[4,t(n)];case 1:return r=l.sent(),i=r.response,at.isInstance(i)?(o=i.statusCode,s=i.body,o<200&&o>=300?[2,r]:[4,Xf(s,e)]):[2,r];case 2:return a=l.sent(),[4,(f=a,d=e,Xf(f,d).then(function(e){return d.utf8Encoder(e)}))];case 3:if(u=l.sent(),0===a.length)throw(c=new Error("S3 aborted request")).name="InternalError",c;return u&&u.match("<Error>")&&(i.statusCode=400),i.body=a,[2,r]}var f,d})})}}}(e),Qf)}}},td={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},nd=function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(r){return(0,X.__awaiter)(t,void 0,void 0,function(){var t,i,o,s,a,u,c,l,f,d,h,p,g,v,y,m,b;return(0,X.__generator)(this,function(S){switch(S.label){case 0:t=(0,X.__assign)({},r.input),i=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}],S.label=1;case 1:S.trys.push([1,6,7,8]),o=(0,X.__values)(i),s=o.next(),S.label=2;case 2:return s.done?[3,5]:(a=s.value,(u=t[a.target])?(c=ArrayBuffer.isView(u)?new Uint8Array(u.buffer,u.byteOffset,u.byteLength):"string"==typeof u?e.utf8Decoder(u):new Uint8Array(u),l=e.base64Encoder(c),(f=new e.md5).update(c),d=[(0,X.__assign)({},t)],(b={})[a.target]=l,h=a.hash,g=(p=e).base64Encoder,[4,f.digest()]):[3,4]);case 3:t=X.__assign.apply(void 0,d.concat([(b[h]=g.apply(p,[S.sent()]),b)])),S.label=4;case 4:return s=o.next(),[3,2];case 5:return[3,8];case 6:return v=S.sent(),y={error:v},[3,8];case 7:try{s&&!s.done&&(m=o.return)&&m.call(o)}finally{if(y)throw y.error}return[7];case 8:return[2,n((0,X.__assign)((0,X.__assign)({},r),{input:t}))]}})})}}}(e),td)}}},rd=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return vs(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Dt(t,this.serialize,this.deserialize)),this.middlewareStack.use(ed(t)),this.middlewareStack.use(nd(t)),this.middlewareStack.use(Jf(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"CopyObjectCommand",inputFilterSensitiveLog:Ms.filterSensitiveLog,outputFilterSensitiveLog:Us.filterSensitiveLog},o=t.requestHandler;return r.resolve(function(e){return o.handle(e.request,n||{})},i)},t.prototype.serialize=function(e,t){return function(e,t){return rf(void 0,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l;return of(this,function(f){switch(f.label){case 0:if(n=nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf({},If(e.ACL)&&{"x-amz-acl":e.ACL}),If(e.CacheControl)&&{"cache-control":e.CacheControl}),If(e.ContentDisposition)&&{"content-disposition":e.ContentDisposition}),If(e.ContentEncoding)&&{"content-encoding":e.ContentEncoding}),If(e.ContentLanguage)&&{"content-language":e.ContentLanguage}),If(e.ContentType)&&{"content-type":e.ContentType}),If(e.CopySource)&&{"x-amz-copy-source":e.CopySource}),If(e.CopySourceIfMatch)&&{"x-amz-copy-source-if-match":e.CopySourceIfMatch}),If(e.CopySourceIfModifiedSince)&&{"x-amz-copy-source-if-modified-since":Jt(e.CopySourceIfModifiedSince).toString()}),If(e.CopySourceIfNoneMatch)&&{"x-amz-copy-source-if-none-match":e.CopySourceIfNoneMatch}),If(e.CopySourceIfUnmodifiedSince)&&{"x-amz-copy-source-if-unmodified-since":Jt(e.CopySourceIfUnmodifiedSince).toString()}),If(e.Expires)&&{expires:Jt(e.Expires).toString()}),If(e.GrantFullControl)&&{"x-amz-grant-full-control":e.GrantFullControl}),If(e.GrantRead)&&{"x-amz-grant-read":e.GrantRead}),If(e.GrantReadACP)&&{"x-amz-grant-read-acp":e.GrantReadACP}),If(e.GrantWriteACP)&&{"x-amz-grant-write-acp":e.GrantWriteACP}),If(e.MetadataDirective)&&{"x-amz-metadata-directive":e.MetadataDirective}),If(e.TaggingDirective)&&{"x-amz-tagging-directive":e.TaggingDirective}),If(e.ServerSideEncryption)&&{"x-amz-server-side-encryption":e.ServerSideEncryption}),If(e.StorageClass)&&{"x-amz-storage-class":e.StorageClass}),If(e.WebsiteRedirectLocation)&&{"x-amz-website-redirect-location":e.WebsiteRedirectLocation}),If(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),If(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),If(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),If(e.SSEKMSKeyId)&&{"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId}),If(e.SSEKMSEncryptionContext)&&{"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext}),If(e.BucketKeyEnabled)&&{"x-amz-server-side-encryption-bucket-key-enabled":e.BucketKeyEnabled.toString()}),If(e.CopySourceSSECustomerAlgorithm)&&{"x-amz-copy-source-server-side-encryption-customer-algorithm":e.CopySourceSSECustomerAlgorithm}),If(e.CopySourceSSECustomerKey)&&{"x-amz-copy-source-server-side-encryption-customer-key":e.CopySourceSSECustomerKey}),If(e.CopySourceSSECustomerKeyMD5)&&{"x-amz-copy-source-server-side-encryption-customer-key-md5":e.CopySourceSSECustomerKeyMD5}),If(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),If(e.Tagging)&&{"x-amz-tagging":e.Tagging}),If(e.ObjectLockMode)&&{"x-amz-object-lock-mode":e.ObjectLockMode}),If(e.ObjectLockRetainUntilDate)&&{"x-amz-object-lock-retain-until-date":(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()}),If(e.ObjectLockLegalHoldStatus)&&{"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus}),If(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),If(e.ExpectedSourceBucketOwner)&&{"x-amz-source-expected-bucket-owner":e.ExpectedSourceBucketOwner}),void 0!==e.Metadata&&Object.keys(e.Metadata).reduce(function(t,n){var r;return nf(nf({},t),((r={})["x-amz-meta-"+n.toLowerCase()]=e.Metadata[n],r))},{})),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((i=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",qt(i)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((i=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",i.split("/").map(function(e){return qt(e)}).join("/")),o={"x-id":"CopyObject"},[4,t.endpoint()];case 1:return s=f.sent(),a=s.hostname,u=s.protocol,c=void 0===u?"https":u,l=s.port,[2,new ut({protocol:c,hostname:a,port:l,method:"PUT",headers:n,path:r,query:o,body:void 0})]}})})}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return rf(void 0,void 0,void 0,function(){var n,r;return of(this,function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,df(e,t)]:(n={$metadata:xf(e),BucketKeyEnabled:void 0,CopyObjectResult:void 0,CopySourceVersionId:void 0,Expiration:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSEncryptionContext:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,VersionId:void 0},void 0!==e.headers["x-amz-expiration"]&&(n.Expiration=e.headers["x-amz-expiration"]),void 0!==e.headers["x-amz-copy-source-version-id"]&&(n.CopySourceVersionId=e.headers["x-amz-copy-source-version-id"]),void 0!==e.headers["x-amz-version-id"]&&(n.VersionId=e.headers["x-amz-version-id"]),void 0!==e.headers["x-amz-server-side-encryption"]&&(n.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers["x-amz-server-side-encryption-customer-algorithm"]&&(n.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),void 0!==e.headers["x-amz-server-side-encryption-customer-key-md5"]&&(n.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(n.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-context"]&&(n.SSEKMSEncryptionContext=e.headers["x-amz-server-side-encryption-context"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(n.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,Tf(e.body,t)]);case 1:return r=i.sent(),n.CopyObjectResult=function(e){var t={ETag:void 0,LastModified:void 0};return void 0!==e.ETag&&(t.ETag=e.ETag),void 0!==e.LastModified&&(t.LastModified=new Date(e.LastModified)),t}(r),[2,Promise.resolve(n)]}})})}(e,t)},t}(Kt),id=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return vs(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Dt(t,this.serialize,this.deserialize)),this.middlewareStack.use(nd(t)),this.middlewareStack.use(Jf(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"GetObjectCommand",inputFilterSensitiveLog:lc.filterSensitiveLog,outputFilterSensitiveLog:cc.filterSensitiveLog},o=t.requestHandler;return r.resolve(function(e){return o.handle(e.request,n||{})},i)},t.prototype.serialize=function(e,t){return function(e,t){return rf(void 0,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l;return of(this,function(f){switch(f.label){case 0:if(n=nf(nf(nf(nf(nf(nf(nf(nf(nf(nf({},If(e.IfMatch)&&{"if-match":e.IfMatch}),If(e.IfModifiedSince)&&{"if-modified-since":Jt(e.IfModifiedSince).toString()}),If(e.IfNoneMatch)&&{"if-none-match":e.IfNoneMatch}),If(e.IfUnmodifiedSince)&&{"if-unmodified-since":Jt(e.IfUnmodifiedSince).toString()}),If(e.Range)&&{range:e.Range}),If(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),If(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),If(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),If(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),If(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((i=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",qt(i)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((i=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",i.split("/").map(function(e){return qt(e)}).join("/")),o=nf(nf(nf(nf(nf(nf(nf(nf({"x-id":"GetObject"},void 0!==e.ResponseCacheControl&&{"response-cache-control":e.ResponseCacheControl}),void 0!==e.ResponseContentDisposition&&{"response-content-disposition":e.ResponseContentDisposition}),void 0!==e.ResponseContentEncoding&&{"response-content-encoding":e.ResponseContentEncoding}),void 0!==e.ResponseContentLanguage&&{"response-content-language":e.ResponseContentLanguage}),void 0!==e.ResponseContentType&&{"response-content-type":e.ResponseContentType}),void 0!==e.ResponseExpires&&{"response-expires":(e.ResponseExpires.toISOString().split(".")[0]+"Z").toString()}),void 0!==e.VersionId&&{versionId:e.VersionId}),void 0!==e.PartNumber&&{partNumber:e.PartNumber.toString()}),[4,t.endpoint()];case 1:return s=f.sent(),a=s.hostname,u=s.protocol,c=void 0===u?"https":u,l=s.port,[2,new ut({protocol:c,hostname:a,port:l,method:"GET",headers:n,path:r,query:o,body:void 0})]}})})}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return rf(void 0,void 0,void 0,function(){var n,r;return of(this,function(i){return 200!==e.statusCode&&e.statusCode>=300?[2,gf(e,t)]:(n={$metadata:xf(e),AcceptRanges:void 0,Body:void 0,BucketKeyEnabled:void 0,CacheControl:void 0,ContentDisposition:void 0,ContentEncoding:void 0,ContentLanguage:void 0,ContentLength:void 0,ContentRange:void 0,ContentType:void 0,DeleteMarker:void 0,ETag:void 0,Expiration:void 0,Expires:void 0,LastModified:void 0,Metadata:void 0,MissingMeta:void 0,ObjectLockLegalHoldStatus:void 0,ObjectLockMode:void 0,ObjectLockRetainUntilDate:void 0,PartsCount:void 0,ReplicationStatus:void 0,RequestCharged:void 0,Restore:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,StorageClass:void 0,TagCount:void 0,VersionId:void 0,WebsiteRedirectLocation:void 0},void 0!==e.headers["x-amz-delete-marker"]&&(n.DeleteMarker="true"===e.headers["x-amz-delete-marker"]),void 0!==e.headers["accept-ranges"]&&(n.AcceptRanges=e.headers["accept-ranges"]),void 0!==e.headers["x-amz-expiration"]&&(n.Expiration=e.headers["x-amz-expiration"]),void 0!==e.headers["x-amz-restore"]&&(n.Restore=e.headers["x-amz-restore"]),void 0!==e.headers["last-modified"]&&(n.LastModified=new Date(e.headers["last-modified"])),void 0!==e.headers["content-length"]&&(n.ContentLength=parseInt(e.headers["content-length"],10)),void 0!==e.headers.etag&&(n.ETag=e.headers.etag),void 0!==e.headers["x-amz-missing-meta"]&&(n.MissingMeta=parseInt(e.headers["x-amz-missing-meta"],10)),void 0!==e.headers["x-amz-version-id"]&&(n.VersionId=e.headers["x-amz-version-id"]),void 0!==e.headers["cache-control"]&&(n.CacheControl=e.headers["cache-control"]),void 0!==e.headers["content-disposition"]&&(n.ContentDisposition=e.headers["content-disposition"]),void 0!==e.headers["content-encoding"]&&(n.ContentEncoding=e.headers["content-encoding"]),void 0!==e.headers["content-language"]&&(n.ContentLanguage=e.headers["content-language"]),void 0!==e.headers["content-range"]&&(n.ContentRange=e.headers["content-range"]),void 0!==e.headers["content-type"]&&(n.ContentType=e.headers["content-type"]),void 0!==e.headers.expires&&(n.Expires=new Date(e.headers.expires)),void 0!==e.headers["x-amz-website-redirect-location"]&&(n.WebsiteRedirectLocation=e.headers["x-amz-website-redirect-location"]),void 0!==e.headers["x-amz-server-side-encryption"]&&(n.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers["x-amz-server-side-encryption-customer-algorithm"]&&(n.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),void 0!==e.headers["x-amz-server-side-encryption-customer-key-md5"]&&(n.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(n.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(n.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-storage-class"]&&(n.StorageClass=e.headers["x-amz-storage-class"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),void 0!==e.headers["x-amz-replication-status"]&&(n.ReplicationStatus=e.headers["x-amz-replication-status"]),void 0!==e.headers["x-amz-mp-parts-count"]&&(n.PartsCount=parseInt(e.headers["x-amz-mp-parts-count"],10)),void 0!==e.headers["x-amz-tagging-count"]&&(n.TagCount=parseInt(e.headers["x-amz-tagging-count"],10)),void 0!==e.headers["x-amz-object-lock-mode"]&&(n.ObjectLockMode=e.headers["x-amz-object-lock-mode"]),void 0!==e.headers["x-amz-object-lock-retain-until-date"]&&(n.ObjectLockRetainUntilDate=new Date(e.headers["x-amz-object-lock-retain-until-date"])),void 0!==e.headers["x-amz-object-lock-legal-hold"]&&(n.ObjectLockLegalHoldStatus=e.headers["x-amz-object-lock-legal-hold"]),Object.keys(e.headers).forEach(function(t){void 0===n.Metadata&&(n.Metadata={}),t.startsWith("x-amz-meta-")&&(n.Metadata[t.substring(11)]=e.headers[t])}),r=e.body,n.Body=r,[2,Promise.resolve(n)])})})}(e,t)},t}(Kt),od=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return vs(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Dt(t,this.serialize,this.deserialize)),this.middlewareStack.use(Jf(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"DeleteObjectCommand",inputFilterSensitiveLog:na.filterSensitiveLog,outputFilterSensitiveLog:ta.filterSensitiveLog},o=t.requestHandler;return r.resolve(function(e){return o.handle(e.request,n||{})},i)},t.prototype.serialize=function(e,t){return function(e,t){return rf(void 0,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l;return of(this,function(f){switch(f.label){case 0:if(n=nf(nf(nf(nf({},If(e.MFA)&&{"x-amz-mfa":e.MFA}),If(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),If(e.BypassGovernanceRetention)&&{"x-amz-bypass-governance-retention":e.BypassGovernanceRetention.toString()}),If(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((i=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",qt(i)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((i=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",i.split("/").map(function(e){return qt(e)}).join("/")),o=nf({"x-id":"DeleteObject"},void 0!==e.VersionId&&{versionId:e.VersionId}),[4,t.endpoint()];case 1:return s=f.sent(),a=s.hostname,u=s.protocol,c=void 0===u?"https":u,l=s.port,[2,new ut({protocol:c,hostname:a,port:l,method:"DELETE",headers:n,path:r,query:o,body:void 0})]}})})}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return rf(void 0,void 0,void 0,function(){var n;return of(this,function(r){switch(r.label){case 0:return 204!==e.statusCode&&e.statusCode>=300?[2,pf(e,t)]:(n={$metadata:xf(e),DeleteMarker:void 0,RequestCharged:void 0,VersionId:void 0},void 0!==e.headers["x-amz-delete-marker"]&&(n.DeleteMarker="true"===e.headers["x-amz-delete-marker"]),void 0!==e.headers["x-amz-version-id"]&&(n.VersionId=e.headers["x-amz-version-id"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,kf(e.body,t)]);case 1:return r.sent(),[2,Promise.resolve(n)]}})})}(e,t)},t}(Kt),sd=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return vs(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Dt(t,this.serialize,this.deserialize)),this.middlewareStack.use(Jf(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"ListObjectsV2Command",inputFilterSensitiveLog:nl.filterSensitiveLog,outputFilterSensitiveLog:tl.filterSensitiveLog},o=t.requestHandler;return r.resolve(function(e){return o.handle(e.request,n||{})},i)},t.prototype.serialize=function(e,t){return function(e,t){return rf(void 0,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l;return of(this,function(f){switch(f.label){case 0:if(n=nf(nf({},If(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),If(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),r="/{Bucket}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((i=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");return r=r.replace("{Bucket}",qt(i)),o=nf(nf(nf(nf(nf(nf(nf({"list-type":"2"},void 0!==e.Delimiter&&{delimiter:e.Delimiter}),void 0!==e.EncodingType&&{"encoding-type":e.EncodingType}),void 0!==e.MaxKeys&&{"max-keys":e.MaxKeys.toString()}),void 0!==e.Prefix&&{prefix:e.Prefix}),void 0!==e.ContinuationToken&&{"continuation-token":e.ContinuationToken}),void 0!==e.FetchOwner&&{"fetch-owner":e.FetchOwner.toString()}),void 0!==e.StartAfter&&{"start-after":e.StartAfter}),[4,t.endpoint()];case 1:return s=f.sent(),a=s.hostname,u=s.protocol,c=void 0===u?"https":u,l=s.port,[2,new ut({protocol:c,hostname:a,port:l,method:"GET",headers:n,path:r,query:o,body:void 0})]}})})}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return rf(void 0,void 0,void 0,function(){var n,r;return of(this,function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,vf(e,t)]:(n={$metadata:xf(e),CommonPrefixes:void 0,Contents:void 0,ContinuationToken:void 0,Delimiter:void 0,EncodingType:void 0,IsTruncated:void 0,KeyCount:void 0,MaxKeys:void 0,Name:void 0,NextContinuationToken:void 0,Prefix:void 0,StartAfter:void 0},[4,Tf(e.body,t)]);case 1:return""===(r=i.sent()).CommonPrefixes&&(n.CommonPrefixes=[]),void 0!==r.CommonPrefixes&&(n.CommonPrefixes=function(e){return(e||[]).filter(function(e){return null!=e}).map(function(e){return null===e?null:function(e){var t={Prefix:void 0};return void 0!==e.Prefix&&(t.Prefix=e.Prefix),t}(e)})}(Ht(r.CommonPrefixes))),""===r.Contents&&(n.Contents=[]),void 0!==r.Contents&&(n.Contents=function(e,t){return(e||[]).filter(function(e){return null!=e}).map(function(e){return null===e?null:function(e,t){var n={Key:void 0,LastModified:void 0,ETag:void 0,Size:void 0,StorageClass:void 0,Owner:void 0};return void 0!==e.Key&&(n.Key=e.Key),void 0!==e.LastModified&&(n.LastModified=new Date(e.LastModified)),void 0!==e.ETag&&(n.ETag=e.ETag),void 0!==e.Size&&(n.Size=parseInt(e.Size)),void 0!==e.StorageClass&&(n.StorageClass=e.StorageClass),void 0!==e.Owner&&(n.Owner=Pf(e.Owner,t)),n}(e,t)})}(Ht(r.Contents),t)),void 0!==r.ContinuationToken&&(n.ContinuationToken=r.ContinuationToken),void 0!==r.Delimiter&&(n.Delimiter=r.Delimiter),void 0!==r.EncodingType&&(n.EncodingType=r.EncodingType),void 0!==r.IsTruncated&&(n.IsTruncated="true"==r.IsTruncated),void 0!==r.KeyCount&&(n.KeyCount=parseInt(r.KeyCount)),void 0!==r.MaxKeys&&(n.MaxKeys=parseInt(r.MaxKeys)),void 0!==r.Name&&(n.Name=r.Name),void 0!==r.NextContinuationToken&&(n.NextContinuationToken=r.NextContinuationToken),void 0!==r.Prefix&&(n.Prefix=r.Prefix),void 0!==r.StartAfter&&(n.StartAfter=r.StartAfter),[2,Promise.resolve(n)]}})})}(e,t)},t}(Kt);function ad(e){var t=e.port,n=e.query,r=e.protocol,i=e.path,o=e.hostname;r&&":"!==r.substr(-1)&&(r+=":"),t&&(o+=":"+t),i&&"/"!==i.charAt(0)&&(i="/"+i);var s=n?ln(n):"";return s&&"?"!==s[0]&&(s="?"+s),r+"//"+o+i+s}function ud(e,t){return(0,X.__awaiter)(this,void 0,void 0,function(){var n,r,i=this;return(0,X.__generator)(this,function(o){switch(o.label){case 0:return n=function(e){return function(e){return(0,X.__awaiter)(i,void 0,void 0,function(){return(0,X.__generator)(this,function(t){return[2,{output:{request:e.request},response:void 0}]})})}},(r=e.middlewareStack.clone()).add(n,{step:"build",priority:"low"}),[4,t.resolveMiddleware(r,e.config,void 0)(t).then(function(e){return e.output.request})];case 1:return[2,o.sent()]}})})}var cd,ld,fd,dd=function(){function e(e){var t=(0,X.__assign)({service:e.signingName||e.service||"s3",uriEscapePath:e.uriEscapePath||!1},e);this.signer=new jr(t)}return e.prototype.presign=function(e,t){void 0===t&&(t={});var n=t.unsignableHeaders,r=void 0===n?new Set:n,i=t.unhoistableHeaders,o=void 0===i?new Set:i,s=(0,X.__rest)(t,["unsignableHeaders","unhoistableHeaders"]);return(0,X.__awaiter)(this,void 0,void 0,function(){return(0,X.__generator)(this,function(t){return r.add("content-type"),Object.keys(e.headers).map(function(e){return e.toLowerCase()}).filter(function(e){return e.startsWith("x-amz-server-side-encryption")}).forEach(function(e){o.add(e)}),e.headers["X-Amz-Content-Sha256"]="UNSIGNED-PAYLOAD",e.headers.host||(e.headers.host=e.hostname),[2,this.signer.presign(e,(0,X.__assign)({expiresIn:900,unsignableHeaders:r,unhoistableHeaders:o},s))]})})},e}(),hd=n(5353),pd=n.n(hd);!function(e){e.NO_CREDENTIALS="No credentials",e.NO_SRC_KEY='source param should be an object with the property "key" with value of type string',e.NO_DEST_KEY='destination param should be an object with the property "key" with value of type string',e.INVALID_BLOB="Object must be an instance of Blob"}(cd||(cd={})),function(e){e.CLEANUP_FAILED="Multipart copy clean up failed",e.NO_OBJECT_FOUND="Object does not exist",e.INVALID_QUEUESIZE="Queue size must be a positive number",e.NO_COPYSOURCE="You must specify a copy source",e.MAX_NUM_PARTS_EXCEEDED="Only a maximum of 10000 parts are allowed"}(ld||(ld={})),function(e){e.UPLOAD_PAUSED_MESSAGE="paused"}(fd||(fd={}));var gd=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},vd=new o("axios-http-handler"),yd="sendUploadProgress",md="sendDownloadProgress",bd=function(e,t){var n,r;try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.entries(e)),o=i.next();!o.done;o=i.next()){var s=gd(o.value,2),a=s[0],u=s[1];a!==t&&a.toUpperCase()===t.toUpperCase()&&(e[t]=u,delete e[a])}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},Sd=[function(e,t){return"undefined"!=typeof Blob&&e instanceof Blob?(bd(t,"Content-Type"),bd(t,"Accept"),e):pd().defaults.transformRequest[0].call(null,e,t)}],wd=function(){function e(e,t,n){void 0===e&&(e={}),this.httpOptions=e,this.emitter=t,this.cancelTokenSource=n}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=this.httpOptions.requestTimeout,r=t.emitter||this.emitter,i=e.path;if(e.query){var o=ln(e.query);o&&(i+="?"+o)}var s=e.port,a=e.protocol+"//"+e.hostname+(s?":"+s:"")+i,u={};u.url=a,u.method=e.method,u.headers=e.headers,delete u.headers.host,e.body?u.data=e.body:u.headers[Object.keys(u.headers).find(function(e){return"content-type"===e.toLowerCase()})]&&(u.data=null),r&&(u.onUploadProgress=function(e){r.emit(yd,e),vd.debug(e)},u.onDownloadProgress=function(e){r.emit(md,e),vd.debug(e)}),this.cancelTokenSource&&(u.cancelToken=this.cancelTokenSource.token),t.cancelTokenSource&&(u.cancelToken=t.cancelTokenSource.token),u.responseType="blob",ti.isReactNative&&(u.transformRequest=Sd);var c,l=[pd().request(u).then(function(e){return{response:new at({headers:e.headers,statusCode:e.status,body:e.data})}}).catch(function(e){var t,n;if(e.message!==fd.UPLOAD_PAUSED_MESSAGE&&vd.error(e.message),pd().isCancel(e)||!function(e){return void 0!==e&&Object.prototype.hasOwnProperty.call(e,"response")&&void 0!==e.response&&Object.prototype.hasOwnProperty.call(e.response,"status")&&"number"==typeof e.response.status}(e))throw e;return{response:new at({statusCode:e.response.status,body:null===(t=e.response)||void 0===t?void 0:t.data,headers:null===(n=e.response)||void 0===n?void 0:n.headers})}}),(c=n,void 0===c&&(c=0),new Promise(function(e,t){c&&setTimeout(function(){var e=new Error("Request did not complete within "+c+" ms");e.name="TimeoutError",t(e)},c)}))];return Promise.race(l)},e}();var _d="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",Ed="contentLengthMiddleware",Cd="__uploadInProgress",Ad=function(e,t,n,r,i){if(e){var o={attrs:n};r&&(o.metrics=r),U.dispatch("storage",{event:t,data:o,message:i},"Storage",_d)}},Pd=n(2690),xd=function(){function e(e){if(this.bytes=e,8!==e.byteLength)throw new Error("Int64 buffers must be exactly 8 bytes")}return e.fromNumber=function(t){if(t>0x8000000000000000||t<-0x8000000000000000)throw new Error(t+" is too large (or, if negative, too small) to represent as an Int64");for(var n=new Uint8Array(8),r=7,i=Math.abs(Math.round(t));r>-1&&i>0;r--,i/=256)n[r]=i;return t<0&&kd(n),new e(n)},e.prototype.valueOf=function(){var e=this.bytes.slice(0),t=128&e[0];return t&&kd(e),parseInt(hr(e),16)*(t?-1:1)},e.prototype.toString=function(){return String(this.valueOf())},e}();function kd(e){for(var t=0;t<8;t++)e[t]^=255;for(t=7;t>-1&&(e[t]++,0===e[t]);t--);}var Id,Td=function(){function e(e,t){this.toUtf8=e,this.fromUtf8=t}return e.prototype.format=function(e){var t,n,r,i,o=[];try{for(var s=(0,X.__values)(Object.keys(e)),a=s.next();!a.done;a=s.next()){var u=a.value,c=this.fromUtf8(u);o.push(Uint8Array.from([c.byteLength]),c,this.formatHeaderValue(e[u]))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}var l=new Uint8Array(o.reduce(function(e,t){return e+t.byteLength},0)),f=0;try{for(var d=(0,X.__values)(o),h=d.next();!h.done;h=d.next()){var p=h.value;l.set(p,f),f+=p.byteLength}}catch(e){r={error:e}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}return l},e.prototype.formatHeaderValue=function(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":var t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":var n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":var r=new Uint8Array(9);return r[0]=5,r.set(e.value.bytes,1),r;case"binary":var i=new DataView(new ArrayBuffer(3+e.value.byteLength));i.setUint8(0,6),i.setUint16(1,e.value.byteLength,!1);var o=new Uint8Array(i.buffer);return o.set(e.value,3),o;case"string":var s=this.fromUtf8(e.value),a=new DataView(new ArrayBuffer(3+s.byteLength));a.setUint8(0,7),a.setUint16(1,s.byteLength,!1);var u=new Uint8Array(a.buffer);return u.set(s,3),u;case"timestamp":var c=new Uint8Array(9);return c[0]=8,c.set(xd.fromNumber(e.value.valueOf()).bytes,1),c;case"uuid":if(!Fd.test(e.value))throw new Error("Invalid UUID received: "+e.value);var l=new Uint8Array(17);return l[0]=9,l.set(function(e){if(e.length%2!=0)throw new Error("Hex encoded strings must have an even number length");for(var t=new Uint8Array(e.length/2),n=0;n<e.length;n+=2){var r=e.substr(n,2).toLowerCase();if(!(r in lr))throw new Error("Cannot decode unrecognized sequence "+r+" as hexadecimal");t[n/2]=lr[r]}return t}(e.value.replace(/\-/g,"")),1),l}},e.prototype.parse=function(e){for(var t={},n=0;n<e.byteLength;){var r=e.getUint8(n++),i=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,r));switch(n+=r,e.getUint8(n++)){case 0:t[i]={type:Od,value:!0};break;case 1:t[i]={type:Od,value:!1};break;case 2:t[i]={type:Ud,value:e.getInt8(n++)};break;case 3:t[i]={type:Md,value:e.getInt16(n,!1)},n+=2;break;case 4:t[i]={type:Ld,value:e.getInt32(n,!1)},n+=4;break;case 5:t[i]={type:Rd,value:new xd(new Uint8Array(e.buffer,e.byteOffset+n,8))},n+=8;break;case 6:var o=e.getUint16(n,!1);n+=2,t[i]={type:Nd,value:new Uint8Array(e.buffer,e.byteOffset+n,o)},n+=o;break;case 7:var s=e.getUint16(n,!1);n+=2,t[i]={type:Dd,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,s))},n+=s;break;case 8:t[i]={type:jd,value:new Date(new xd(new Uint8Array(e.buffer,e.byteOffset+n,8)).valueOf())},n+=8;break;case 9:var a=new Uint8Array(e.buffer,e.byteOffset+n,16);n+=16,t[i]={type:Bd,value:hr(a.subarray(0,4))+"-"+hr(a.subarray(4,6))+"-"+hr(a.subarray(6,8))+"-"+hr(a.subarray(8,10))+"-"+hr(a.subarray(10))};break;default:throw new Error("Unrecognized header type tag")}}return t},e}();!function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"}(Id||(Id={}));var Od="boolean",Ud="byte",Md="short",Ld="integer",Rd="long",Nd="binary",Dd="string",jd="timestamp",Bd="uuid",Fd=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,zd=function(){function e(e,t){this.headerMarshaller=new Td(e,t)}return e.prototype.marshall=function(e){var t=e.headers,n=e.body,r=this.headerMarshaller.format(t),i=r.byteLength+n.byteLength+16,o=new Uint8Array(i),s=new DataView(o.buffer,o.byteOffset,o.byteLength),a=new Pd.Crc32;return s.setUint32(0,i,!1),s.setUint32(4,r.byteLength,!1),s.setUint32(8,a.update(o.subarray(0,8)).digest(),!1),o.set(r,12),o.set(n,r.byteLength+12),s.setUint32(i-4,a.update(o.subarray(8,i-4)).digest(),!1),o},e.prototype.unmarshall=function(e){var t=function(e){var t=e.byteLength,n=e.byteOffset,r=e.buffer;if(t<16)throw new Error("Provided message too short to accommodate event stream message overhead");var i=new DataView(r,n,t),o=i.getUint32(0,!1);if(t!==o)throw new Error("Reported message length does not match received message length");var s=i.getUint32(4,!1),a=i.getUint32(8,!1),u=i.getUint32(t-4,!1),c=(new Pd.Crc32).update(new Uint8Array(r,n,8));if(a!==c.digest())throw new Error("The prelude checksum specified in the message ("+a+") does not match the calculated CRC32 checksum ("+c.digest()+")");if(c.update(new Uint8Array(r,n+8,t-12)),u!==c.digest())throw new Error("The message checksum ("+c.digest()+") did not match the expected value of "+u);return{headers:new DataView(r,n+8+4,s),body:new Uint8Array(r,n+8+4+s,o-s-16)}}(e),n=t.headers,r=t.body;return{headers:this.headerMarshaller.parse(n),body:r}},e.prototype.formatHeaders=function(e){return this.headerMarshaller.format(e)},e}();var Kd=function(){function e(e){var t=e.utf8Encoder,n=e.utf8Decoder;this.eventMarshaller=new zd(t,n),this.utfEncoder=t}return e.prototype.deserialize=function(e,t){var n,r,i,o=function(e){var t,n=0,r=0,i=null,o=null;return(t={})[Symbol.asyncIterator]=function(){return(0,X.__asyncGenerator)(this,arguments,function(){var t,s,a,u,c,l,f,d;return(0,X.__generator)(this,function(h){switch(h.label){case 0:t=e[Symbol.asyncIterator](),h.label=1;case 1:return[4,(0,X.__await)(t.next())];case 2:return s=h.sent(),a=s.value,s.done?n?[3,4]:[4,(0,X.__await)(void 0)]:[3,10];case 3:return[2,h.sent()];case 4:return n!==r?[3,7]:[4,(0,X.__await)(i)];case 5:return[4,h.sent()];case 6:return h.sent(),[3,8];case 7:throw new Error("Truncated event message received.");case 8:return[4,(0,X.__await)(void 0)];case 9:return[2,h.sent()];case 10:u=a.length,c=0,h.label=11;case 11:if(!(c<u))return[3,15];if(!i){if(l=u-c,o||(o=new Uint8Array(4)),f=Math.min(4-r,l),o.set(a.slice(c,c+f),r),c+=f,(r+=f)<4)return[3,15];!function(e){if("number"!=typeof e)throw new Error("Attempted to allocate an event message where size was not a number: "+e);n=e,r=4,i=new Uint8Array(e),new DataView(i.buffer).setUint32(0,e,!1)}(new DataView(o.buffer).getUint32(0,!1)),o=null}return d=Math.min(n-r,u-c),i.set(a.slice(c,c+d),r),r+=d,c+=d,n&&n===r?[4,(0,X.__await)(i)]:[3,14];case 12:return[4,h.sent()];case 13:h.sent(),i=null,n=0,r=0,h.label=14;case 14:return[3,11];case 15:return[3,1];case 16:return[2]}})})},t}(e),s=(n=o,r={eventMarshaller:this.eventMarshaller,deserializer:t,toUtf8:this.utfEncoder},(i={})[Symbol.asyncIterator]=function(){return(0,X.__asyncGenerator)(this,arguments,function(){var e,t,i,o,s,a,u,c,l,f,d,h,p,g,v,y,m;return(0,X.__generator)(this,function(b){switch(b.label){case 0:b.trys.push([0,12,13,18]),e=(0,X.__asyncValues)(n),b.label=1;case 1:return[4,(0,X.__await)(e.next())];case 2:if((t=b.sent()).done)return[3,11];if(i=t.value,o=r.eventMarshaller.unmarshall(i),"error"!==(s=o.headers[":message-type"].value))return[3,3];throw(a=new Error(o.headers[":error-message"].value||"UnknownError")).name=o.headers[":error-code"].value,a;case 3:return"exception"!==s?[3,5]:(u=o.headers[":exception-type"].value,(g={})[u]=o,c=g,[4,(0,X.__await)(r.deserializer(c))]);case 4:if((l=b.sent()).$unknown)throw(f=new Error(r.toUtf8(o.body))).name=u,f;throw l[u];case 5:return"event"!==s?[3,9]:((v={})[o.headers[":event-type"].value]=o,d=v,[4,(0,X.__await)(r.deserializer(d))]);case 6:return(h=b.sent()).$unknown?[3,10]:[4,(0,X.__await)(h)];case 7:return[4,b.sent()];case 8:return b.sent(),[3,10];case 9:throw Error("Unrecognizable event type: "+o.headers[":event-type"].value);case 10:return[3,1];case 11:return[3,18];case 12:return p=b.sent(),y={error:p},[3,18];case 13:return b.trys.push([13,,16,17]),t&&!t.done&&(m=e.return)?[4,(0,X.__await)(m.call(e))]:[3,15];case 14:b.sent(),b.label=15;case 15:return[3,17];case 16:if(y)throw y.error;return[7];case 17:return[7];case 18:return[2]}})})},i);return s},e.prototype.serialize=function(e,t){var n,r=this;return(n={})[Symbol.asyncIterator]=function(){return(0,X.__asyncGenerator)(this,arguments,function(){var n,i,o,s,a,u,c;return(0,X.__generator)(this,function(l){switch(l.label){case 0:l.trys.push([0,7,8,13]),n=(0,X.__asyncValues)(e),l.label=1;case 1:return[4,(0,X.__await)(n.next())];case 2:return(i=l.sent()).done?[3,6]:(o=i.value,s=r.eventMarshaller.marshall(t(o)),[4,(0,X.__await)(s)]);case 3:return[4,l.sent()];case 4:l.sent(),l.label=5;case 5:return[3,1];case 6:return[3,13];case 7:return a=l.sent(),u={error:a},[3,13];case 8:return l.trys.push([8,,11,12]),i&&!i.done&&(c=n.return)?[4,(0,X.__await)(c.call(n))]:[3,10];case 9:l.sent(),l.label=10;case 10:return[3,12];case 11:if(u)throw u.error;return[7];case 12:return[7];case 13:return[4,(0,X.__await)(new Uint8Array(0))];case 14:return[4,l.sent()];case 15:return l.sent(),[2]}})})},n},e}(),qd=function(){function e(e){var t=e.utf8Encoder,n=e.utf8Decoder;this.eventMarshaller=new zd(t,n),this.universalMarshaller=new Kd({utf8Decoder:n,utf8Encoder:t})}return e.prototype.deserialize=function(e,t){var n,r,i=Hd(e)?(n=e,(r={})[Symbol.asyncIterator]=function(){return(0,X.__asyncGenerator)(this,arguments,function(){var e,t,r,i;return(0,X.__generator)(this,function(o){switch(o.label){case 0:e=n.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,(0,X.__await)(e.read())];case 3:return t=o.sent(),r=t.done,i=t.value,r?[4,(0,X.__await)(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,(0,X.__await)(i)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}})})},r):e;return this.universalMarshaller.deserialize(i,t)},e.prototype.serialize=function(e,t){var n,r=this.universalMarshaller.serialize(e,t);return"function"==typeof ReadableStream?(n=r[Symbol.asyncIterator](),new ReadableStream({pull:function(e){return(0,X.__awaiter)(this,void 0,void 0,function(){var t,r,i;return(0,X.__generator)(this,function(o){switch(o.label){case 0:return[4,n.next()];case 1:return t=o.sent(),r=t.done,i=t.value,r?[2,e.close()]:(e.enqueue(i),[2])}})})}})):r},e}(),Hd=function(e){return"function"==typeof ReadableStream&&e instanceof ReadableStream};function Vd(e,t,n){return void 0===n&&(n=1048576),new Promise(function(r,i){var o=new FileReader;o.addEventListener("error",i),o.addEventListener("abort",i);var s=e.size,a=0;function u(){a>=s?r():o.readAsArrayBuffer(e.slice(a,Math.min(s,a+n)))}o.addEventListener("load",function(e){var n=e.target.result;t(new Uint8Array(n)),a+=n.byteLength,u()}),u()})}var Wd=[1732584193,4023233417,2562383102,271733878],Gd=function(){function e(){this.state=Uint32Array.from(Wd),this.buffer=new DataView(new ArrayBuffer(64)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(!function(e){return"string"==typeof e?0===e.length:0===e.byteLength}(e)){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=function(e){return"string"==typeof e?(0,zn.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}(e),n=0,r=t.byteLength;for(this.bytesHashed+=r;r>0;)this.buffer.setUint8(this.bufferLength++,t[n++]),r--,64===this.bufferLength&&(this.hashBuffer(),this.bufferLength=0)}},e.prototype.digest=function(){return(0,X.__awaiter)(this,void 0,void 0,function(){var e,t,n,r,i,o,s;return(0,X.__generator)(this,function(a){if(!this.finished){if(t=(e=this).buffer,n=e.bufferLength,r=e.bytesHashed,i=8*r,t.setUint8(this.bufferLength++,128),n%64>=56){for(s=this.bufferLength;s<64;s++)t.setUint8(s,0);this.hashBuffer(),this.bufferLength=0}for(s=this.bufferLength;s<56;s++)t.setUint8(s,0);t.setUint32(56,i>>>0,!0),t.setUint32(60,Math.floor(i/4294967296),!0),this.hashBuffer(),this.finished=!0}for(o=new DataView(new ArrayBuffer(16)),s=0;s<4;s++)o.setUint32(4*s,this.state[s],!0);return[2,new Uint8Array(o.buffer,o.byteOffset,o.byteLength)]})})},e.prototype.hashBuffer=function(){var e=this.buffer,t=this.state,n=t[0],r=t[1],i=t[2],o=t[3];n=Jd(n,r,i,o,e.getUint32(0,!0),7,3614090360),o=Jd(o,n,r,i,e.getUint32(4,!0),12,3905402710),i=Jd(i,o,n,r,e.getUint32(8,!0),17,606105819),r=Jd(r,i,o,n,e.getUint32(12,!0),22,3250441966),n=Jd(n,r,i,o,e.getUint32(16,!0),7,4118548399),o=Jd(o,n,r,i,e.getUint32(20,!0),12,1200080426),i=Jd(i,o,n,r,e.getUint32(24,!0),17,2821735955),r=Jd(r,i,o,n,e.getUint32(28,!0),22,4249261313),n=Jd(n,r,i,o,e.getUint32(32,!0),7,1770035416),o=Jd(o,n,r,i,e.getUint32(36,!0),12,2336552879),i=Jd(i,o,n,r,e.getUint32(40,!0),17,4294925233),r=Jd(r,i,o,n,e.getUint32(44,!0),22,2304563134),n=Jd(n,r,i,o,e.getUint32(48,!0),7,1804603682),o=Jd(o,n,r,i,e.getUint32(52,!0),12,4254626195),i=Jd(i,o,n,r,e.getUint32(56,!0),17,2792965006),n=Yd(n,r=Jd(r,i,o,n,e.getUint32(60,!0),22,1236535329),i,o,e.getUint32(4,!0),5,4129170786),o=Yd(o,n,r,i,e.getUint32(24,!0),9,3225465664),i=Yd(i,o,n,r,e.getUint32(44,!0),14,643717713),r=Yd(r,i,o,n,e.getUint32(0,!0),20,3921069994),n=Yd(n,r,i,o,e.getUint32(20,!0),5,3593408605),o=Yd(o,n,r,i,e.getUint32(40,!0),9,38016083),i=Yd(i,o,n,r,e.getUint32(60,!0),14,3634488961),r=Yd(r,i,o,n,e.getUint32(16,!0),20,3889429448),n=Yd(n,r,i,o,e.getUint32(36,!0),5,568446438),o=Yd(o,n,r,i,e.getUint32(56,!0),9,3275163606),i=Yd(i,o,n,r,e.getUint32(12,!0),14,4107603335),r=Yd(r,i,o,n,e.getUint32(32,!0),20,1163531501),n=Yd(n,r,i,o,e.getUint32(52,!0),5,2850285829),o=Yd(o,n,r,i,e.getUint32(8,!0),9,4243563512),i=Yd(i,o,n,r,e.getUint32(28,!0),14,1735328473),n=Zd(n,r=Yd(r,i,o,n,e.getUint32(48,!0),20,2368359562),i,o,e.getUint32(20,!0),4,4294588738),o=Zd(o,n,r,i,e.getUint32(32,!0),11,2272392833),i=Zd(i,o,n,r,e.getUint32(44,!0),16,1839030562),r=Zd(r,i,o,n,e.getUint32(56,!0),23,4259657740),n=Zd(n,r,i,o,e.getUint32(4,!0),4,2763975236),o=Zd(o,n,r,i,e.getUint32(16,!0),11,1272893353),i=Zd(i,o,n,r,e.getUint32(28,!0),16,4139469664),r=Zd(r,i,o,n,e.getUint32(40,!0),23,3200236656),n=Zd(n,r,i,o,e.getUint32(52,!0),4,681279174),o=Zd(o,n,r,i,e.getUint32(0,!0),11,3936430074),i=Zd(i,o,n,r,e.getUint32(12,!0),16,3572445317),r=Zd(r,i,o,n,e.getUint32(24,!0),23,76029189),n=Zd(n,r,i,o,e.getUint32(36,!0),4,3654602809),o=Zd(o,n,r,i,e.getUint32(48,!0),11,3873151461),i=Zd(i,o,n,r,e.getUint32(60,!0),16,530742520),n=Xd(n,r=Zd(r,i,o,n,e.getUint32(8,!0),23,3299628645),i,o,e.getUint32(0,!0),6,4096336452),o=Xd(o,n,r,i,e.getUint32(28,!0),10,1126891415),i=Xd(i,o,n,r,e.getUint32(56,!0),15,2878612391),r=Xd(r,i,o,n,e.getUint32(20,!0),21,4237533241),n=Xd(n,r,i,o,e.getUint32(48,!0),6,1700485571),o=Xd(o,n,r,i,e.getUint32(12,!0),10,2399980690),i=Xd(i,o,n,r,e.getUint32(40,!0),15,4293915773),r=Xd(r,i,o,n,e.getUint32(4,!0),21,2240044497),n=Xd(n,r,i,o,e.getUint32(32,!0),6,1873313359),o=Xd(o,n,r,i,e.getUint32(60,!0),10,4264355552),i=Xd(i,o,n,r,e.getUint32(24,!0),15,2734768916),r=Xd(r,i,o,n,e.getUint32(52,!0),21,1309151649),n=Xd(n,r,i,o,e.getUint32(16,!0),6,4149444226),o=Xd(o,n,r,i,e.getUint32(44,!0),10,3174756917),i=Xd(i,o,n,r,e.getUint32(8,!0),15,718787259),r=Xd(r,i,o,n,e.getUint32(36,!0),21,3951481745),t[0]=n+t[0]&4294967295,t[1]=r+t[1]&4294967295,t[2]=i+t[2]&4294967295,t[3]=o+t[3]&4294967295},e}();function $d(e,t,n,r,i,o){return((t=(t+e&4294967295)+(r+o&4294967295)&4294967295)<<i|t>>>32-i)+n&4294967295}function Jd(e,t,n,r,i,o,s){return $d(t&n|~t&r,e,t,i,o,s)}function Yd(e,t,n,r,i,o,s){return $d(t&r|n&~r,e,t,i,o,s)}function Zd(e,t,n,r,i,o,s){return $d(t^n^r,e,t,i,o,s)}function Xd(e,t,n,r,i,o,s){return $d(n^(t|~r),e,t,i,o,s)}var Qd,eh,th,nh,rh,ih,oh,sh,ah,uh,ch,lh,fh,dh,hh,ph,gh,vh,yh,mh,bh,Sh,wh,_h,Eh,Ch,Ah,Ph,xh,kh,Ih,Th,Oh,Uh,Mh="s3.{region}.amazonaws.com",Lh=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),Rh=new Set(["cn-north-1","cn-northwest-1"]),Nh=new Set(["us-iso-east-1"]),Dh=new Set(["us-isob-east-1"]),jh=new Set(["us-gov-east-1","us-gov-west-1"]),Bh={apiVersion:"2006-03-01",disableHostPrefix:!1,logger:{},regionInfoProvider:function(e,t){var n=void 0;switch(e){case"af-south-1":n={hostname:"s3.af-south-1.amazonaws.com",partition:"aws"};break;case"ap-east-1":n={hostname:"s3.ap-east-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-1":n={hostname:"s3.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":n={hostname:"s3.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":n={hostname:"s3.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":n={hostname:"s3.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":n={hostname:"s3.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"aws-global":n={hostname:"s3.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"ca-central-1":n={hostname:"s3.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":n={hostname:"s3.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"cn-northwest-1":n={hostname:"s3.cn-northwest-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":n={hostname:"s3.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":n={hostname:"s3.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-south-1":n={hostname:"s3.eu-south-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":n={hostname:"s3.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":n={hostname:"s3.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":n={hostname:"s3.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-gov-west-1":n={hostname:"s3-fips.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"me-south-1":n={hostname:"s3.me-south-1.amazonaws.com",partition:"aws"};break;case"s3-external-1":n={hostname:"s3-external-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"sa-east-1":n={hostname:"s3.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":n={hostname:"s3.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":n={hostname:"s3.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-east-1":n={hostname:"s3.us-gov-east-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-gov-west-1":n={hostname:"s3.us-gov-west-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-iso-east-1":n={hostname:"s3.us-iso-east-1.c2s.ic.gov",partition:"aws-iso"};break;case"us-isob-east-1":n={hostname:"s3.us-isob-east-1.sc2s.sgov.gov",partition:"aws-iso-b"};break;case"us-west-1":n={hostname:"s3.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":n={hostname:"s3.us-west-2.amazonaws.com",partition:"aws"};break;default:Lh.has(e)&&(n={hostname:Mh.replace("{region}",e),partition:"aws"}),Rh.has(e)&&(n={hostname:"s3.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),Nh.has(e)&&(n={hostname:"s3.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),Dh.has(e)&&(n={hostname:"s3.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),jh.has(e)&&(n={hostname:"s3.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov"}),void 0===n&&(n={hostname:Mh.replace("{region}",e),partition:"aws"})}return Promise.resolve(nf({signingService:"s3"},n))},serviceId:"S3",signingEscapePath:!1,urlParser:$n,useArnRegion:!1},Fh=nf(nf({},Bh),{runtime:"browser",base64Decoder:bn,base64Encoder:Sn,bodyLengthChecker:Dn,credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:Fn({serviceId:Bh.serviceId,clientVersion:"3.6.1"}),eventStreamSerdeProvider:function(e){return new qd(e)},maxAttempts:3,md5:Gd,region:En("Region is missing"),requestHandler:new fn,sha256:an.Sha256,streamCollector:wn,streamHasher:function(e,t){return(0,X.__awaiter)(this,void 0,void 0,function(){var n;return(0,X.__generator)(this,function(r){switch(r.label){case 0:return n=new e,[4,Vd(t,function(e){n.update(e)})];case 1:return r.sent(),[2,n.digest()]}})})},utf8Decoder:zn.fromUtf8,utf8Encoder:zn.toUtf8}),zh={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},Kh=function(e){function t(t){var n,r,i,o,s,a,u,c,l,f,d,h,p,g=this,v=nf(nf({},Fh),t),y=er(v),m=qr(Zn(y)),b=function(e){return(0,X.__assign)((0,X.__assign)({},e),{eventStreamMarshaller:e.eventStreamSerdeProvider(e)})}(Gr((i=void 0!==(r=(n=Rn(m)).bucketEndpoint)&&r,s=void 0!==(o=n.forcePathStyle)&&o,u=void 0!==(a=n.useAccelerateEndpoint)&&a,l=void 0!==(c=n.useDualstackEndpoint)&&c,f=n.useArnRegion,d=void 0!==f&&f,(0,X.__assign)((0,X.__assign)({},n),{bucketEndpoint:i,forcePathStyle:s,useAccelerateEndpoint:u,useDualstackEndpoint:l,useArnRegion:"function"==typeof d?d:function(){return Promise.resolve(d)}}))));return(g=e.call(this,b)||this).config=b,g.middlewareStack.use((h=g.config,{applyToStack:function(e){e.addRelativeTo(Vr(h),Wr)}})),g.middlewareStack.use(An(g.config)),g.middlewareStack.use(ir(g.config)),g.middlewareStack.use(sr(g.config)),g.middlewareStack.use(ur(g.config)),g.middlewareStack.use((g.config,{applyToStack:function(e){e.add(function(){var e=this;return function(t){return function(n){return(0,X.__awaiter)(e,void 0,void 0,function(){var e,r;return(0,X.__generator)(this,function(i){if("string"==typeof(e=n.input.Bucket)&&!Uf(e)&&e.indexOf("/")>=0)throw(r=new Error("Bucket name shouldn't contain '/', received '"+e+"'")).name="InvalidBucketName",r;return[2,t((0,X.__assign)({},n))]})})}}}(),Yf)}})),g.middlewareStack.use((p=g.config,{applyToStack:function(e){e.add(function(e){return function(t){return function(n){return(0,X.__awaiter)(void 0,void 0,void 0,function(){var r,i;return(0,X.__generator)(this,function(o){switch(o.label){case 0:return r=n.request,!ut.isInstance(r)||e.isCustomEndpoint?[2,t((0,X.__assign)({},n))]:"s3.amazonaws.com"!==r.hostname?[3,1]:(r.hostname="s3.us-east-1.amazonaws.com",[3,3]);case 1:return i="aws-global",[4,e.region()];case 2:i===o.sent()&&(r.hostname="s3.amazonaws.com"),o.label=3;case 3:return[2,t((0,X.__assign)({},n))]}})})}}}(p),Zf)}})),g.middlewareStack.use(function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(r){return(0,X.__awaiter)(t,void 0,void 0,function(){var t;return(0,X.__generator)(this,function(i){return t=r.request,ut.isInstance(t)&&t.body&&"node"===e.runtime&&(t.headers=(0,X.__assign)((0,X.__assign)({},t.headers),{Expect:"100-continue"})),[2,n((0,X.__assign)((0,X.__assign)({},r),{request:t}))]})})}}}(e),zh)}}}(g.config)),g.middlewareStack.use(Xr(g.config)),g}return vs(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(zt),qh=function(){return qh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},qh.apply(this,arguments)},Hh=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})},Vh=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},Wh=new o("S3ClientUtils"),Gh={accessKeyId:"",secretAccessKey:""},$h=function(e){var t=e.credentials,n=e.level,r=e.customPrefix||{},i=e.identityId||t.identityId,o=(void 0!==r.private?r.private:"private/")+i+"/",s=(void 0!==r.protected?r.protected:"protected/")+i+"/",a=void 0!==r.public?r.public:"public/";switch(n){case"private":return o;case"protected":return s;default:return a}},Jh=function(e,t){return function(n,r){return function(r){return Hh(void 0,void 0,void 0,function(){var i,o,s,a;return Vh(this,function(u){switch(u.label){case 0:return[4,li.get()];case 1:return i=u.sent(),o=li.shear(i),s=$h(qh(qh({},e),{credentials:o})),a=Object.assign({},r.input),Object.prototype.hasOwnProperty.call(r.input,"Key")?(a.Key=s+t,r.input=a):Object.prototype.hasOwnProperty.call(r.input,"Prefix")&&(a.Prefix=s+t,r.input=a),[2,n(r)]}})})}}},Yh=function(e){return function(t,n){return function(n){return Hh(void 0,void 0,void 0,function(){var r,i;return Vh(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,t(n)];case 1:return[2,o.sent()];case 2:throw(s=r=o.sent()).ServerTime&&"string"==typeof s.Code&&"RequestTimeTooSkewed"===s.Code&&(i=new Date(r.ServerTime),e.systemClockOffset=i.getTime()-Date.now()),r;case 3:return[2]}var s})})}}},Zh={step:"finalizeRequest",name:"autoAdjustClockskewMiddleware"},Xh={step:"initialize",name:"addPrefixMiddleware"},Qh=function(){return Hh(void 0,void 0,void 0,function(){var e,t,n;return Vh(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,li.get()];case 1:return(e=r.sent())?(t=li.shear(e),Wh.debug("credentials provider get credentials",t),[2,t]):[2,Gh];case 2:return n=r.sent(),Wh.warn("credentials provider error",n),[2,Gh];case 3:return[2]}})})},ep=function(e,t){var n=e.region,r=e.cancelTokenSource,i=e.dangerouslyConnectToHttpEndpointForTesting,o=e.useAccelerateEndpoint,s={};i&&(s={endpoint:"http://localhost:20005",tls:!1,bucketEndpoint:!1,forcePathStyle:!0});var a=new Kh(qh(qh({region:n,credentials:Qh,customUserAgent:ni()},s),{requestHandler:new wd({},t,r),useAccelerateEndpoint:o}));return a.middlewareStack.remove(Ed),a},tp=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return vs(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Dt(t,this.serialize,this.deserialize)),this.middlewareStack.use(nd(t)),this.middlewareStack.use(Jf(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"PutObjectCommand",inputFilterSensitiveLog:Nl.filterSensitiveLog,outputFilterSensitiveLog:Rl.filterSensitiveLog},o=t.requestHandler;return r.resolve(function(e){return o.handle(e.request,n||{})},i)},t.prototype.serialize=function(e,t){return function(e,t){return rf(void 0,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,f,d;return of(this,function(h){switch(h.label){case 0:if(n=nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf({"content-type":"application/octet-stream"},If(e.ACL)&&{"x-amz-acl":e.ACL}),If(e.CacheControl)&&{"cache-control":e.CacheControl}),If(e.ContentDisposition)&&{"content-disposition":e.ContentDisposition}),If(e.ContentEncoding)&&{"content-encoding":e.ContentEncoding}),If(e.ContentLanguage)&&{"content-language":e.ContentLanguage}),If(e.ContentLength)&&{"content-length":e.ContentLength.toString()}),If(e.ContentMD5)&&{"content-md5":e.ContentMD5}),If(e.ContentType)&&{"content-type":e.ContentType}),If(e.Expires)&&{expires:Jt(e.Expires).toString()}),If(e.GrantFullControl)&&{"x-amz-grant-full-control":e.GrantFullControl}),If(e.GrantRead)&&{"x-amz-grant-read":e.GrantRead}),If(e.GrantReadACP)&&{"x-amz-grant-read-acp":e.GrantReadACP}),If(e.GrantWriteACP)&&{"x-amz-grant-write-acp":e.GrantWriteACP}),If(e.ServerSideEncryption)&&{"x-amz-server-side-encryption":e.ServerSideEncryption}),If(e.StorageClass)&&{"x-amz-storage-class":e.StorageClass}),If(e.WebsiteRedirectLocation)&&{"x-amz-website-redirect-location":e.WebsiteRedirectLocation}),If(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),If(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),If(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),If(e.SSEKMSKeyId)&&{"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId}),If(e.SSEKMSEncryptionContext)&&{"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext}),If(e.BucketKeyEnabled)&&{"x-amz-server-side-encryption-bucket-key-enabled":e.BucketKeyEnabled.toString()}),If(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),If(e.Tagging)&&{"x-amz-tagging":e.Tagging}),If(e.ObjectLockMode)&&{"x-amz-object-lock-mode":e.ObjectLockMode}),If(e.ObjectLockRetainUntilDate)&&{"x-amz-object-lock-retain-until-date":(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()}),If(e.ObjectLockLegalHoldStatus)&&{"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus}),If(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),void 0!==e.Metadata&&Object.keys(e.Metadata).reduce(function(t,n){var r;return nf(nf({},t),((r={})["x-amz-meta-"+n.toLowerCase()]=e.Metadata[n],r))},{})),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((i=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",qt(i)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((i=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",i.split("/").map(function(e){return qt(e)}).join("/")),o={"x-id":"PutObject"},void 0!==e.Body&&(a=e.Body,s=a),[4,t.endpoint()];case 1:return u=h.sent(),c=u.hostname,l=u.protocol,f=void 0===l?"https":l,d=u.port,[2,new ut({protocol:f,hostname:c,port:d,method:"PUT",headers:n,path:r,query:o,body:s})]}})})}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return rf(void 0,void 0,void 0,function(){var n;return of(this,function(r){switch(r.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,mf(e,t)]:(n={$metadata:xf(e),BucketKeyEnabled:void 0,ETag:void 0,Expiration:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSEncryptionContext:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,VersionId:void 0},void 0!==e.headers["x-amz-expiration"]&&(n.Expiration=e.headers["x-amz-expiration"]),void 0!==e.headers.etag&&(n.ETag=e.headers.etag),void 0!==e.headers["x-amz-server-side-encryption"]&&(n.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers["x-amz-version-id"]&&(n.VersionId=e.headers["x-amz-version-id"]),void 0!==e.headers["x-amz-server-side-encryption-customer-algorithm"]&&(n.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),void 0!==e.headers["x-amz-server-side-encryption-customer-key-md5"]&&(n.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(n.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-context"]&&(n.SSEKMSEncryptionContext=e.headers["x-amz-server-side-encryption-context"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(n.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,kf(e.body,t)]);case 1:return r.sent(),[2,Promise.resolve(n)]}})})}(e,t)},t}(Kt),np=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return vs(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Dt(t,this.serialize,this.deserialize)),this.middlewareStack.use(nd(t)),this.middlewareStack.use(Jf(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"CreateMultipartUploadCommand",inputFilterSensitiveLog:zs.filterSensitiveLog,outputFilterSensitiveLog:Fs.filterSensitiveLog},o=t.requestHandler;return r.resolve(function(e){return o.handle(e.request,n||{})},i)},t.prototype.serialize=function(e,t){return function(e,t){return rf(void 0,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l;return of(this,function(f){switch(f.label){case 0:if(n=nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf(nf({},If(e.ACL)&&{"x-amz-acl":e.ACL}),If(e.CacheControl)&&{"cache-control":e.CacheControl}),If(e.ContentDisposition)&&{"content-disposition":e.ContentDisposition}),If(e.ContentEncoding)&&{"content-encoding":e.ContentEncoding}),If(e.ContentLanguage)&&{"content-language":e.ContentLanguage}),If(e.ContentType)&&{"content-type":e.ContentType}),If(e.Expires)&&{expires:Jt(e.Expires).toString()}),If(e.GrantFullControl)&&{"x-amz-grant-full-control":e.GrantFullControl}),If(e.GrantRead)&&{"x-amz-grant-read":e.GrantRead}),If(e.GrantReadACP)&&{"x-amz-grant-read-acp":e.GrantReadACP}),If(e.GrantWriteACP)&&{"x-amz-grant-write-acp":e.GrantWriteACP}),If(e.ServerSideEncryption)&&{"x-amz-server-side-encryption":e.ServerSideEncryption}),If(e.StorageClass)&&{"x-amz-storage-class":e.StorageClass}),If(e.WebsiteRedirectLocation)&&{"x-amz-website-redirect-location":e.WebsiteRedirectLocation}),If(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),If(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),If(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),If(e.SSEKMSKeyId)&&{"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId}),If(e.SSEKMSEncryptionContext)&&{"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext}),If(e.BucketKeyEnabled)&&{"x-amz-server-side-encryption-bucket-key-enabled":e.BucketKeyEnabled.toString()}),If(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),If(e.Tagging)&&{"x-amz-tagging":e.Tagging}),If(e.ObjectLockMode)&&{"x-amz-object-lock-mode":e.ObjectLockMode}),If(e.ObjectLockRetainUntilDate)&&{"x-amz-object-lock-retain-until-date":(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()}),If(e.ObjectLockLegalHoldStatus)&&{"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus}),If(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),void 0!==e.Metadata&&Object.keys(e.Metadata).reduce(function(t,n){var r;return nf(nf({},t),((r={})["x-amz-meta-"+n.toLowerCase()]=e.Metadata[n],r))},{})),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((i=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",qt(i)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((i=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",i.split("/").map(function(e){return qt(e)}).join("/")),o={uploads:""},[4,t.endpoint()];case 1:return s=f.sent(),a=s.hostname,u=s.protocol,c=void 0===u?"https":u,l=s.port,[2,new ut({protocol:c,hostname:a,port:l,method:"POST",headers:n,path:r,query:o,body:void 0})]}})})}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return rf(void 0,void 0,void 0,function(){var n,r;return of(this,function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,hf(e,t)]:(n={$metadata:xf(e),AbortDate:void 0,AbortRuleId:void 0,Bucket:void 0,BucketKeyEnabled:void 0,Key:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSEncryptionContext:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,UploadId:void 0},void 0!==e.headers["x-amz-abort-date"]&&(n.AbortDate=new Date(e.headers["x-amz-abort-date"])),void 0!==e.headers["x-amz-abort-rule-id"]&&(n.AbortRuleId=e.headers["x-amz-abort-rule-id"]),void 0!==e.headers["x-amz-server-side-encryption"]&&(n.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers["x-amz-server-side-encryption-customer-algorithm"]&&(n.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),void 0!==e.headers["x-amz-server-side-encryption-customer-key-md5"]&&(n.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(n.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-context"]&&(n.SSEKMSEncryptionContext=e.headers["x-amz-server-side-encryption-context"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(n.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,Tf(e.body,t)]);case 1:return void 0!==(r=i.sent()).Bucket&&(n.Bucket=r.Bucket),void 0!==r.Key&&(n.Key=r.Key),void 0!==r.UploadId&&(n.UploadId=r.UploadId),[2,Promise.resolve(n)]}})})}(e,t)},t}(Kt);!function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Qd||(Qd={})),function(e){e.filterSensitiveLog=function(e){return nf(nf({},e),e.Encryption&&{Encryption:Zl.filterSensitiveLog(e.Encryption)})}}(eh||(eh={})),function(e){e.filterSensitiveLog=function(e){return nf(nf({},e),e.S3&&{S3:eh.filterSensitiveLog(e.S3)})}}(th||(th={})),function(e){e.IGNORE="IGNORE",e.NONE="NONE",e.USE="USE"}(nh||(nh={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(rh||(rh={})),function(e){e.DOCUMENT="DOCUMENT",e.LINES="LINES"}(ih||(ih={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(oh||(oh={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(sh||(sh={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(ah||(ah={})),function(e){e.ALWAYS="ALWAYS",e.ASNEEDED="ASNEEDED"}(uh||(uh={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(ch||(ch={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(lh||(lh={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(fh||(fh={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(dh||(dh={})),function(e){e.SELECT="SELECT"}(hh||(hh={})),function(e){e.filterSensitiveLog=function(e){return nf(nf({},e),e.OutputLocation&&{OutputLocation:th.filterSensitiveLog(e.OutputLocation)})}}(ph||(ph={})),function(e){e.filterSensitiveLog=function(e){return nf(nf({},e),e.RestoreRequest&&{RestoreRequest:ph.filterSensitiveLog(e.RestoreRequest)})}}(gh||(gh={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(vh||(vh={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(yh||(yh={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(mh||(mh={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(bh||(bh={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Sh||(Sh={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(wh||(wh={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(_h||(_h={})),function(e){e.visit=function(e,t){return void 0!==e.Records?t.Records(e.Records):void 0!==e.Stats?t.Stats(e.Stats):void 0!==e.Progress?t.Progress(e.Progress):void 0!==e.Cont?t.Cont(e.Cont):void 0!==e.End?t.End(e.End):t._(e.$unknown[0],e.$unknown[1])},e.filterSensitiveLog=function(e){var t;return void 0!==e.Records?{Records:Sh.filterSensitiveLog(e.Records)}:void 0!==e.Stats?{Stats:_h.filterSensitiveLog(e.Stats)}:void 0!==e.Progress?{Progress:bh.filterSensitiveLog(e.Progress)}:void 0!==e.Cont?{Cont:vh.filterSensitiveLog(e.Cont)}:void 0!==e.End?{End:yh.filterSensitiveLog(e.End)}:void 0!==e.$unknown?((t={})[e.$unknown[0]]="UNKNOWN",t):void 0}}(Eh||(Eh={})),function(e){e.filterSensitiveLog=function(e){return nf(nf({},e),e.Payload&&{Payload:"STREAMING_CONTENT"})}}(Ch||(Ch={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Ah||(Ah={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Ph||(Ph={})),function(e){e.filterSensitiveLog=function(e){return nf(nf({},e),e.SSECustomerKey&&{SSECustomerKey:Yt})}}(xh||(xh={})),function(e){e.filterSensitiveLog=function(e){return nf(nf({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:Yt})}}(kh||(kh={})),function(e){e.filterSensitiveLog=function(e){return nf(nf({},e),e.SSECustomerKey&&{SSECustomerKey:Yt})}}(Ih||(Ih={})),function(e){e.filterSensitiveLog=function(e){return nf({},e)}}(Th||(Th={})),function(e){e.filterSensitiveLog=function(e){return nf(nf({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:Yt})}}(Oh||(Oh={})),function(e){e.filterSensitiveLog=function(e){return nf(nf(nf({},e),e.SSECustomerKey&&{SSECustomerKey:Yt}),e.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:Yt})}}(Uh||(Uh={}));var rp,ip,op=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return vs(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Dt(t,this.serialize,this.deserialize)),this.middlewareStack.use(nd(t)),this.middlewareStack.use(Jf(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"UploadPartCommand",inputFilterSensitiveLog:Ih.filterSensitiveLog,outputFilterSensitiveLog:kh.filterSensitiveLog},o=t.requestHandler;return r.resolve(function(e){return o.handle(e.request,n||{})},i)},t.prototype.serialize=function(e,t){return function(e,t){return rf(void 0,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,f,d;return of(this,function(h){switch(h.label){case 0:if(n=nf(nf(nf(nf(nf(nf(nf({"content-type":"application/octet-stream"},If(e.ContentLength)&&{"content-length":e.ContentLength.toString()}),If(e.ContentMD5)&&{"content-md5":e.ContentMD5}),If(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),If(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),If(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),If(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),If(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((i=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",qt(i)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((i=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",i.split("/").map(function(e){return qt(e)}).join("/")),o=nf(nf({"x-id":"UploadPart"},void 0!==e.PartNumber&&{partNumber:e.PartNumber.toString()}),void 0!==e.UploadId&&{uploadId:e.UploadId}),void 0!==e.Body&&(a=e.Body,s=a),[4,t.endpoint()];case 1:return u=h.sent(),c=u.hostname,l=u.protocol,f=void 0===l?"https":l,d=u.port,[2,new ut({protocol:f,hostname:c,port:d,method:"PUT",headers:n,path:r,query:o,body:s})]}})})}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return rf(void 0,void 0,void 0,function(){var n;return of(this,function(r){switch(r.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,bf(e,t)]:(n={$metadata:xf(e),BucketKeyEnabled:void 0,ETag:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0},void 0!==e.headers["x-amz-server-side-encryption"]&&(n.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers.etag&&(n.ETag=e.headers.etag),void 0!==e.headers["x-amz-server-side-encryption-customer-algorithm"]&&(n.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),void 0!==e.headers["x-amz-server-side-encryption-customer-key-md5"]&&(n.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(n.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(n.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,kf(e.body,t)]);case 1:return r.sent(),[2,Promise.resolve(n)]}})})}(e,t)},t}(Kt),sp=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return vs(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Dt(t,this.serialize,this.deserialize)),this.middlewareStack.use(ed(t)),this.middlewareStack.use(Jf(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"CompleteMultipartUploadCommand",inputFilterSensitiveLog:Ts.filterSensitiveLog,outputFilterSensitiveLog:xs.filterSensitiveLog},o=t.requestHandler;return r.resolve(function(e){return o.handle(e.request,n||{})},i)},t.prototype.serialize=function(e,t){return function(e,t){return rf(void 0,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,f,d;return of(this,function(h){switch(h.label){case 0:if(n=nf(nf({"content-type":"application/xml"},If(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),If(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((i=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",qt(i)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((i=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",i.split("/").map(function(e){return qt(e)}).join("/")),o=nf({},void 0!==e.UploadId&&{uploadId:e.UploadId}),void 0!==e.MultipartUpload&&(a=function(e,t){var n=new af("CompletedMultipartUpload");return void 0!==e.Parts&&null!==e.Parts&&Af(e.Parts,t).map(function(e){e=e.withName("Part"),n.addChildNode(e)}),n}(e.MultipartUpload,t),s='<?xml version="1.0" encoding="UTF-8"?>',a.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),s+=a.toString()),[4,t.endpoint()];case 1:return u=h.sent(),c=u.hostname,l=u.protocol,f=void 0===l?"https":l,d=u.port,[2,new ut({protocol:f,hostname:c,port:d,method:"POST",headers:n,path:r,query:o,body:s})]}})})}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return rf(void 0,void 0,void 0,function(){var n,r;return of(this,function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,ff(e,t)]:(n={$metadata:xf(e),Bucket:void 0,BucketKeyEnabled:void 0,ETag:void 0,Expiration:void 0,Key:void 0,Location:void 0,RequestCharged:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,VersionId:void 0},void 0!==e.headers["x-amz-expiration"]&&(n.Expiration=e.headers["x-amz-expiration"]),void 0!==e.headers["x-amz-server-side-encryption"]&&(n.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers["x-amz-version-id"]&&(n.VersionId=e.headers["x-amz-version-id"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(n.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(n.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,Tf(e.body,t)]);case 1:return void 0!==(r=i.sent()).Bucket&&(n.Bucket=r.Bucket),void 0!==r.ETag&&(n.ETag=r.ETag),void 0!==r.Key&&(n.Key=r.Key),void 0!==r.Location&&(n.Location=r.Location),[2,Promise.resolve(n)]}})})}(e,t)},t}(Kt),ap=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return vs(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Dt(t,this.serialize,this.deserialize)),this.middlewareStack.use(Jf(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"AbortMultipartUploadCommand",inputFilterSensitiveLog:bs.filterSensitiveLog,outputFilterSensitiveLog:ms.filterSensitiveLog},o=t.requestHandler;return r.resolve(function(e){return o.handle(e.request,n||{})},i)},t.prototype.serialize=function(e,t){return function(e,t){return rf(void 0,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l;return of(this,function(f){switch(f.label){case 0:if(n=nf(nf({},If(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),If(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((i=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",qt(i)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((i=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",i.split("/").map(function(e){return qt(e)}).join("/")),o=nf({"x-id":"AbortMultipartUpload"},void 0!==e.UploadId&&{uploadId:e.UploadId}),[4,t.endpoint()];case 1:return s=f.sent(),a=s.hostname,u=s.protocol,c=void 0===u?"https":u,l=s.port,[2,new ut({protocol:c,hostname:a,port:l,method:"DELETE",headers:n,path:r,query:o,body:void 0})]}})})}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return rf(void 0,void 0,void 0,function(){var n;return of(this,function(r){switch(r.label){case 0:return 204!==e.statusCode&&e.statusCode>=300?[2,lf(e,t)]:(n={$metadata:xf(e),RequestCharged:void 0},void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,kf(e.body,t)]);case 1:return r.sent(),[2,Promise.resolve(n)]}})})}(e,t)},t}(Kt),up=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return vs(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Dt(t,this.serialize,this.deserialize)),this.middlewareStack.use(Jf(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"ListPartsCommand",inputFilterSensitiveLog:cl.filterSensitiveLog,outputFilterSensitiveLog:ul.filterSensitiveLog},o=t.requestHandler;return r.resolve(function(e){return o.handle(e.request,n||{})},i)},t.prototype.serialize=function(e,t){return function(e,t){return rf(void 0,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l;return of(this,function(f){switch(f.label){case 0:if(n=nf(nf({},If(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),If(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((i=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",qt(i)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((i=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",i.split("/").map(function(e){return qt(e)}).join("/")),o=nf(nf(nf({"x-id":"ListParts"},void 0!==e.MaxParts&&{"max-parts":e.MaxParts.toString()}),void 0!==e.PartNumberMarker&&{"part-number-marker":e.PartNumberMarker}),void 0!==e.UploadId&&{uploadId:e.UploadId}),[4,t.endpoint()];case 1:return s=f.sent(),a=s.hostname,u=s.protocol,c=void 0===u?"https":u,l=s.port,[2,new ut({protocol:c,hostname:a,port:l,method:"GET",headers:n,path:r,query:o,body:void 0})]}})})}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return rf(void 0,void 0,void 0,function(){var n,r;return of(this,function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,yf(e,t)]:(n={$metadata:xf(e),AbortDate:void 0,AbortRuleId:void 0,Bucket:void 0,Initiator:void 0,IsTruncated:void 0,Key:void 0,MaxParts:void 0,NextPartNumberMarker:void 0,Owner:void 0,PartNumberMarker:void 0,Parts:void 0,RequestCharged:void 0,StorageClass:void 0,UploadId:void 0},void 0!==e.headers["x-amz-abort-date"]&&(n.AbortDate=new Date(e.headers["x-amz-abort-date"])),void 0!==e.headers["x-amz-abort-rule-id"]&&(n.AbortRuleId=e.headers["x-amz-abort-rule-id"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,Tf(e.body,t)]);case 1:return void 0!==(r=i.sent()).Bucket&&(n.Bucket=r.Bucket),void 0!==r.Initiator&&(n.Initiator=function(e){var t={ID:void 0,DisplayName:void 0};return void 0!==e.ID&&(t.ID=e.ID),void 0!==e.DisplayName&&(t.DisplayName=e.DisplayName),t}(r.Initiator)),void 0!==r.IsTruncated&&(n.IsTruncated="true"==r.IsTruncated),void 0!==r.Key&&(n.Key=r.Key),void 0!==r.MaxParts&&(n.MaxParts=parseInt(r.MaxParts)),void 0!==r.NextPartNumberMarker&&(n.NextPartNumberMarker=r.NextPartNumberMarker),void 0!==r.Owner&&(n.Owner=Pf(r.Owner,t)),void 0!==r.PartNumberMarker&&(n.PartNumberMarker=r.PartNumberMarker),""===r.Part&&(n.Parts=[]),void 0!==r.Part&&(n.Parts=function(e){return(e||[]).filter(function(e){return null!=e}).map(function(e){return null===e?null:function(e){var t={PartNumber:void 0,LastModified:void 0,ETag:void 0,Size:void 0};return void 0!==e.PartNumber&&(t.PartNumber=parseInt(e.PartNumber)),void 0!==e.LastModified&&(t.LastModified=new Date(e.LastModified)),void 0!==e.ETag&&(t.ETag=e.ETag),void 0!==e.Size&&(t.Size=parseInt(e.Size)),t}(e)})}(Ht(r.Part))),void 0!==r.StorageClass&&(n.StorageClass=r.StorageClass),void 0!==r.UploadId&&(n.UploadId=r.UploadId),[2,Promise.resolve(n)]}})})}(e,t)},t}(Kt),cp=n(4335),lp=function(){return lp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},lp.apply(this,arguments)},fp=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})},dp=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},hp=new o("AWSS3ProviderManagedUpload"),pp=function(){function e(e,t,n){this.minPartSize=5242880,this.queueSize=4,this.body=null,this.params=null,this.opts=null,this.completedParts=[],this.uploadId=null,this.bytesUploaded=0,this.totalBytesToUpload=0,this.emitter=null,this.params=e,this.opts=t,this.emitter=n,this.s3client=this._createNewS3Client(t,n)}return e.prototype.upload=function(){return fp(this,void 0,void 0,function(){var e,t,n,r,i,o,s,a=this;return dp(this,function(u){switch(u.label){case 0:return u.trys.push([0,10,,12]),e=this,[4,this.validateAndSanitizeBody(this.params.Body)];case 1:return e.body=u.sent(),this.totalBytesToUpload=this.byteLength(this.body),this.totalBytesToUpload<=this.minPartSize?(this.params.Body=this.body,t=new tp(this.params),[2,this.s3client.send(t)]):[3,2];case 2:return n=this,[4,this.createMultiPartUpload()];case 3:n.uploadId=u.sent(),r=Math.ceil(this.totalBytesToUpload/this.minPartSize),i=this.createParts(),o=0,u.label=4;case 4:return o<r?[4,this.uploadParts(this.uploadId,i.slice(o,o+this.queueSize))]:[3,7];case 5:u.sent(),u.label=6;case 6:return o+=this.queueSize,[3,4];case 7:return i.map(function(e){a.removeEventListener(e)}),[4,this.finishMultiPartUpload(this.uploadId)];case 8:return[2,u.sent()];case 9:return[3,12];case 10:return s=u.sent(),[4,this.cleanup(this.uploadId)];case 11:throw u.sent(),hp.error("Error. Cancelling the multipart upload."),s;case 12:return[2]}})})},e.prototype.createParts=function(){try{for(var e=[],t=0;t<this.totalBytesToUpload;){var n=Math.min(t+this.minPartSize,this.totalBytesToUpload);e.push({bodyPart:this.body.slice(t,n),partNumber:e.length+1,emitter:new cp.EventEmitter,_lastUploadedBytes:0}),t+=this.minPartSize}return e}catch(e){throw hp.error(e),e}},e.prototype.createMultiPartUpload=function(){return fp(this,void 0,void 0,function(){var e,t,n;return dp(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=new np(this.params),[4,this.s3client.send(e)];case 1:return t=r.sent(),hp.debug(t.UploadId),[2,t.UploadId];case 2:throw n=r.sent(),hp.error(n),n;case 3:return[2]}})})},e.prototype.uploadParts=function(e,t){return fp(this,void 0,void 0,function(){var n,r,i,o=this;return dp(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,Promise.all(t.map(function(t){return fp(o,void 0,void 0,function(){var n,r,i,o,s,a,u;return dp(this,function(c){switch(c.label){case 0:return this.setupEventListener(t),n={emitter:t.emitter},r=this.params,i=r.Key,o=r.Bucket,s=r.SSECustomerAlgorithm,a=r.SSECustomerKey,u=r.SSECustomerKeyMD5,[4,this.s3client.send(new op(lp(lp(lp({PartNumber:t.partNumber,Body:t.bodyPart,UploadId:e,Key:i,Bucket:o},s&&{SSECustomerAlgorithm:s}),a&&{SSECustomerKey:a}),u&&{SSECustomerKeyMD5:u})),n)];case 1:return[2,c.sent()]}})})}))];case 1:for(n=s.sent(),r=0;r<n.length;r++)this.completedParts.push({PartNumber:t[r].partNumber,ETag:n[r].ETag});return[3,3];case 2:throw i=s.sent(),hp.error("Error happened while uploading a part. Cancelling the multipart upload"),i;case 3:return[2]}})})},e.prototype.finishMultiPartUpload=function(e){return fp(this,void 0,void 0,function(){var t,n,r;return dp(this,function(i){switch(i.label){case 0:t={Bucket:this.params.Bucket,Key:this.params.Key,UploadId:e,MultipartUpload:{Parts:this.completedParts}},n=new sp(t),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.s3client.send(n)];case 2:return[2,i.sent().Key];case 3:throw r=i.sent(),hp.error("Error happened while finishing the upload."),r;case 4:return[2]}})})},e.prototype.cleanup=function(e){return fp(this,void 0,void 0,function(){var t,n;return dp(this,function(r){switch(r.label){case 0:return this.body=null,this.completedParts=[],this.bytesUploaded=0,this.totalBytesToUpload=0,t={Bucket:this.params.Bucket,Key:this.params.Key,UploadId:e},[4,this.s3client.send(new ap(t))];case 1:return r.sent(),[4,this.s3client.send(new up(t))];case 2:if((n=r.sent())&&n.Parts&&n.Parts.length>0)throw new Error("Multipart upload clean up failed.");return[2]}})})},e.prototype.removeEventListener=function(e){e.emitter.removeAllListeners(yd),e.emitter.removeAllListeners(md)},e.prototype.setupEventListener=function(e){var t=this;e.emitter.on(yd,function(n){t.progressChanged(e.partNumber,n.loaded-e._lastUploadedBytes),e._lastUploadedBytes=n.loaded})},e.prototype.progressChanged=function(e,t){this.bytesUploaded+=t,this.emitter.emit(yd,{loaded:this.bytesUploaded,total:this.totalBytesToUpload,part:e,key:this.params.Key})},e.prototype.byteLength=function(e){if(null==e)return 0;if("number"==typeof e.byteLength)return e.byteLength;if("number"==typeof e.length)return e.length;if("number"==typeof e.size)return e.size;if("string"!=typeof e.path)throw new Error("Cannot determine length of "+e)},e.prototype.validateAndSanitizeBody=function(e){return fp(this,void 0,void 0,function(){return dp(this,function(t){return this.isGenericObject(e)?[2,JSON.stringify(e)]:[2,e]})})},e.prototype.isGenericObject=function(e){if(null!==e&&"object"==typeof e)try{return!(this.byteLength(e)>=0)}catch(e){return!0}return!1},e.prototype._createNewS3Client=function(e,t){var n=ep(e,t);return n.middlewareStack.add(Jh(this.opts,this.params.Key),Xh),n.middlewareStack.add(Yh(n.config),Zh),n},e}(),gp=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})},vp=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},yp=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},mp=new o("AWSS3UploadTask");function bp(e,t){return e.PartNumber-t.PartNumber}!function(e){e[e.INIT=0]="INIT",e[e.IN_PROGRESS=1]="IN_PROGRESS",e[e.PAUSED=2]="PAUSED",e[e.CANCELLED=3]="CANCELLED",e[e.COMPLETED=4]="COMPLETED"}(rp||(rp={})),function(e){e.CANCEL="cancel",e.UPLOAD_COMPLETE="uploadComplete",e.UPLOAD_PROGRESS="uploadPartProgress",e.ERROR="error"}(ip||(ip={}));var Sp=function(){function e(e){var t=e.s3Client,n=e.file,r=e.emitter,i=e.storage,o=e.params,s=e.level,a=e.prefixPromise;this.partSize=5242880,this.queueSize=4,this.inProgress=[],this.completedParts=[],this.queued=[],this.bytesUploaded=0,this.totalBytes=0,this.state=rp.INIT,this.prefixPromise=a,this.s3client=t,this.s3client.middlewareStack.remove(Ed),this.storage=i,this.storageSync=Promise.resolve(),"function"==typeof this.storage.sync&&(this.storageSync=this.storage.sync()),this.params=o,this.file=n,this.totalBytes=this.file.size,this.bytesUploaded=0,this.emitter=r,this.queued=[],this.fileId=this._getFileId(s),this._validateParams(),this.emitter.on(ip.ERROR,function(){})}return Object.defineProperty(e.prototype,"percent",{get:function(){return this.bytesUploaded/this.totalBytes*100},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isInProgress",{get:function(){return this.state===rp.IN_PROGRESS},enumerable:!0,configurable:!0}),e.prototype._listSingleFile=function(e){var t=e.key,n=e.bucket;return gp(this,void 0,void 0,function(){var e,r,i,o;return vp(this,function(s){switch(s.label){case 0:return[4,this.s3client.send(new sd({Bucket:n,Prefix:t}))];case 1:return e=s.sent(),r=e.Contents,i=void 0===r?[]:r,[4,this.prefixPromise];case 2:return o=s.sent(),[2,i.find(function(e){return e.Key===""+o+t})]}})})},e.prototype._getFileId=function(e){return void 0!==(t=this.file)&&t instanceof File?[this.file.name,this.file.lastModified,this.file.size,this.file.type,this.params.Bucket,e,this.params.Key].join("-"):[this.file.size,this.file.type,this.params.Bucket,e,this.params.Key].join("-");var t},e.prototype._findCachedUploadParts=function(){return gp(this,void 0,void 0,function(){var e,t;return vp(this,function(n){switch(n.label){case 0:return[4,this._listCachedUploadTasks()];case 1:return e=n.sent(),0!==Object.keys(e).length&&Object.prototype.hasOwnProperty.call(e,this.fileId)?((t=e[this.fileId]).lastTouched=Date.now(),this.storage.setItem(Cd,JSON.stringify(e)),[4,this.s3client.send(new up({Bucket:this.params.Bucket,Key:this.params.Key,UploadId:t.uploadId}))]):[2,{parts:[],uploadId:null}];case 2:return[2,{parts:n.sent().Parts||[],uploadId:t.uploadId}]}})})},e.prototype._emitEvent=function(e,t){this.emitter.emit(e,t)},e.prototype._validateParams=function(){if(this.file.size/this.partSize>1e4)throw new Error("Too many parts. Number of parts is "+this.file.size/this.partSize+", maximum is 10000.")},e.prototype._listCachedUploadTasks=function(){return gp(this,void 0,void 0,function(){var e;return vp(this,function(t){switch(t.label){case 0:return[4,this.storageSync];case 1:return t.sent(),e=this.storage.getItem(Cd)||"{}",[2,JSON.parse(e)]}})})},e.prototype._cache=function(e){return gp(this,void 0,void 0,function(){var t;return vp(this,function(n){switch(n.label){case 0:return[4,this._listCachedUploadTasks()];case 1:return(t=n.sent())[this.fileId]=e,this.storage.setItem(Cd,JSON.stringify(t)),[2]}})})},e.prototype._isCached=function(){return gp(this,void 0,void 0,function(){var e,t;return vp(this,function(n){switch(n.label){case 0:return t=(e=Object.prototype.hasOwnProperty).call,[4,this._listCachedUploadTasks()];case 1:return[2,t.apply(e,[n.sent(),this.fileId])]}})})},e.prototype._removeFromCache=function(){return gp(this,void 0,void 0,function(){var e;return vp(this,function(t){switch(t.label){case 0:return[4,this._listCachedUploadTasks()];case 1:return delete(e=t.sent())[this.fileId],this.storage.setItem(Cd,JSON.stringify(e)),[2]}})})},e.prototype._onPartUploadCompletion=function(e){var t=e.eTag,n=e.partNumber,r=e.chunk;return gp(this,void 0,void 0,function(){return vp(this,function(e){return this.completedParts.push({ETag:t,PartNumber:n}),this.bytesUploaded+=function(e){if("string"==typeof e)return e.length;if(function(e){return void 0!==e&&e instanceof ArrayBuffer}(e))return e.byteLength;if(function(e){return void 0!==e&&e instanceof Blob}(e))return e.size;throw new Error("Cannot determine byte length of "+e)}(r),this._emitEvent(ip.UPLOAD_PROGRESS,{loaded:this.bytesUploaded,total:this.totalBytes}),this.inProgress=this.inProgress.filter(function(e){return e.uploadPartInput.PartNumber!==n}),this.queued.length&&this.state!==rp.PAUSED&&this._startNextPart(),this._isDone()&&this._completeUpload(),[2]})})},e.prototype._completeUpload=function(){return gp(this,void 0,void 0,function(){var e;return vp(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.s3client.send(new sp({Bucket:this.params.Bucket,Key:this.params.Key,UploadId:this.uploadId,MultipartUpload:{Parts:this.completedParts.sort(bp)}}))];case 1:return t.sent(),this._verifyFileSize(),this._emitEvent(ip.UPLOAD_COMPLETE,{key:this.params.Bucket+"/"+this.params.Key}),this._removeFromCache(),this.state=rp.COMPLETED,[3,3];case 2:return e=t.sent(),mp.error("error completing upload",e),this._emitEvent(ip.ERROR,e),[3,3];case 3:return[2]}})})},e.prototype._makeUploadPartRequest=function(e,t){return gp(this,void 0,void 0,function(){var n,r;return vp(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,this.s3client.send(new op(e),{cancelTokenSource:t})];case 1:return n=i.sent(),[4,this._onPartUploadCompletion({eTag:n.ETag,partNumber:e.PartNumber,chunk:e.Body})];case 2:return i.sent(),[3,4];case 3:return r=i.sent(),this.state===rp.PAUSED?mp.log("upload paused"):this.state===rp.CANCELLED?mp.log("upload aborted"):mp.error("error starting next part of upload: ",r),pd().isCancel(r)||r.message===fd.UPLOAD_PAUSED_MESSAGE||(this._emitEvent(ip.ERROR,r),this.pause()),[3,4];case 4:return[2]}})})},e.prototype._startNextPart=function(){if(this.queued.length>0&&this.state!==rp.PAUSED){var e=pd().CancelToken.source(),t=this.queued.shift();this.inProgress.push({uploadPartInput:t,s3Request:this._makeUploadPartRequest(t,e),cancel:e.cancel})}},e.prototype._verifyFileSize=function(){return gp(this,void 0,void 0,function(){var e,t;return vp(this,function(n){switch(n.label){case 0:return[4,this._listSingleFile({key:this.params.Key,bucket:this.params.Bucket})];case 1:if(e=n.sent(),!(t=Boolean(e&&e.Size===this.file.size)))throw new Error("File size does not match between local file and file on s3");return[2,t]}})})},e.prototype._isDone=function(){return!this.queued.length&&!this.inProgress.length&&this.bytesUploaded===this.totalBytes},e.prototype._createParts=function(){for(var e=this.file.size,t=[],n=0;n<e;){var r=Math.min(n+this.partSize,e);t.push({Body:this.file.slice(n,r),Key:this.params.Key,Bucket:this.params.Bucket,PartNumber:t.length+1,UploadId:this.uploadId}),n+=this.partSize}return t},e.prototype._initCachedUploadParts=function(e){this.bytesUploaded+=e.reduce(function(e,t){return e+t.Size},0);var t=new Set(e.map(function(e){return e.PartNumber}));this.queued=this.queued.filter(function(e){return!t.has(e.PartNumber)}),this.completedParts=e.map(function(e){return{PartNumber:e.PartNumber,ETag:e.ETag}}),this._emitEvent(ip.UPLOAD_PROGRESS,{loaded:this.bytesUploaded,total:this.totalBytes})},e.prototype._initMultipartUpload=function(){return gp(this,void 0,void 0,function(){var e;return vp(this,function(t){switch(t.label){case 0:return[4,this.s3client.send(new np(this.params))];case 1:return e=t.sent(),this._cache({uploadId:e.UploadId,lastTouched:Date.now(),bucket:this.params.Bucket,key:this.params.Key,fileName:this.file instanceof File?this.file.name:""}),[2,e.UploadId]}})})},e.prototype._initializeUploadTask=function(){return gp(this,void 0,void 0,function(){var e,t,n,r;return vp(this,function(i){switch(i.label){case 0:this.state=rp.IN_PROGRESS,i.label=1;case 1:return i.trys.push([1,7,,8]),[4,this._isCached()];case 2:return i.sent()?[4,this._findCachedUploadParts()]:[3,4];case 3:return e=i.sent(),t=e.parts,n=e.uploadId,this.uploadId=n,this.queued=this._createParts(),this._initCachedUploadParts(t),this._startUpload(),[3,6];case 4:return this.uploadId?[3,6]:[4,this._initMultipartUpload()];case 5:n=i.sent(),this.uploadId=n,this.queued=this._createParts(),this._startUpload(),i.label=6;case 6:return[3,8];case 7:return r=i.sent(),pd().isCancel(r)||mp.error("Error initializing the upload task",r),[3,8];case 8:return[2]}})})},e.prototype.resume=function(){this.state===rp.CANCELLED?mp.warn("This task has already been cancelled"):this.state===rp.COMPLETED?mp.warn("This task has already been completed"):this.state===rp.IN_PROGRESS?mp.warn("Upload task already in progress"):this.uploadId?this._startUpload():this._initializeUploadTask()},e.prototype._startUpload=function(){this.state=rp.IN_PROGRESS;for(var e=0;e<this.queueSize;e++)this._startNextPart()},e.prototype._cancel=function(){return gp(this,void 0,void 0,function(){var e;return vp(this,function(t){switch(t.label){case 0:return this.state!==rp.CANCELLED?[3,1]:(mp.warn("This task has already been cancelled"),[2,!1]);case 1:return this.state!==rp.COMPLETED?[3,2]:(mp.warn("This task has already been completed"),[2,!1]);case 2:this.pause(),this.queued=[],this.completedParts=[],this.bytesUploaded=0,this.state=rp.CANCELLED,t.label=3;case 3:return t.trys.push([3,6,,7]),[4,this.s3client.send(new ap({Bucket:this.params.Bucket,Key:this.params.Key,UploadId:this.uploadId}))];case 4:return t.sent(),[4,this._removeFromCache()];case 5:return t.sent(),[2,!0];case 6:return e=t.sent(),mp.error("Error cancelling upload task",e),[2,!1];case 7:return[2]}})})},e.prototype.pause=function(){var e;this.state===rp.CANCELLED?mp.warn("This task has already been cancelled"):this.state===rp.COMPLETED?mp.warn("This task has already been completed"):this.state===rp.PAUSED&&mp.warn("This task is already paused"),this.state=rp.PAUSED;var t=this.inProgress.splice(0,this.inProgress.length);t.forEach(function(e){e.cancel(fd.UPLOAD_PAUSED_MESSAGE)}),(e=this.queued).unshift.apply(e,function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(yp(arguments[t]));return e}(t.map(function(e){return e.uploadPartInput})))},e}(),wp=function(){return wp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},wp.apply(this,arguments)},_p=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})},Ep=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},Cp=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},Ap=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Cp(arguments[t]));return e},Pp=new o("AWSS3Provider"),xp="public",kp=function(){function e(e){var t=this;this._config=e||{},this._storage=(new R).getStorage(),U.listen("auth",function(e){var n=e.payload;"signOut"!==n.event&&"signIn"!==n.event||t._storage.removeItem(Cd)}),Pp.debug("Storage Options",this._config)}return e.prototype.getCategory=function(){return e.CATEGORY},e.prototype.getProviderName=function(){return e.PROVIDER_NAME},e.prototype.configure=function(e){if(Pp.debug("configure Storage",e),!e)return this._config;var t=pi.parseMobilehubConfig(e);return this._config=Object.assign({},this._config,t.Storage),this._config.bucket||Pp.debug("Do not have bucket yet"),this._config},e.prototype.startResumableUpload=function(e,t){var n=e.s3Client,r=e.emitter,i=e.key,o=e.file,s=e.params,a=t.progressCallback,u=t.completeCallback,c=t.errorCallback,l=t.track,f=void 0!==l&&l;if(!(o instanceof Blob))throw new Error(cd.INVALID_BLOB);r.on(ip.UPLOAD_PROGRESS,function(e){a&&("function"==typeof a?a(e):Pp.warn("progressCallback should be a function, not a "+typeof a))}),r.on(ip.UPLOAD_COMPLETE,function(e){u&&("function"==typeof u?u(e):Pp.warn("completeCallback should be a function, not a "+typeof u))}),r.on(ip.ERROR,function(e){c&&("function"==typeof c?c(e):Pp.warn("errorCallback should be a function, not a "+typeof c))});var d=li.get().then(function(e){var n=li.shear(e);return $h(wp(wp({},t),{credentials:n}))}),h=new Sp({s3Client:n,file:o,emitter:r,level:t.level,storage:this._storage,params:s,prefixPromise:d});return Ad(f,"upload",{method:"put",result:"success"},null,"Upload Task created successfully for "+i),h.resume(),h},e.prototype.copy=function(e,t,n){return _p(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,f,d,h,p,g,v,y,m,b,S,w,_,E,C,A,P,x;return Ep(this,function(k){switch(k.label){case 0:return[4,this._ensureCredentials()];case 1:if(!k.sent()||!this._isWithCredentials(this._config))throw new Error(cd.NO_CREDENTIALS);if(r=Object.assign({},this._config,n),i=r.acl,o=r.bucket,s=r.cacheControl,a=r.expires,u=r.track,c=r.serverSideEncryption,l=r.SSECustomerAlgorithm,f=r.SSECustomerKey,d=r.SSECustomerKeyMD5,h=r.SSEKMSKeyId,p=e.level,g=void 0===p?xp:p,v=e.identityId,y=e.key,m=t.level,b=void 0===m?xp:m,S=t.key,!y||"string"!=typeof y)throw new Error(cd.NO_SRC_KEY);if(!S||"string"!=typeof S)throw new Error(cd.NO_DEST_KEY);"protected"!==g&&v&&Pp.warn('You may copy files from another user if the source level is "protected", currently it\'s '+g),w=this._prefix(wp(wp(wp({},r),{level:g}),v&&{identityId:v})),_=this._prefix(wp(wp({},r),{level:b})),E=o+"/"+w+y,C=""+_+S,Pp.debug("copying "+E+" to "+C),A={Bucket:o,CopySource:E,Key:C,MetadataDirective:"COPY"},s&&(A.CacheControl=s),a&&(A.Expires=a),c&&(A.ServerSideEncryption=c),l&&(A.SSECustomerAlgorithm=l),f&&(A.SSECustomerKey=f),d&&(A.SSECustomerKeyMD5=d),h&&(A.SSEKMSKeyId=h),i&&(A.ACL=i),P=this._createNewS3Client(r),k.label=2;case 2:return k.trys.push([2,4,,5]),[4,P.send(new rd(A))];case 3:return k.sent(),Ad(u,"copy",{method:"copy",result:"success"},null,"Copy success from "+y+" to "+S),[2,{key:S}];case 4:throw x=k.sent(),Ad(u,"copy",{method:"copy",result:"failed"},null,"Copy failed from "+y+" to "+S),x;case 5:return[2]}})})},e.prototype.get=function(e,t){return _p(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,f,d,h,p,g,v,y,m,b,S,w,_,E,C,A,P,x,k;return Ep(this,function(I){switch(I.label){case 0:return[4,this._ensureCredentials()];case 1:if(!I.sent()||!this._isWithCredentials(this._config))throw new Error(cd.NO_CREDENTIALS);if(n=Object.assign({},this._config,t),r=n.bucket,i=n.download,o=n.cacheControl,s=n.contentDisposition,a=n.contentEncoding,u=n.contentLanguage,c=n.contentType,l=n.expires,f=n.track,d=n.SSECustomerAlgorithm,h=n.SSECustomerKey,p=n.SSECustomerKeyMD5,g=n.progressCallback,v=this._prefix(n),y=v+e,m=new cp.EventEmitter,b=this._createNewS3Client(n,m),Pp.debug("get "+e+" from "+y),S={Bucket:r,Key:y},o&&(S.ResponseCacheControl=o),s&&(S.ResponseContentDisposition=s),a&&(S.ResponseContentEncoding=a),u&&(S.ResponseContentLanguage=u),c&&(S.ResponseContentType=c),d&&(S.SSECustomerAlgorithm=d),h&&(S.SSECustomerKey=h),p&&(S.SSECustomerKeyMD5=p),!0!==i)return[3,5];w=new id(S),I.label=2;case 2:return I.trys.push([2,4,,5]),g&&("function"==typeof g?m.on(md,function(e){g(e)}):Pp.warn("progressCallback should be a function, not a "+typeof g)),[4,b.send(w)];case 3:return _=I.sent(),m.removeAllListeners(md),Ad(f,"download",{method:"get",result:"success"},{fileSize:Number(_.Body.size||_.Body.length)},"Download success for "+e),[2,_];case 4:throw E=I.sent(),Ad(f,"download",{method:"get",result:"failed"},null,"Download failed with "+E.message),E;case 5:return I.trys.push([5,8,,9]),C=new dd(wp({},b.config)),[4,ud(b,new id(S))];case 6:return A=I.sent(),x=ad,[4,C.presign(A,{expiresIn:l||900})];case 7:return P=x.apply(void 0,[I.sent()]),Ad(f,"getSignedUrl",{method:"get",result:"success"},null,"Signed URL: "+P),[2,P];case 8:throw k=I.sent(),Pp.warn("get signed url error",k),Ad(f,"getSignedUrl",{method:"get",result:"failed"},null,"Could not get a signed URL for "+e),k;case 9:return[2]}})})},e.prototype.put=function(e,t,n){var r=Object.assign({},this._config,n),i=r.bucket,o=r.track,s=r.progressCallback,a=r.level,u=r.resumable,c=r.contentType,l=r.contentDisposition,f=r.contentEncoding,d=r.cacheControl,h=r.expires,p=r.metadata,g=r.tagging,v=r.acl,y=r.serverSideEncryption,m=r.SSECustomerAlgorithm,b=r.SSECustomerKey,S=r.SSECustomerKeyMD5,w=r.SSEKMSKeyId,_={Bucket:i,Key:e,Body:t,ContentType:c||"binary/octet-stream"};d&&(_.CacheControl=d),l&&(_.ContentDisposition=l),f&&(_.ContentEncoding=f),h&&(_.Expires=h),p&&(_.Metadata=p),g&&(_.Tagging=g),y&&(_.ServerSideEncryption=y),m&&(_.SSECustomerAlgorithm=m),b&&(_.SSECustomerKey=b),S&&(_.SSECustomerKeyMD5=S),w&&(_.SSEKMSKeyId=w);var E=new cp.EventEmitter,C=new pp(_,r,E);if(v&&(_.ACL=v),!0===u){var A=this._createNewS3Client(r);A.middlewareStack.add(Jh(r,e),Xh);var P={bucket:i,key:e,s3Client:A,file:t,emitter:E,accessLevel:a,params:_};return this.startResumableUpload(P,n)}try{return s&&("function"==typeof s?E.on(yd,function(e){s(e)}):Pp.warn("progressCallback should be a function, not a "+typeof s)),C.upload().then(function(t){return Pp.debug("upload result",t),Ad(o,"upload",{method:"put",result:"success"},null,"Upload success for "+e),{key:e}})}catch(t){throw Pp.warn("error uploading",t),Ad(o,"upload",{method:"put",result:"failed"},null,"Error uploading "+e),t}},e.prototype.remove=function(e,t){return _p(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l;return Ep(this,function(f){switch(f.label){case 0:return[4,this._ensureCredentials()];case 1:if(!f.sent()||!this._isWithCredentials(this._config))throw new Error(cd.NO_CREDENTIALS);n=Object.assign({},this._config,t),r=n.bucket,i=n.track,o=this._prefix(n),s=o+e,a=this._createNewS3Client(n),Pp.debug("remove "+e+" from "+s),u=new od({Bucket:r,Key:s}),f.label=2;case 2:return f.trys.push([2,4,,5]),[4,a.send(u)];case 3:return c=f.sent(),Ad(i,"delete",{method:"remove",result:"success"},null,"Deleted "+e+" successfully"),[2,c];case 4:throw l=f.sent(),Ad(i,"delete",{method:"remove",result:"failed"},null,"Deletion of "+e+" failed with "+l),l;case 5:return[2]}})})},e.prototype._list=function(e,t,n){return _p(this,void 0,void 0,function(){var r,i,o,s;return Ep(this,function(a){switch(a.label){case 0:return r={contents:[],nextToken:""},i=this._createNewS3Client(t),o=new sd(wp({},e)),[4,i.send(o)];case 1:return(s=a.sent())&&s.Contents&&(r.contents=s.Contents.map(function(e){return{key:e.Key.substr(n.length),eTag:e.ETag,lastModified:e.LastModified,size:e.Size}}),r.nextToken=s.NextContinuationToken),[2,r]}})})},e.prototype.list=function(e,t){return _p(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,f,d;return Ep(this,function(h){switch(h.label){case 0:return[4,this._ensureCredentials()];case 1:if(!h.sent()||!this._isWithCredentials(this._config))throw new Error(cd.NO_CREDENTIALS);n=Object.assign({},this._config,t),r=n.bucket,i=n.track,o=n.maxKeys,s=this._prefix(n),a=s+e,Pp.debug("list "+e+" from "+a),h.label=2;case 2:if(h.trys.push([2,10,,11]),u=[],c=void 0,l=void 0,f={Bucket:r,Prefix:a,MaxKeys:1e3},"ALL"!==o)return[3,7];h.label=3;case 3:return f.ContinuationToken=c,f.MaxKeys=1e3,[4,this._list(f,n,s)];case 4:l=h.sent(),u.push.apply(u,Ap(l.contents)),l.nextToken&&(c=l.nextToken),h.label=5;case 5:if(l.nextToken)return[3,3];h.label=6;case 6:return[3,9];case 7:return f.MaxKeys=o<1e3||"string"==typeof o?o:1e3,[4,this._list(f,n,s)];case 8:l=h.sent(),u.push.apply(u,Ap(l.contents)),o>1e3&&Pp.warn("maxkeys can be from 0 - 1000 or 'ALL'. To list all files you can set maxKeys to 'ALL'."),h.label=9;case 9:return Ad(i,"list",{method:"list",result:"success"},null,u.length+" items returned from list operation"),Pp.debug("list",u),[2,u];case 10:throw d=h.sent(),Pp.warn("list error",d),Ad(i,"list",{method:"list",result:"failed"},null,"Listing items failed: "+d.message),d;case 11:return[2]}})})},e.prototype._ensureCredentials=function(){return _p(this,void 0,void 0,function(){var e,t,n;return Ep(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,li.get()];case 1:return(e=r.sent())?(t=li.shear(e),Pp.debug("set credentials for storage",t),this._config.credentials=t,[2,!0]):[2,!1];case 2:return n=r.sent(),Pp.warn("ensure credentials error",n),[2,!1];case 3:return[2]}})})},e.prototype._isWithCredentials=function(e){return"object"==typeof e&&e.hasOwnProperty("credentials")},e.prototype._prefix=function(e){var t=e.credentials,n=e.level,r=e.customPrefix||{},i=e.identityId||t.identityId,o=(void 0!==r.private?r.private:"private/")+i+"/",s=(void 0!==r.protected?r.protected:"protected/")+i+"/",a=void 0!==r.public?r.public:"public/";switch(n){case"private":return o;case"protected":return s;default:return a}},e.prototype._createNewS3Client=function(e,t){var n=ep(e,t);return n.middlewareStack.add(Yh(n.config),Zh),n},e.CATEGORY="Storage",e.PROVIDER_NAME="AWSS3",e}(),Ip=function(){return Ip=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ip.apply(this,arguments)},Tp=new o("StorageClass"),Op="AWSS3",Up=function(){function e(){this._config={},this._pluggables=[],this._cancelTokenSourceMap=new WeakMap,Tp.debug("Storage Options",this._config),this.get=this.get.bind(this),this.put=this.put.bind(this),this.remove=this.remove.bind(this),this.list=this.list.bind(this)}return e.prototype.getModuleName=function(){return"Storage"},e.prototype.addPluggable=function(e){if(e&&"Storage"===e.getCategory())return this._pluggables.push(e),e.configure(this._config[e.getProviderName()])},e.prototype.getPluggable=function(e){var t=this._pluggables.find(function(t){return t.getProviderName()===e});return void 0===t?(Tp.debug("No plugin found with providerName",e),null):t},e.prototype.removePluggable=function(e){this._pluggables=this._pluggables.filter(function(t){return t.getProviderName()!==e})},e.prototype.configure=function(e){var t=this;if(Tp.debug("configure Storage"),!e)return this._config;var n=pi.parseMobilehubConfig(e),r=Object.keys(n.Storage),i=["bucket","region","level","track","customPrefix","serverSideEncryption","SSECustomerAlgorithm","SSECustomerKey","SSECustomerKeyMD5","SSEKMSKeyId"],o=function(e){return i.some(function(t){return t===e})};return r&&r.find(function(e){return o(e)})&&!n.Storage[Op]&&(n.Storage[Op]={}),Object.entries(n.Storage).map(function(e){var t=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}(e,2),r=t[0],i=t[1];r&&o(r)&&void 0!==i&&(n.Storage[Op][r]=i,delete n.Storage[r])}),Object.keys(n.Storage).forEach(function(e){"string"!=typeof n.Storage[e]&&(t._config[e]=Ip(Ip({},t._config[e]),n.Storage[e]))}),this._pluggables.forEach(function(e){e.configure(t._config[e.getProviderName()])}),0===this._pluggables.length&&this.addPluggable(new kp),this._config},e.prototype.getCancellableTokenSource=function(){return pd().CancelToken.source()},e.prototype.updateRequestToBeCancellable=function(e,t){this._cancelTokenSourceMap.set(e,t)},e.prototype.isUploadTask=function(e){return void 0!==e&&"function"==typeof e.pause&&"function"==typeof e.resume},e.prototype.cancel=function(e,t){if(e instanceof Sp)return e._cancel();var n=this._cancelTokenSourceMap.get(e);n?n.cancel(t):Tp.debug("The request does not map to any cancel token")},e.prototype.copy=function(e,t,n){var r=(null==n?void 0:n.provider)||Op,i=this._pluggables.find(function(e){return e.getProviderName()===r});if(void 0===i)return Tp.debug("No plugin found with providerName",r),Promise.reject("No plugin found in Storage for the provider");var o=this.getCancellableTokenSource();if("function"!=typeof i.copy)return Promise.reject(".copy is not implemented on provider "+i.getProviderName());var s=i.copy(e,t,Ip(Ip({},n),{cancelTokenSource:o}));return this.updateRequestToBeCancellable(s,o),s},e.prototype.get=function(e,t){var n=(null==t?void 0:t.provider)||Op,r=this._pluggables.find(function(e){return e.getProviderName()===n});if(void 0===r)return Tp.debug("No plugin found with providerName",n),Promise.reject("No plugin found in Storage for the provider");var i=this.getCancellableTokenSource(),o=r.get(e,Ip(Ip({},t),{cancelTokenSource:i}));return this.updateRequestToBeCancellable(o,i),o},e.prototype.isCancelError=function(e){return pd().isCancel(e)},e.prototype.put=function(e,t,n){var r=(null==n?void 0:n.provider)||Op,i=this._pluggables.find(function(e){return e.getProviderName()===r});if(void 0===i)return Tp.debug("No plugin found with providerName",r),Promise.reject("No plugin found in Storage for the provider");var o=this.getCancellableTokenSource(),s=i.put(e,t,Ip(Ip({},n),{cancelTokenSource:o}));return this.isUploadTask(s)||this.updateRequestToBeCancellable(s,o),s},e.prototype.remove=function(e,t){var n=(null==t?void 0:t.provider)||Op,r=this._pluggables.find(function(e){return e.getProviderName()===n});return void 0===r?(Tp.debug("No plugin found with providerName",n),Promise.reject("No plugin found in Storage for the provider")):r.remove(e,t)},e.prototype.list=function(e,t){var n=(null==t?void 0:t.provider)||Op,r=this._pluggables.find(function(e){return e.getProviderName()===n});return void 0===r?(Tp.debug("No plugin found with providerName",n),Promise.reject("No plugin found in Storage for the provider")):r.list(e,t)},e}(),Mp=function(){return Mp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Mp.apply(this,arguments)},Lp=new o("Storage"),Rp=null,Np=function(){if(Rp)return Rp;Lp.debug("Create Storage Instance, debug"),(Rp=new Up).vault=new Up;var e=Rp.configure;return Rp.configure=function(t){Lp.debug("storage configure called");var n=Mp({},e.call(Rp,t));Object.keys(n).forEach(function(e){"string"!=typeof n[e]&&(n[e]=Mp(Mp({},n[e]),{level:"private"}))}),Lp.debug("storage vault configure called"),Rp.vault.configure(n)},Rp}();a.register(Np),n(152),a.Auth=rs,a.Cache=ps,a.ServiceWorker=C,a.configure({Auth:{region:"us-east-2",userPoolId:"us-east-2_f7ZPo0sAY",userPoolWebClientId:"5tmo99341gnafobp9h5actl3g2",oauth:{domain:"us-east-2f7zpo0say.auth.us-east-2.amazoncognito.com",scope:["email","openid","profile"],redirectSignIn:"https://www.matthewthomasbeck.com/pages/controller.html",redirectSignOut:"https://www.matthewthomasbeck.com/pages/controller.html",responseType:"code"}}});const Dp=document.querySelector(".childDiv");!async function(){try{const e=await rs.currentAuthenticatedUser(),t=(await rs.currentSession()).getAccessToken().getJwtToken(),n=JSON.parse(atob(t.split(".")[1]))["cognito:groups"]||[];n.includes("owner")||n.includes("privileged")?Dp.innerHTML=`\n        <div class="statusBox success">\n           Access Granted  You are logged in as <strong>${e.getUsername()}</strong>\n        </div>\n        <h1>Robot Controller </h1>\n        <div id="videoStreamPlaceholder">\n          <p>[ Video Stream Loading... or Robot is Off ]</p>\n        </div>\n        <p class="controllerInstructions">Use <strong>WASD</strong> or <strong>Arrow Keys</strong> to control the robot.</p>\n        <div id="status">Ready</div>\n      `:Dp.innerHTML="\n        <div class=\"statusBox denied\">\n           Access Denied  You are not in the 'owner' or 'privileged' group.\n        </div>\n        <h1>Access Denied</h1>\n        <p>Please contact the site administrator if you believe this is an error.</p>\n      "}catch(e){console.warn("[Controller] Not authenticated or session invalid:",e),Dp.innerHTML='\n      <div class="statusBox denied">\n         Access Denied  You are not logged in.\n      </div>\n      <h1>Access Denied</h1>\n      <p>You must be <a href="https://us-east-2f7zpo0say.auth.us-east-2.amazoncognito.com/login?client_id=5tmo99341gnafobp9h5actl3g2&redirect_uri=https%3A%2F%2Fwww.matthewthomasbeck.com%2Fpages%2Fcontroller.html&response_type=code&scope=email+openid+profile">logged in</a> to access the controller.</p>\n    '}}()})()})();